{"remainingRequest":"/home/kouevi/mmc_web_pro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kouevi/mmc_web_pro/src/components/espace_promoteur/SelectionnerProgrammeImmobilier.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kouevi/mmc_web_pro/src/components/espace_promoteur/SelectionnerProgrammeImmobilier.vue","mtime":1664557440650},{"path":"/home/kouevi/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmc_web_pro/node_modules/babel-loader/lib/index.js","mtime":1663945505798},{"path":"/home/kouevi/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmc_web_pro/node_modules/vue-loader/lib/index.js","mtime":1663945506422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgogICAgaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKCiAgICBpbXBvcnQgJCBmcm9tICdqcXVlcnknCgogICAgaW1wb3J0IHsgQVBJX09CVEVOSVJfTElTVEVfUFJPR1JBTU1FX0lNTU9CSUxJRVJfUEFSX1BST01PVEVVUiwgQVBJX1NVUFBSSU1FUl9QUk9HUkFNTUVfSU1NT0JJTElFUiB9IGZyb20gJy4uL2dsb2JhbENvbmZpZy9nbG9iYWxDb25maWcnOwoKICAgIGV4cG9ydCBkZWZhdWx0IHsKICAgICAgICAKICAgICAgICBuYW1lIDogIlNlbGVjdGlvbm5lclByb2dyYW1tZUltbW9iaWxpZXIiLAoKICAgICAgICBkYXRhKCl7CgogICAgICAgICAgICByZXR1cm57CgogICAgICAgICAgICAgICAgaGVhZGVyczpbCgogICAgICAgICAgICAgICAgICAgIHsgdGV4dCA6ICdDb2RlJyB9LAoKICAgICAgICAgICAgICAgICAgICB7IHRleHQgOiAnRGVzaWduYXRpb24nIH0sCgogICAgICAgICAgICAgICAgICAgIHsgdGV4dCA6ICdWaWxsZScgfSwKCiAgICAgICAgICAgICAgICAgICAgeyB0ZXh0IDogJ1ZhbGlkZScgfSwKCiAgICAgICAgICAgICAgICAgICAgeyB0ZXh0IDogJ0FjdGlvbnMnICwgdmFsdWU6ICdBY3Rpb25zJyAsIHNvcnRhYmxlOiBmYWxzZSB9CgogICAgICAgICAgICAgICAgXSwKCiAgICAgICAgICAgICAgICB2YWxpZGF0ZVByb2dyYW1tZUltbW9iaWxpZXIgOiB0cnVlLAoKICAgICAgICAgICAgICAgIHByb2dyYW1tZUltbW9iaWxpZXJMaXN0OiBbXSwKCiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKICAgICAgICAKICAgICAgICBtZXRob2RzOiB7CgogICAgICAgICAgICB2YWxpZGF0ZVByb2dyYW1tZVJvdyhwcm9ncmFtbWUpewoKICAgICAgICAgICAgICAgIHZhciBwYXJzZWRQcm9ncmFtbWUgPSBKU09OLnN0cmluZ2lmeShwcm9ncmFtbWUpOwoKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9ncmFtbWVJbW1vYmlsaWVyJywgcGFyc2VkUHJvZ3JhbW1lKTsKCiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbW9kZVZhbGlkYXRlJyAsIHRoaXMudmFsaWRhdGVQcm9ncmFtbWVJbW1vYmlsaWVyKQoKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lIDogJ1Byb2dyYW1tZUltbW9iaWxpZXInfSk7CgogICAgICAgICAgICB9LAoKICAgICAgICAgICAgbW9kaWZ5Um93KHByb2dyYW1tZSkgewoKICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFByb2dyYW1tZSA9IEpTT04uc3RyaW5naWZ5KHByb2dyYW1tZSk7CgogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInByb2dyYW1tZUltbW9iaWxpZXIiLCBwYXJzZWRQcm9ncmFtbWUpOwoKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogIlByb2dyYW1tZUltbW9iaWxpZXIiIH0pOwoKICAgICAgICAgICAgfSwKCgoKICAgICAgICAgICAgZGVsZXRlUHJvZ3JhbW1lSW1tb2JpbGllcihwcm9ncmFtbWUpewoKICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7dGl0bGU6ICdDb25maXJtZXIgPycsdGV4dDogIkNldHRlIGFjdGlvbiBlc3QgaXJyw6l2ZXJzaWJsZSIsaWNvbjogJ3dhcm5pbmcnLHNob3dDYW5jZWxCdXR0b246IHRydWUsCgogICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycsY2FuY2VsQnV0dG9uVGV4dDogJ0FubnVsZXInLGNvbmZpcm1CdXR0b25UZXh0OiAnT3VpICxzdXBwcmltZXIhJwoKICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT57CgogICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5pc0NvbmZpcm1lZCl7CgogICAgICAgICAgICAgICAgICAgICAgICBheGlvcy5kZWxldGUoQVBJX1NVUFBSSU1FUl9QUk9HUkFNTUVfSU1NT0JJTElFUihwcm9ncmFtbWUuaWQpKQoKICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YSA9PSB0cnVlKSB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSgnU3VwcHJpbcOpIScsJ0xlIHByb2dyYW1tZSBpbW1vYmlsaWVyLCBhIGJpZW4gZXRlIHN1cHByaW3DqS4nLCdzdWNjZXNzJykKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmPSJodHRwczovL2xvY2FsaG9zdDo4MDgwL1Byb2dyYW1tZUltbW9iaWxpZXJMaXN0IjsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwxMDAwKTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoJ0VycmV1ciEnICwgJ0VjaGVjIGRlIGxhIHN1cHByZXNzaW9uIGR1IGxvZ2VtZW50LicgLCAnZXJyb3InKQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlID0+IHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoe2ljb246ICdlcnJvcicsdGl0bGU6ICdFcnJldXIuLi4nLHRleHQ6IGV9KQoKICAgICAgICAgICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIAogICAgICAgICAgICB9LAoKCiAgICAgICAgICAgIGNyZWF0ZU5ld1Byb2dyYW1tZSgpIHsKCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJQcm9ncmFtbWVJbW1vYmlsaWVyIiB9KTsKCiAgICAgICAgICAgIH0sCgogICAgICAgICAgICAKCiAgICBhc3luYyBnZXRQcm9ncmFtbWVJbW1vYmlsaWVyTGlzdCgpewoKICAgICAgYXdhaXQgYXhpb3MKCiAgICAgIC5nZXQoQVBJX09CVEVOSVJfTElTVEVfUFJPR1JBTU1FX0lNTU9CSUxJRVJfUEFSX1BST01PVEVVUigicHJvbW90ZXVyMDEiKSkKCiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewoKICAgICAgICB0aGlzLnByb2dyYW1tZUltbW9iaWxpZXJMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwoKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgICQoIiNwcm9ncmFtbWVJbW1vYmlsaWVycyIpLkRhdGFUYWJsZSgpOwoKICAgICAgICAgIH0sMjAwKTsKCiAgICAgIH0pCgogICAgICAuY2F0Y2goKGUpID0+IHsKCiAgICAgICAgdGhpcy5lcnJvck1zZyA9IGUKCiAgICAgICAgJCgiLm15QWxlcnQtYm90dG9tIikuZmFkZUluKCk7CgogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKCiAgICAgICAgICAkKCIubXlBbGVydC1ib3R0b20iKS5mYWRlT3V0KCk7IAoKICAgICAgICB9LCA0MDAwKQoKICAgICAgfSk7CgogICAgfQogICAgCiAgfSwKCiAgICB9Cg=="},{"version":3,"sources":["SelectionnerProgrammeImmobilier.vue"],"names":[],"mappings":";;AAqCA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;AAIA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;;;AAIA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA","file":"SelectionnerProgrammeImmobilier.vue","sourceRoot":"src/components/espace_promoteur","sourcesContent":["<template>\n\n    <div>\n\n        <v-container> \n          \n            <v-btn text color=\"blue\"> \n\n                <v-icon>mdi-plus-outline</v-icon>NOUVEAU PROGRAMME\n\n            </v-btn>\n\n\n\n            <v-spacer></v-spacer>\n\n            <v-card>\n\n                <v-card-title>PROGRAMMES IMMOBILIERS\n                        \n                <v-spacer></v-spacer>\n\n                <v-text-field v-model=\"search\" append-icon=\"mdi-magnify\" label=\"Search\" single-line hide-details></v-text-field></v-card-title>\n\n                <v-data-table :headers=\"headers\" :items=\"programmeImmobilierList\" :search=\"search\"></v-data-table>\n\n            </v-card>\n\n        </v-container>\n        \n    </div>\n    \n</template>\n\n\n<script>\n\n    import axios from \"axios\";\n\n    import $ from 'jquery'\n\n    import { API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER_PAR_PROMOTEUR, API_SUPPRIMER_PROGRAMME_IMMOBILIER } from '../globalConfig/globalConfig';\n\n    export default {\n        \n        name : \"SelectionnerProgrammeImmobilier\",\n\n        data(){\n\n            return{\n\n                headers:[\n\n                    { text : 'Code' },\n\n                    { text : 'Designation' },\n\n                    { text : 'Ville' },\n\n                    { text : 'Valide' },\n\n                    { text : 'Actions' , value: 'Actions' , sortable: false }\n\n                ],\n\n                validateProgrammeImmobilier : true,\n\n                programmeImmobilierList: [],\n\n            }\n\n        },\n        \n        methods: {\n\n            validateProgrammeRow(programme){\n\n                var parsedProgramme = JSON.stringify(programme);\n\n                localStorage.setItem('programmeImmobilier', parsedProgramme);\n\n                localStorage.setItem('modeValidate' , this.validateProgrammeImmobilier)\n\n                this.$router.push({name : 'ProgrammeImmobilier'});\n\n            },\n\n            modifyRow(programme) {\n\n                const parsedProgramme = JSON.stringify(programme);\n\n                localStorage.setItem(\"programmeImmobilier\", parsedProgramme);\n\n                this.$router.push({ name: \"ProgrammeImmobilier\" });\n\n            },\n\n\n\n            deleteProgrammeImmobilier(programme){\n\n                this.$swal.fire({title: 'Confirmer ?',text: \"Cette action est irréversible\",icon: 'warning',showCancelButton: true,\n\n                    confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',cancelButtonText: 'Annuler',confirmButtonText: 'Oui ,supprimer!'\n\n                }).then((result) =>{\n\n                    if(result.isConfirmed){\n\n                        axios.delete(API_SUPPRIMER_PROGRAMME_IMMOBILIER(programme.id))\n\n                        .then(response => {\n                    \n                            if (response.data.data == true) {\n\n                                this.$swal.fire('Supprimé!','Le programme immobilier, a bien ete supprimé.','success')\n\n                                setTimeout(function(){\n\n                                document.location.href=\"https://localhost:8080/ProgrammeImmobilierList\";\n\n                                },1000);\n                        \n                            } else {\n\n                                this.$swal.fire('Erreur!' , 'Echec de la suppression du logement.' , 'error')\n                        \n                            }\n                    \n                        })\n\n                        .catch(e => {\n\n                            this.$swal.fire({icon: 'error',title: 'Erreur...',text: e})\n\n                        })\n\n                    }\n\n                })\n            \n            },\n\n\n            createNewProgramme() {\n\n                this.$router.push({ name: \"ProgrammeImmobilier\" });\n\n            },\n\n            \n\n    async getProgrammeImmobilierList(){\n\n      await axios\n\n      .get(API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER_PAR_PROMOTEUR(\"promoteur01\"))\n\n      .then((response) => {\n\n        this.programmeImmobilierList = response.data.data;\n\n        setTimeout(function () {\n\n            $(\"#programmeImmobiliers\").DataTable();\n\n          },200);\n\n      })\n\n      .catch((e) => {\n\n        this.errorMsg = e\n\n        $(\".myAlert-bottom\").fadeIn();\n\n        setTimeout(function(){\n\n          $(\".myAlert-bottom\").fadeOut(); \n\n        }, 4000)\n\n      });\n\n    }\n    \n  },\n\n    }\n</script>\n\n\n<style scoped>\n\n\n</style>"]}]}