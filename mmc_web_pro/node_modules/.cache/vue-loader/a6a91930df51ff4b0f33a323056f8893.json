{"remainingRequest":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kouevi/mmcwebpro/mmc_web_pro/src/components/espace_client/demandeReservationLogement/SelectionnerDemandeReservationLogement.vue?vue&type=style&index=0&id=29ff9f78&scoped=true&lang=css&","dependencies":[{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/src/components/espace_client/demandeReservationLogement/SelectionnerDemandeReservationLogement.vue","mtime":1668100951820},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/css-loader/dist/cjs.js","mtime":1663945505546},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1663945506522},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/postcss-loader/src/index.js","mtime":1663945505794},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/vue-loader/lib/index.js","mtime":1663945506422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci50aXRsZXsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgY29sb3I6ICMxQjE0NjQ7Cn0KCi50aXRsZV9zaW11bGF0aW9uewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0K"},{"version":3,"sources":["SelectionnerDemandeReservationLogement.vue"],"names":[],"mappings":";AAkMA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"SelectionnerDemandeReservationLogement.vue","sourceRoot":"src/components/espace_client/demandeReservationLogement","sourcesContent":["<template>\n    <v-app>\n        <NavigationBar/>\n        <v-main>\n            <v-container>\n                <p></p>\n                <v-row><p class=\"title\">VOS DEMANDES DE RESERVATIONS</p></v-row>\n            </v-container>\n\n            <v-container>\n                <v-row>\n                    <v-col cols=\"12\" v-for=\"(demandeReservation , d) in demandeReservationListSavingByUser\" :key=\"d\">\n                        <v-card>\n                            <v-list>\n                                <v-list-item>\n                                    <v-list-item-content>\n                                        <v-list-item-title class=\"title_simulation\"> DEMANDE DE RESERVATION {{ d + 1 }}</v-list-item-title>\n                                        <v-list-item-subtitle>Numéro de reference :&nbsp;&nbsp;  ...{{ demandeReservation.id.slice(-10) }}</v-list-item-subtitle>\n                                    </v-list-item-content>\n                    \n                                    <v-list-item-action>\n                                        <v-menu bottom right>\n                                            <template v-slot:activator=\"{ on, attrs }\">\n                                                <v-btn icon v-bind=\"attrs\" v-on=\"on\"><v-icon>mdi-dots-horizontal</v-icon></v-btn>\n                                            </template>\n  \n                                            <v-list>\n                                                <v-list-item link>\n                                                    <v-list-item-action><v-icon>mdi-pencil</v-icon></v-list-item-action>                         \n                                                    <v-list-item-subtitle>Editer</v-list-item-subtitle>\n                                                </v-list-item>\n\n                                                <v-list-item link @click=\"annulerDemandeReservationLogement(demandeReservation)\">\n                                                    <v-list-item-action><v-icon>mdi-cog-sync</v-icon></v-list-item-action>                          \n                                                    <v-list-item-subtitle>Annuler</v-list-item-subtitle>\n                                                </v-list-item>\n\n                                                <v-list-item link @click=\"soumettreDemandeReservationLogement(demandeReservation)\">    \n                                                    <v-list-item-action><v-icon>mdi-sync</v-icon></v-list-item-action>                      \n                                                    <v-list-item-subtitle>Soumettre</v-list-item-subtitle>\n                                                </v-list-item>\n\n                                                <v-list-item link @click=\"deleteDemandeReservationLogement(demandeReservation)\">  \n                                                    <v-list-item-action><v-icon>mdi-delete</v-icon></v-list-item-action>                        \n                                                    <v-list-item-subtitle>Supprimer</v-list-item-subtitle>\n                                                </v-list-item>\n\n                                            </v-list>\n                                        </v-menu>\n                                    </v-list-item-action>\n                                </v-list-item>\n\n                                <v-list-item>\n                                    <v-list-item-content>\n                                        <v-list-item-subtitle>Designation :</v-list-item-subtitle>\n                                    </v-list-item-content>\n                    \n                                    <v-list-item-content>\n                                        <v-list-item-subtitle>{{ demandeReservation.designation }}</v-list-item-subtitle>\n                                    </v-list-item-content>\n                                </v-list-item>\n\n                                <v-list-item>\n                                    <v-list-item-content>\n                                        <v-list-item-subtitle>Description :</v-list-item-subtitle>\n                                    </v-list-item-content>\n                    \n                                    <v-list-item-content>\n                                        <v-list-item-subtitle>{{ demandeReservation.description }}</v-list-item-subtitle>\n                                    </v-list-item-content>\n                                </v-list-item>\n                                \n                            </v-list>\n                            \n                        </v-card>\n                    </v-col>\n                </v-row>\n            </v-container>\n        </v-main>\n        <FooterBar/>\n    </v-app>\n</template>\n\n<script>\nimport NavigationBar from '../../layout/navigationBar.vue'\nimport FooterBar from '../../layout/footerBar.vue'\nimport axios from \"axios\"\nimport { API_OBTENIR_LISTE_DEMANDE_RESERVATION_PAR_USER , API_SOUMETTRE_DEMANDE_RESERVATION } from '../../globalConfig/globalConfig'\nimport { API_ANNULER_DEMANDE_RESERVATION , API_SUPPRIMER_DEMANDE_RESERVATION_PAR_ID } from '../../globalConfig/globalConfig'\n\nexport default {\n    name : \"SelectionnerDemandeReservationLogement\",\n    components:{\n        NavigationBar,\n        FooterBar\n    },\n    data(){\n        return{\n            demandeReservationListSavingByUser : [],\n        }\n    },\n\n    methods:{\n        \n        // RECUPERER LA LISTE DE TOUTES LES DEMANDES DE RESERVATIONS ENREGISTRÉES PAR L'UTILISATEUR\n        async getDemandeReservationListSavingByUser(){\n            await axios.get(API_OBTENIR_LISTE_DEMANDE_RESERVATION_PAR_USER(\"faadc15f-2808-44e0-94cc-d0bd841bcf59\")).then((response) => {\n                this.demandeReservationListSavingByUser = response.data.data ;\n            }).catch((e) => {\n                console.log(e)\n            });\n        },\n\n\n        // SUPPRIMER UNE DEMANDE DE RESERVATION\n        async deleteDemandeReservationLogement(demandeReservation){\n            this.$swal.fire({title: 'Confirmer ?',text: \"Cette action est irréversible\",icon: 'warning',showCancelButton: true,\n                confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',cancelButtonText: 'Annuler',confirmButtonText: 'Oui ,supprimer!'\n            }).then((result) =>{\n                if(result.isConfirmed){\n                    axios.delete(API_SUPPRIMER_DEMANDE_RESERVATION_PAR_ID(demandeReservation.id)).then(response => {\n                        if (response.status == 200) {\n                            this.$swal.fire('Supprimé!' , 'La demande a bien été supprimé.' , 'success')\n                            this.getDemandeReservationListSavingByUser();\n                        } else {\n                            this.$swal.fire('Erreur!' , 'Echec de la suppression.' , 'error')  \n                        }\n                    }).catch(e => {\n                        this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n                    })\n                }\n            }).catch(e => {\n                this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n            })\n        },\n\n\n        //SOUMETTRE UNE DEMANDE DE RESERVATION\n        async soumettreDemandeReservationLogement(demandeReservation_id){\n            this.$swal.fire({title: 'Confirmer !',text: \"Voulez vous soumettre cette demande ?\",icon: 'warning',showCancelButton: true,\n                confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',cancelButtonText: 'Annuler',confirmButtonText: 'Transformer!'\n            }).then((result) =>{\n                if(result.isConfirmed){\n                    axios.put(API_SOUMETTRE_DEMANDE_RESERVATION(demandeReservation_id)).then(response => {\n                        if (response.status == 200) {\n                            this.$swal.fire('Transformé!' , 'Votre demande a bien été soumis.' , 'success')\n                        } else {\n                            this.$swal.fire('Erreur!' , 'Echec de la soumission de la demande.' , 'error')  \n                        }                  \n                    }).catch(e => {\n                        this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n                    })\n                }\n            }).catch(e => {\n                this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n            })\n        },\n\n        async annulerDemandeReservationLogement(demandeReservation_id){\n            this.$swal.fire({title: 'Confirmer !',text: \"Voulez vous annuler cette demande ?\",icon: 'warning',showCancelButton: true,\n                confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',cancelButtonText: 'Annuler',confirmButtonText: 'Transformer!'\n            }).then((result) =>{\n                if(result.isConfirmed){\n                    axios.put(API_ANNULER_DEMANDE_RESERVATION(demandeReservation_id)).then(response => {\n                        if (response.status == 200) {\n                            this.$swal.fire('Annulation!' , 'Votre demande a bien été annulée.' , 'success')\n                        } else {\n                            this.$swal.fire('Erreur!' , 'Echec de l\\'annulation de la demande.' , 'error')  \n                        }                  \n                    }).catch(e => {\n                        this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n                    })\n                }\n            })\n        },\n\n    },\n\n    mounted(){\n        this.getDemandeReservationListSavingByUser();\n    }\n}\n</script>\n\n<style scoped>\n    .title{\n        font-weight: bold;\n        color: #1B1464;\n    }\n\n    .title_simulation{\n        font-weight: bold;\n    }\n</style>"]}]}