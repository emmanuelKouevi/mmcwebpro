{"remainingRequest":"/home/kouevi/mmc_web_pro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kouevi/mmc_web_pro/src/components/espace_client/LogementDetail.vue?vue&type=style&index=0&id=6eb70da6&scoped=true&lang=css&","dependencies":[{"path":"/home/kouevi/mmc_web_pro/src/components/espace_client/LogementDetail.vue","mtime":1666970375327},{"path":"/home/kouevi/mmc_web_pro/node_modules/css-loader/dist/cjs.js","mtime":1663945505546},{"path":"/home/kouevi/mmc_web_pro/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1663945506522},{"path":"/home/kouevi/mmc_web_pro/node_modules/postcss-loader/src/index.js","mtime":1663945505794},{"path":"/home/kouevi/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmc_web_pro/node_modules/vue-loader/lib/index.js","mtime":1663945506422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5zZWN0aW9uewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBmb250LXNpemU6IDMwcHg7CiAgICBmb250LWZhbWlseTogVmVyZGFuYSwgR2VuZXZhLCBUYWhvbWEsIHNhbnMtc2VyaWY7CiAgICBjb2xvcjogIzM1M2I0ODsKfQo="},{"version":3,"sources":["LogementDetail.vue"],"names":[],"mappings":";AA0UA;AACA;AACA;AACA;AACA;AACA","file":"LogementDetail.vue","sourceRoot":"src/components/espace_client","sourcesContent":["<template>\n\n    <v-app>\n\n        <NavigationBar/>\n\n        <!-- Sizes your content based upon application components -->\n        <v-main>\n\n            <v-container fluid>\n                \n                <v-dialog v-model=\"dialog\" scrollable max-width=\"300px\">\n\n                    <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn v-bind=\"attrs\" v-on=\"on\" text>RESERVER LE LOGEMENT&nbsp; <v-icon>mdi-menu-down</v-icon></v-btn>\n                    </template>\n\n                    <v-card>\n                        <v-card-title>Reservation par :</v-card-title>\n\n                        <v-divider></v-divider>\n\n                        <v-card-text>\n\n                            <v-radio-group v-model=\"typeDemandeReservation\" column>\n\n                                <v-radio label=\"Nouvelle Simulation\" value=\"nouvelle simulation\"></v-radio>\n                                <v-radio label=\"Simulation Existante\" value=\"simulation existante\"></v-radio>\n                                <v-radio label=\"Effectuer une demande manuelle\" value=\"demande manuelle\"></v-radio>\n\n                            </v-radio-group>\n\n                        </v-card-text>\n\n                        <v-divider></v-divider>\n\n                        <v-card-actions>\n\n                            <v-btn color=\"blue darken-1\" text @click=\"dialog = false\">Close</v-btn>\n                            <v-btn color=\"blue darken-1\" text @click=\"doReservationOrDoSimulation()\">OK</v-btn>\n\n                        </v-card-actions>\n\n                    </v-card>\n\n                </v-dialog>\n\n            </v-container>\n \n            <v-container fluid>\n\n                <v-card>\n                    <v-carousel>\n                        <v-carousel-item v-for=\"(item,i) in imagesListLogement\" :key=\"i\" :src=\"item.contenu\"\n                            reverse-transition=\"fade-transition\" transition=\"fade-transition\">\n                            <v-btn text @click=\"isFavorite = !isFavorite\">\n                                <v-icon v-if=\"isFavorite == false\" color=\"red\">mdi-heart-outline</v-icon>\n                                <v-icon v-if=\"isFavorite == true\" color=\"red\">mdi-heart</v-icon>\n                            </v-btn>\n                        </v-carousel-item>\n                    </v-carousel>\n                </v-card> \n                \n\n            </v-container>\n\n            <v-container>\n\n                <v-row class=\"section\">\n\n                    <v-col>DESCRIPTION</v-col>\n\n                </v-row>\n\n                <v-row>\n\n                    <v-col> {{ logementItemSelected.description }} </v-col>\n\n                </v-row>\n\n            </v-container>\n\n            <v-container>\n\n                <v-row class=\"section\">\n\n                    <v-col>CARACTERISITIQUES DU LOGEMENT</v-col>\n\n                </v-row>\n\n                <v-row>\n                    \n                    <v-col>\n\n                        <v-simple-table>\n\n                        <template v-slot:default>\n\n                            <thead>\n                                <tr>\n                                    <th class=\"text-left\">CARACTERISTIQUES</th>\n                                    <th class=\"text-left\">VALEUR</th>\n                                </tr>\n                            </thead>\n\n                            <tbody>\n                                <tr v-for=\"item in caracteristiqueLogementList\" :key=\"item.name\">\n                                    <td>{{ item.proprieteProduitLogement.designation }}</td>\n                                    <td>{{ returnTrueValue(item)  }}</td>\n                                </tr>\n                            </tbody>\n\n                        </template>\n\n                    </v-simple-table>\n\n                    </v-col>\n                    \n\n                </v-row>\n\n            </v-container>\n\n            <v-container>\n\n                <v-row class=\"section\">\n\n                    <v-col>SIMULEZ UN FINANCEMENT IMMOBILIER</v-col>\n\n                </v-row>\n\n                <v-row>\n\n                    <v-col cols=\"1\"><img src=\"../../assets/institution_icon.svg\" alt=\"\"></v-col>\n                    \n                    <v-col cols=\"5\"><label class=\"font-weight-bold\">Besoin de Crédit pour l'acquisition de votre bien ?</label>\n                    \n                        <v-row>\n\n                            <v-col><span class=\"text-muted\">Obtenez votre logement par emprunt auprès des Etablissements Financiers </span></v-col>\n\n                        </v-row>\n\n                    </v-col>\n\n                    <v-col cols=\"1\"><v-btn color=\"primary\" elevation=\"5\">FAIRE UNE SIMULATION</v-btn></v-col>\n\n                </v-row>\n\n            </v-container>\n\n        </v-main>\n\n        <FooterBar/>\n\n    </v-app>\n    \n</template>\n\n\n<script>\nimport axios from 'axios'\nimport { REF_ELEMENT_TYPEVALEUR_BOOLEAN, REF_ELEMENT_TYPEVALEUR_VILLE , REF_ELEMENT_TYPEVALEUR_REFERENCE , API_OBTENIR_LISTE_VILLES , API_REFERENCES_PAR_FAMILLE  } from '../globalConfig/globalConfig'\nimport { API_RECHERCHER_LOGEMENT_PAR_ID , API_OBTENIR_IMAGE_CONSULTATION } from '../globalConfig/globalConfig'\nimport NavigationBar from '../layout/navigationBar.vue'\nimport FooterBar from '../layout/footerBar.vue'\n\nexport default {\n    name:\"LogementDetail.vue\",\n    components : {\n        NavigationBar,\n        FooterBar\n    },\n    \n    data(){\n\n        return {\n            dialog: false,\n            isFavorite: false, \n            typeDemandeReservation : null,\n            logementItemSelected : {},\n            referenceList : [],\n            villesList : [],\n            successMsg :  null ,\n            errorMsg : null,\n            imagesListLogement : [],\n            caracteristiqueLogementList : [],\n        }\n\n    }, \n\n\n    methods : {\n\n        /**\n         * @TODO - Gerer aussi les images list des logements\n         */\n\n        // RETOURNE LA DESIGNATION DE LA CARACTERISTIQUE AU CAS ELLE EST DE TYPE REFERENCE\n\n        returnTrueValue(caracteristique){\n\n            var trueValue;\n\n            if(caracteristique == null) return null; \n\n            else if(caracteristique.proprieteProduitLogement.type.id == REF_ELEMENT_TYPEVALEUR_REFERENCE){\n                for (let index = 0; index < this.referenceList.length; index++) {\n                    if (this.referenceList[index].id == caracteristique.valeurTexte) {  \n                        trueValue = this.referenceList[index].designation\n                    }\n                }\n            }\n\n            else if(caracteristique.proprieteProduitLogement.type.id == REF_ELEMENT_TYPEVALEUR_VILLE){\n                for (let index = 0; index < this.villesList.length; index++) {\n                    if (this.villesList[index].id == caracteristique.valeurTexte) {    \n                        trueValue = this.villesList[index].designation\n                    }\n                }\n            }\n\n            else if(caracteristique.proprieteProduitLogement.type.id == REF_ELEMENT_TYPEVALEUR_BOOLEAN){\n                if (caracteristique.valeurTexte == \"true\") {     \n                    trueValue = \"Le logement possède un(e)\" + ' ' + caracteristique.proprieteProduitLogement.designation\n                }\n            }\n\n            else {\n                trueValue = caracteristique.valeurTexte\n            }\n\n            return trueValue;\n\n        },\n\n        // NAVIGATION POUR LES OPERATIONS DE DEMANDE DE RESERVATIONS\n        doReservationOrDoSimulation(){\n            if (this.typeDemandeReservation == 'nouvelle simulation') {\n                this.$router.push({ name: 'CreerModifierSimulationFinancementImmobilier' , params:{ id : this.logementItemSelected.id }})\n            }\n            else if (this.typeDemandeReservation == 'simulation existante') {\n                this.$router.push({name: 'SelectionnerSimulationFinancementImmobilier'})\n            }\n            else{\n                this.$router.push({name:'CreerModifierDemandeReservationLogement'})\n            }\n            this.dialog = false; \n        },\n\n\n        // RECUPERER DEPUIS LE MIDDLEWARE LA LISTE DE REFERENCES DE LA FAMILLE TYPE LOGEMENT\n\n        async getReferenceList(){\n\n            await axios.get(API_REFERENCES_PAR_FAMILLE('familleTypeLogement'))\n            .then((response)  => {\n                this.referenceList = response.data.data\n            }).catch((error)  => {\n                console.log(error)\n            })\n        },\n\n\n\n\n        //OBTENIR LES INFORMATIONS DU LOGEMENT DEPUIS SON ID\n\n        async getInfoLogementFromId(){\n            if (this.$route.params.id != undefined || this.$route.params.id != null) {\n                await axios.get(API_RECHERCHER_LOGEMENT_PAR_ID(this.$route.params.id)).then((response)  => {\n                    this.logementItemSelected = response.data.data;\n                    this.logementItemSelected.produitLogement.caracteristiqueProduitLogementList.forEach(element => {\n                        this.caracteristiqueLogementList.push(element)\n                    });\n                }).catch((error)  => {\n                    console.log(error)\n                })\n            }\n            this.getImageConsultationAndImagesList()\n        },\n\n\n        // RECUPERER L'ENSEMBLE DES DOCUMENTS DU LOGEMENTS POUR AFFICHAGE\n\n        async getImageConsultationAndImagesList(){\n            if (this.logementItemSelected.produitLogement != null || this.logementItemSelected.produitLogement.id) {\n               await axios.get(API_OBTENIR_IMAGE_CONSULTATION(this.logementItemSelected.produitLogement.id , 'ref.element.typeValeur.imageConsultation'))\n               .then((response)  => {\n                    this.imagesListLogement.push(response.data.data)\n                }).catch((error)  => {\n                    console.log(error)\n                })\n            }\n        },\n\n\n        // OBTENIR LA LISTE DES VILLES DEPUIS LE MIDDLEWARE\n\n        async getVillesList(){\n            await axios.get(API_OBTENIR_LISTE_VILLES)\n            .then((response)  => {\n                this.villesList = response.data.data\n            }).catch((error)  => {\n                console.log(error)\n            })\n        },\n\n    },\n\n\n    mounted(){\n      this.getReferenceList()\n      this.getVillesList()\n      this.getInfoLogementFromId()\n    },\n\n}\n\n</script>\n\n\n<style scoped>\n    .section{\n        font-weight: bold;\n        font-size: 30px;\n        font-family: Verdana, Geneva, Tahoma, sans-serif;\n        color: #353b48;\n    }\n</style>"]}]}