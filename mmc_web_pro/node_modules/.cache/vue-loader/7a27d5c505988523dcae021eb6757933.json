{"remainingRequest":"/home/kouevi/mmc_web_pro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kouevi/mmc_web_pro/src/components/espace_promoteur/SelectionnerProgrammeImmobilier.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kouevi/mmc_web_pro/src/components/espace_promoteur/SelectionnerProgrammeImmobilier.vue","mtime":1666784043273},{"path":"/home/kouevi/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmc_web_pro/node_modules/babel-loader/lib/index.js","mtime":1663945505798},{"path":"/home/kouevi/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmc_web_pro/node_modules/vue-loader/lib/index.js","mtime":1663945506422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgogICAgaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKICAgIGltcG9ydCAkIGZyb20gJ2pxdWVyeScKICAgIGltcG9ydCB7IEFQSV9PQlRFTklSX0xJU1RFX1BST0dSQU1NRV9JTU1PQklMSUVSX1BBUl9QUk9NT1RFVVIsIEFQSV9TVVBQUklNRVJfUFJPR1JBTU1FX0lNTU9CSUxJRVIgfSBmcm9tICcuLi9nbG9iYWxDb25maWcvZ2xvYmFsQ29uZmlnJzsKCiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgbmFtZSA6ICJTZWxlY3Rpb25uZXJQcm9ncmFtbWVJbW1vYmlsaWVyIiwKICAgICAgICBkYXRhKCl7CgogICAgICAgICAgICByZXR1cm57CiAgICAgICAgICAgICAgICBzZWFyY2g6JycsCiAgICAgICAgICAgICAgICBkaWFsb2dEZWxldGU6IGZhbHNlLAogICAgICAgICAgICAgICAgaGVhZGVyczpbCiAgICAgICAgICAgICAgICAgICAgeyB0ZXh0IDogJ0NvZGUnICwgdmFsdWU6ICdjb2RlJyB9LAogICAgICAgICAgICAgICAgICAgIHsgdGV4dCA6ICdEZXNpZ25hdGlvbicgLCB2YWx1ZSA6ICdkZXNpZ25hdGlvbicgfSwKICAgICAgICAgICAgICAgICAgICB7IHRleHQgOiAnVmlsbGUnICAsIHZhbHVlIDogJ3ZpbGxlLmRlc2lnbmF0aW9uJ30sCiAgICAgICAgICAgICAgICAgICAgeyB0ZXh0IDogJ1ZhbGlkZScgLCB2YWx1ZSA6ICdlc3RWYWxpZGUnIH0sCiAgICAgICAgICAgICAgICAgICAgeyB0ZXh0IDogJ0FjdGlvbnMnICwgdmFsdWUgOiAnYWN0aW9ucycgLCBzb3J0YWJsZSA6IGZhbHNlIH0KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICB2YWxpZGF0ZVByb2dyYW1tZUltbW9iaWxpZXIgOiB0cnVlLAogICAgICAgICAgICAgICAgcHJvZ3JhbW1lSW1tb2JpbGllckxpc3Q6IFtdLAoKICAgICAgICAgICAgfQoKICAgICAgICB9LAoKICAgICAgICAKICAgICAgICBtZXRob2RzOiB7CgogICAgICAgICAgICAvLyBWQUxJREVSIFVOIFBST0dSQU1NRSBJTU1PQklMSUVSCgogICAgICAgICAgICB2YWxpZGVyUHJvZ3JhbW1lSW1tb2JpbGllcihwcm9ncmFtbWVJbW1vYmlsaWVyKXsKICAgICAgICAgICAgICAgIHZhciBwYXJzZWRQcm9ncmFtbWUgPSBKU09OLnN0cmluZ2lmeShwcm9ncmFtbWVJbW1vYmlsaWVyKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9ncmFtbWVJbW1vYmlsaWVyJywgcGFyc2VkUHJvZ3JhbW1lKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtb2RlVmFsaWRhdGUnICwgdGhpcy52YWxpZGF0ZVByb2dyYW1tZUltbW9iaWxpZXIpCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvQ3JlZXJNb2RpZmllclByb2dyYW1tZUltbW9iaWxpZXInfSk7CiAgICAgICAgICAgIH0sCgoKICAgICAgICAgICAgLy9NT0RJRklDQVRJT04gRCdVTiBQUk9HUkFNTUUgSU1NT0JJTElFUgoKICAgICAgICAgICAgbW9kaWZpZXJQcm9ncmFtbWVJbW1vYmlsaWVyKHByb2dyYW1tZUltbW9iaWxpZXIpIHsKICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFByb2dyYW1tZSA9IEpTT04uc3RyaW5naWZ5KHByb2dyYW1tZUltbW9iaWxpZXIpOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInByb2dyYW1tZUltbW9iaWxpZXIiLCBwYXJzZWRQcm9ncmFtbWUpOwogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL0NyZWVyTW9kaWZpZXJQcm9ncmFtbWVJbW1vYmlsaWVyIiB9KTsKICAgICAgICAgICAgfSwKCgoKICAgICAgICAgICAgLy8gU1VQUFJJTUVSIFVOIFBST0dSQU1NRSBJTU1PQklMSUVSCgogICAgICAgICAgICBzdXBwcmltZXJQcm9ncmFtbWVJbW1vYmlsaWVyKHByb2dyYW1tZUltbW9iaWxpZXIpewogICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHt0aXRsZTogJ0NvbmZpcm1lciA/Jyx0ZXh0OiAiQ2V0dGUgYWN0aW9uIGVzdCBpcnLDqXZlcnNpYmxlIixpY29uOiAnd2FybmluZycsc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JyxjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLGNhbmNlbEJ1dHRvblRleHQ6ICdBbm51bGVyJyxjb25maXJtQnV0dG9uVGV4dDogJ091aSAsc3VwcHJpbWVyIScKICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT57CiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0LmlzQ29uZmlybWVkKXsKICAgICAgICAgICAgICAgICAgICAgICAgYXhpb3MuZGVsZXRlKEFQSV9TVVBQUklNRVJfUFJPR1JBTU1FX0lNTU9CSUxJRVIocHJvZ3JhbW1lSW1tb2JpbGllci5pZCkpCiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmRhdGEgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSgnU3VwcHJpbcOpIScsJ0xlIHByb2dyYW1tZSBpbW1vYmlsaWVyLCBhIGJpZW4gZXRlIHN1cHByaW3DqS4nLCdzdWNjZXNzJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk9idGVuaXJMaXN0ZVByb2dyYW1tZUltbW9iaWxpZXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKCdFcnJldXIhJyAsICdFY2hlYyBkZSBsYSBzdXBwcmVzc2lvbiBkdSBwcm9ncmFtbWUgaW1tb2JpbGllci4nICwgJ2Vycm9yJykgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7IGljb246ICdlcnJvcicsIHRpdGxlOiAnRXJyZXVyLi4uJywgdGV4dDogZX0pCiAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIAogICAgICAgICAgICAKCgogICAgICAgICAgICAvLyBOQVZJR0FUSU9OIFZFUlMgTEEgUEFHRSBERSBDUkVBVElPTiBEJ1VOIE5PVVZFTCBQUk9HUkFNTUUgSU1NT0JJTElFUgogICAgICAgICAgICAKICAgICAgICAgICAgY3JlZXJOb3V2ZWF1UHJvZ3JhbW1lSW1tb2JpbGllcigpIHsKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi9DcmVlck1vZGlmaWVyUHJvZ3JhbW1lSW1tb2JpbGllciIgfSk7CiAgICAgICAgICAgIH0sCgogICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE9CVEVOSVIgTEEgTElTVEUgREVTIFBST0dSQU1NRVMgSU1NT0JJTElFUlMgUEFSIFBST01PVEVVUgoKICAgICAgICAgICAgYXN5bmMgT2J0ZW5pckxpc3RlUHJvZ3JhbW1lSW1tb2JpbGllcigpewogICAgICAgICAgICAgICAgYXdhaXQgYXhpb3MuZ2V0KEFQSV9PQlRFTklSX0xJU1RFX1BST0dSQU1NRV9JTU1PQklMSUVSX1BBUl9QUk9NT1RFVVIoInByb21vdGV1cjAxIikpCiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2dyYW1tZUltbW9iaWxpZXJMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yTXNnID0gZQogICAgICAgICAgICAgICAgICAgICQoIi5teUFsZXJ0LWJvdHRvbSIpLmZhZGVJbigpOwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAgICAgJCgiLm15QWxlcnQtYm90dG9tIikuZmFkZU91dCgpOyAKICAgICAgICAgICAgICAgICAgICB9LCA0MDAwKQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKCgoKICAgICAgICBtb3VudGVkKCkgewogICAgICAgICAgICB0aGlzLk9idGVuaXJMaXN0ZVByb2dyYW1tZUltbW9iaWxpZXIoKQogICAgICAgIH0sCgogICAgfQo="},{"version":3,"sources":["SelectionnerProgrammeImmobilier.vue"],"names":[],"mappings":";;AAuCA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;AAMA;;AAEA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;;AAEA","file":"SelectionnerProgrammeImmobilier.vue","sourceRoot":"src/components/espace_promoteur","sourcesContent":["<template>\n\n    <v-app>\n\n        <v-container> \n          \n            <v-btn text color=\"blue\" @click=\"creerNouveauProgrammeImmobilier\"><v-icon>mdi-plus</v-icon>NOUVEAU PROGRAMME</v-btn>\n\n            <v-spacer></v-spacer>\n\n            <v-card>\n\n                <v-card-title>PROGRAMMES IMMOBILIERS   \n                <v-spacer></v-spacer>\n\n                <v-text-field v-model=\"search\" append-icon=\"mdi-magnify\" label=\"Search\" single-line hide-details></v-text-field></v-card-title>\n\n                <v-data-table :headers=\"headers\" :loading=\"programmeImmobilierList.length < 0\" :items=\"programmeImmobilierList\" :search=\"search\">\n                    <template v-slot:[`item.estValide`]=\"{ item }\">\n                        <v-chip v-if=\"item.estValide == true\" color=\"green\" text-color=\"white\" class=\"mr-2\">valide</v-chip>\n                        <v-chip v-else-if=\"item.estValide == false\" color=\"red\" text-color=\"white\" class=\"mr-2\">Non valide</v-chip>\n                        <v-chip v-else color=\"blue\" text-color=\"white\" class=\"mr-2\">Aucune décision</v-chip>\n                    </template>\n\n                    <template v-slot:[`item.actions`]=\"{ item }\">\n                        <v-icon title=\"editer\" color=\"blue\" small class=\"mr-2\" @click=\"modifierProgrammeImmobilier(item)\">mdi-pencil</v-icon>\n                        <v-icon title=\"valider\" color=\"green\" small class=\"mr-2\" @click=\"validateProgrammeImmobilier(item)\">mdi-sync</v-icon>\n                        <v-icon title=\"supprimer\" color=\"red\" small class=\"mr-2\" @click=\"supprimerProgrammeImmobilier(item)\">mdi-delete</v-icon>\n                    </template>\n                </v-data-table>\n            </v-card>\n        </v-container>\n    </v-app>\n\n</template>\n\n\n<script>\n\n    import axios from \"axios\";\n    import $ from 'jquery'\n    import { API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER_PAR_PROMOTEUR, API_SUPPRIMER_PROGRAMME_IMMOBILIER } from '../globalConfig/globalConfig';\n\n    export default {\n        name : \"SelectionnerProgrammeImmobilier\",\n        data(){\n\n            return{\n                search:'',\n                dialogDelete: false,\n                headers:[\n                    { text : 'Code' , value: 'code' },\n                    { text : 'Designation' , value : 'designation' },\n                    { text : 'Ville'  , value : 'ville.designation'},\n                    { text : 'Valide' , value : 'estValide' },\n                    { text : 'Actions' , value : 'actions' , sortable : false }\n                ],\n                validateProgrammeImmobilier : true,\n                programmeImmobilierList: [],\n\n            }\n\n        },\n\n        \n        methods: {\n\n            // VALIDER UN PROGRAMME IMMOBILIER\n\n            validerProgrammeImmobilier(programmeImmobilier){\n                var parsedProgramme = JSON.stringify(programmeImmobilier);\n                localStorage.setItem('programmeImmobilier', parsedProgramme);\n                localStorage.setItem('modeValidate' , this.validateProgrammeImmobilier)\n                this.$router.push({ path: '/CreerModifierProgrammeImmobilier'});\n            },\n\n\n            //MODIFICATION D'UN PROGRAMME IMMOBILIER\n\n            modifierProgrammeImmobilier(programmeImmobilier) {\n                const parsedProgramme = JSON.stringify(programmeImmobilier);\n                localStorage.setItem(\"programmeImmobilier\", parsedProgramme);\n                this.$router.push({ path: \"/CreerModifierProgrammeImmobilier\" });\n            },\n\n\n\n            // SUPPRIMER UN PROGRAMME IMMOBILIER\n\n            supprimerProgrammeImmobilier(programmeImmobilier){\n                this.$swal.fire({title: 'Confirmer ?',text: \"Cette action est irréversible\",icon: 'warning',showCancelButton: true,\n                    confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',cancelButtonText: 'Annuler',confirmButtonText: 'Oui ,supprimer!'\n                }).then((result) =>{\n                    if(result.isConfirmed){\n                        axios.delete(API_SUPPRIMER_PROGRAMME_IMMOBILIER(programmeImmobilier.id))\n                        .then(response => {\n                            if (response.data.data == true) {\n                                this.$swal.fire('Supprimé!','Le programme immobilier, a bien ete supprimé.','success')\n                                this.ObtenirListeProgrammeImmobilier();\n                            } else {\n                                this.$swal.fire('Erreur!' , 'Echec de la suppression du programme immobilier.' , 'error')  \n                            }\n                    \n                        }).catch(e => {\n                            this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n                        })\n                    }\n                })\n            },\n\n            \n            \n\n\n            // NAVIGATION VERS LA PAGE DE CREATION D'UN NOUVEL PROGRAMME IMMOBILIER\n            \n            creerNouveauProgrammeImmobilier() {\n                this.$router.push({ path: \"/CreerModifierProgrammeImmobilier\" });\n            },\n\n            \n            \n            // OBTENIR LA LISTE DES PROGRAMMES IMMOBILIERS PAR PROMOTEUR\n\n            async ObtenirListeProgrammeImmobilier(){\n                await axios.get(API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER_PAR_PROMOTEUR(\"promoteur01\"))\n                .then((response) => {\n                    this.programmeImmobilierList = response.data.data;\n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\".myAlert-bottom\").fadeIn();\n                    setTimeout(function(){\n                        $(\".myAlert-bottom\").fadeOut(); \n                    }, 4000)\n                });\n            }\n\n        },\n\n\n\n        mounted() {\n            this.ObtenirListeProgrammeImmobilier()\n        },\n\n    }\n</script>\n\n\n<style scoped>\n\n\n</style>"]}]}