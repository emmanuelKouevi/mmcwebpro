{"remainingRequest":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kouevi/mmcwebpro/mmc_web_pro/src/components/espace_client/demandeReservationLogement/SelectionnerDemandeReservationLogement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/src/components/espace_client/demandeReservationLogement/SelectionnerDemandeReservationLogement.vue","mtime":1668100999264},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/babel-loader/lib/index.js","mtime":1663945505798},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/vue-loader/lib/index.js","mtime":1663945506422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBOYXZpZ2F0aW9uQmFyIGZyb20gJy4uLy4uL2xheW91dC9uYXZpZ2F0aW9uQmFyLnZ1ZScKaW1wb3J0IEZvb3RlckJhciBmcm9tICcuLi8uLi9sYXlvdXQvZm9vdGVyQmFyLnZ1ZScKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIgppbXBvcnQgeyBBUElfT0JURU5JUl9MSVNURV9ERU1BTkRFX1JFU0VSVkFUSU9OX1BBUl9VU0VSICwgQVBJX1NPVU1FVFRSRV9ERU1BTkRFX1JFU0VSVkFUSU9OIH0gZnJvbSAnLi4vLi4vZ2xvYmFsQ29uZmlnL2dsb2JhbENvbmZpZycKaW1wb3J0IHsgQVBJX0FOTlVMRVJfREVNQU5ERV9SRVNFUlZBVElPTiAsIEFQSV9TVVBQUklNRVJfREVNQU5ERV9SRVNFUlZBVElPTl9QQVJfSUQgfSBmcm9tICcuLi8uLi9nbG9iYWxDb25maWcvZ2xvYmFsQ29uZmlnJwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZSA6ICJTZWxlY3Rpb25uZXJEZW1hbmRlUmVzZXJ2YXRpb25Mb2dlbWVudCIsCiAgICBjb21wb25lbnRzOnsKICAgICAgICBOYXZpZ2F0aW9uQmFyLAogICAgICAgIEZvb3RlckJhcgogICAgfSwKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICAgIGRlbWFuZGVSZXNlcnZhdGlvbkxpc3RTYXZpbmdCeVVzZXIgOiBbXSwKICAgICAgICB9CiAgICB9LAoKICAgIG1ldGhvZHM6ewogICAgICAgIAogICAgICAgIC8vIFJFQ1VQRVJFUiBMQSBMSVNURSBERSBUT1VURVMgTEVTIERFTUFOREVTIERFIFJFU0VSVkFUSU9OUyBFTlJFR0lTVFLDiUVTIFBBUiBMJ1VUSUxJU0FURVVSCiAgICAgICAgYXN5bmMgZ2V0RGVtYW5kZVJlc2VydmF0aW9uTGlzdFNhdmluZ0J5VXNlcigpewogICAgICAgICAgICBhd2FpdCBheGlvcy5nZXQoQVBJX09CVEVOSVJfTElTVEVfREVNQU5ERV9SRVNFUlZBVElPTl9QQVJfVVNFUigiZmFhZGMxNWYtMjgwOC00NGUwLTk0Y2MtZDBiZDg0MWJjZjU5IikpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmRlbWFuZGVSZXNlcnZhdGlvbkxpc3RTYXZpbmdCeVVzZXIgPSByZXNwb25zZS5kYXRhLmRhdGEgOwogICAgICAgICAgICB9KS5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSkKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCgogICAgICAgIC8vIFNVUFBSSU1FUiBVTkUgREVNQU5ERSBERSBSRVNFUlZBVElPTgogICAgICAgIGFzeW5jIGRlbGV0ZURlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50KGRlbWFuZGVSZXNlcnZhdGlvbil7CiAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7dGl0bGU6ICdDb25maXJtZXIgPycsdGV4dDogIkNldHRlIGFjdGlvbiBlc3QgaXJyw6l2ZXJzaWJsZSIsaWNvbjogJ3dhcm5pbmcnLHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JyxjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLGNhbmNlbEJ1dHRvblRleHQ6ICdBbm51bGVyJyxjb25maXJtQnV0dG9uVGV4dDogJ091aSAsc3VwcHJpbWVyIScKICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PnsKICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5pc0NvbmZpcm1lZCl7CiAgICAgICAgICAgICAgICAgICAgYXhpb3MuZGVsZXRlKEFQSV9TVVBQUklNRVJfREVNQU5ERV9SRVNFUlZBVElPTl9QQVJfSUQoZGVtYW5kZVJlc2VydmF0aW9uLmlkKSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoJ1N1cHByaW3DqSEnICwgJ0xhIGRlbWFuZGUgYSBiaWVuIMOpdMOpIHN1cHByaW3DqS4nICwgJ3N1Y2Nlc3MnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXREZW1hbmRlUmVzZXJ2YXRpb25MaXN0U2F2aW5nQnlVc2VyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoJ0VycmV1ciEnICwgJ0VjaGVjIGRlIGxhIHN1cHByZXNzaW9uLicgLCAnZXJyb3InKSAgCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsgaWNvbjogJ2Vycm9yJywgdGl0bGU6ICdFcnJldXIuLi4nLCB0ZXh0OiBlfSkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7IGljb246ICdlcnJvcicsIHRpdGxlOiAnRXJyZXVyLi4uJywgdGV4dDogZX0pCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCgogICAgICAgIC8vU09VTUVUVFJFIFVORSBERU1BTkRFIERFIFJFU0VSVkFUSU9OCiAgICAgICAgYXN5bmMgc291bWV0dHJlRGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnQoZGVtYW5kZVJlc2VydmF0aW9uX2lkKXsKICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHt0aXRsZTogJ0NvbmZpcm1lciAhJyx0ZXh0OiAiVm91bGV6IHZvdXMgc291bWV0dHJlIGNldHRlIGRlbWFuZGUgPyIsaWNvbjogJ3dhcm5pbmcnLHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JyxjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLGNhbmNlbEJ1dHRvblRleHQ6ICdBbm51bGVyJyxjb25maXJtQnV0dG9uVGV4dDogJ1RyYW5zZm9ybWVyIScKICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PnsKICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5pc0NvbmZpcm1lZCl7CiAgICAgICAgICAgICAgICAgICAgYXhpb3MucHV0KEFQSV9TT1VNRVRUUkVfREVNQU5ERV9SRVNFUlZBVElPTihkZW1hbmRlUmVzZXJ2YXRpb25faWQpKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSgnVHJhbnNmb3Jtw6khJyAsICdWb3RyZSBkZW1hbmRlIGEgYmllbiDDqXTDqSBzb3VtaXMuJyAsICdzdWNjZXNzJykKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSgnRXJyZXVyIScgLCAnRWNoZWMgZGUgbGEgc291bWlzc2lvbiBkZSBsYSBkZW1hbmRlLicgLCAnZXJyb3InKSAgCiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsgaWNvbjogJ2Vycm9yJywgdGl0bGU6ICdFcnJldXIuLi4nLCB0ZXh0OiBlfSkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7IGljb246ICdlcnJvcicsIHRpdGxlOiAnRXJyZXVyLi4uJywgdGV4dDogZX0pCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICAgICAgYXN5bmMgYW5udWxlckRlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50KGRlbWFuZGVSZXNlcnZhdGlvbl9pZCl7CiAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7dGl0bGU6ICdDb25maXJtZXIgIScsdGV4dDogIlZvdWxleiB2b3VzIGFubnVsZXIgY2V0dGUgZGVtYW5kZSA/IixpY29uOiAnd2FybmluZycsc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycsY2FuY2VsQnV0dG9uVGV4dDogJ0FubnVsZXInLGNvbmZpcm1CdXR0b25UZXh0OiAnVHJhbnNmb3JtZXIhJwogICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+ewogICAgICAgICAgICAgICAgaWYocmVzdWx0LmlzQ29uZmlybWVkKXsKICAgICAgICAgICAgICAgICAgICBheGlvcy5wdXQoQVBJX0FOTlVMRVJfREVNQU5ERV9SRVNFUlZBVElPTihkZW1hbmRlUmVzZXJ2YXRpb25faWQpKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSgnQW5udWxhdGlvbiEnICwgJ1ZvdHJlIGRlbWFuZGUgYSBiaWVuIMOpdMOpIGFubnVsw6llLicgLCAnc3VjY2VzcycpCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoJ0VycmV1ciEnICwgJ0VjaGVjIGRlIGxcJ2FubnVsYXRpb24gZGUgbGEgZGVtYW5kZS4nICwgJ2Vycm9yJykgIAogICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7IGljb246ICdlcnJvcicsIHRpdGxlOiAnRXJyZXVyLi4uJywgdGV4dDogZX0pCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAoKICAgIH0sCgogICAgbW91bnRlZCgpewogICAgICAgIHRoaXMuZ2V0RGVtYW5kZVJlc2VydmF0aW9uTGlzdFNhdmluZ0J5VXNlcigpOwogICAgfQp9Cg=="},{"version":3,"sources":["SelectionnerDemandeReservationLogement.vue"],"names":[],"mappings":";AAoFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA","file":"SelectionnerDemandeReservationLogement.vue","sourceRoot":"src/components/espace_client/demandeReservationLogement","sourcesContent":["<template>\n    <v-app>\n        <NavigationBar/>\n        <v-main>\n            <v-container>\n                <p></p>\n                <v-row><p class=\"title\">VOS DEMANDES DE RESERVATIONS</p></v-row>\n            </v-container>\n\n            <v-container>\n                <v-row>\n                    <v-col cols=\"12\" v-for=\"(demandeReservation , d) in demandeReservationListSavingByUser\" :key=\"d\">\n                        <v-card>\n                            <v-list>\n                                <v-list-item>\n                                    <v-list-item-content>\n                                        <v-list-item-title class=\"title_simulation\"> DEMANDE DE RESERVATION {{ d + 1 }}</v-list-item-title>\n                                        <v-list-item-subtitle>Numéro de reference :&nbsp;&nbsp;  ...{{ demandeReservation.id.slice(-10) }}</v-list-item-subtitle>\n                                    </v-list-item-content>\n                    \n                                    <v-list-item-action>\n                                        <v-menu bottom right>\n                                            <template v-slot:activator=\"{ on, attrs }\">\n                                                <v-btn icon v-bind=\"attrs\" v-on=\"on\"><v-icon>mdi-dots-horizontal</v-icon></v-btn>\n                                            </template>\n  \n                                            <v-list>\n                                                <v-list-item link>\n                                                    <v-list-item-action><v-icon>mdi-pencil</v-icon></v-list-item-action>                         \n                                                    <v-list-item-subtitle>Editer</v-list-item-subtitle>\n                                                </v-list-item>\n\n                                                <v-list-item link @click=\"annulerDemandeReservationLogement(demandeReservation)\">\n                                                    <v-list-item-action><v-icon>mdi-cog-sync</v-icon></v-list-item-action>                          \n                                                    <v-list-item-subtitle>Annuler</v-list-item-subtitle>\n                                                </v-list-item>\n\n                                                <v-list-item link @click=\"soumettreDemandeReservationLogement(demandeReservation)\">    \n                                                    <v-list-item-action><v-icon>mdi-sync</v-icon></v-list-item-action>                      \n                                                    <v-list-item-subtitle>Soumettre</v-list-item-subtitle>\n                                                </v-list-item>\n\n                                                <v-list-item link @click=\"deleteDemandeReservationLogement(demandeReservation)\">  \n                                                    <v-list-item-action><v-icon>mdi-delete</v-icon></v-list-item-action>                        \n                                                    <v-list-item-subtitle>Supprimer</v-list-item-subtitle>\n                                                </v-list-item>\n\n                                            </v-list>\n                                        </v-menu>\n                                    </v-list-item-action>\n                                </v-list-item>\n\n                                <v-list-item>\n                                    <v-list-item-content>\n                                        <v-list-item-subtitle>Designation :</v-list-item-subtitle>\n                                    </v-list-item-content>\n                    \n                                    <v-list-item-content>\n                                        <v-list-item-subtitle>{{ demandeReservation.designation }}</v-list-item-subtitle>\n                                    </v-list-item-content>\n                                </v-list-item>\n\n                                <v-list-item>\n                                    <v-list-item-content>\n                                        <v-list-item-subtitle>Description :</v-list-item-subtitle>\n                                    </v-list-item-content>\n                    \n                                    <v-list-item-content>\n                                        <v-list-item-subtitle>{{ demandeReservation.description }}</v-list-item-subtitle>\n                                    </v-list-item-content>\n                                </v-list-item>\n                                \n                            </v-list>\n                            \n                        </v-card>\n                    </v-col>\n                </v-row>\n            </v-container>\n        </v-main>\n        <FooterBar/>\n    </v-app>\n</template>\n\n<script>\nimport NavigationBar from '../../layout/navigationBar.vue'\nimport FooterBar from '../../layout/footerBar.vue'\nimport axios from \"axios\"\nimport { API_OBTENIR_LISTE_DEMANDE_RESERVATION_PAR_USER , API_SOUMETTRE_DEMANDE_RESERVATION } from '../../globalConfig/globalConfig'\nimport { API_ANNULER_DEMANDE_RESERVATION , API_SUPPRIMER_DEMANDE_RESERVATION_PAR_ID } from '../../globalConfig/globalConfig'\n\nexport default {\n    name : \"SelectionnerDemandeReservationLogement\",\n    components:{\n        NavigationBar,\n        FooterBar\n    },\n    data(){\n        return{\n            demandeReservationListSavingByUser : [],\n        }\n    },\n\n    methods:{\n        \n        // RECUPERER LA LISTE DE TOUTES LES DEMANDES DE RESERVATIONS ENREGISTRÉES PAR L'UTILISATEUR\n        async getDemandeReservationListSavingByUser(){\n            await axios.get(API_OBTENIR_LISTE_DEMANDE_RESERVATION_PAR_USER(\"faadc15f-2808-44e0-94cc-d0bd841bcf59\")).then((response) => {\n                this.demandeReservationListSavingByUser = response.data.data ;\n            }).catch((e) => {\n                console.log(e)\n            });\n        },\n\n\n        // SUPPRIMER UNE DEMANDE DE RESERVATION\n        async deleteDemandeReservationLogement(demandeReservation){\n            this.$swal.fire({title: 'Confirmer ?',text: \"Cette action est irréversible\",icon: 'warning',showCancelButton: true,\n                confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',cancelButtonText: 'Annuler',confirmButtonText: 'Oui ,supprimer!'\n            }).then((result) =>{\n                if(result.isConfirmed){\n                    axios.delete(API_SUPPRIMER_DEMANDE_RESERVATION_PAR_ID(demandeReservation.id)).then(response => {\n                        if (response.status == 200) {\n                            this.$swal.fire('Supprimé!' , 'La demande a bien été supprimé.' , 'success')\n                            this.getDemandeReservationListSavingByUser();\n                        } else {\n                            this.$swal.fire('Erreur!' , 'Echec de la suppression.' , 'error')  \n                        }\n                    }).catch(e => {\n                        this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n                    })\n                }\n            }).catch(e => {\n                this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n            })\n        },\n\n\n        //SOUMETTRE UNE DEMANDE DE RESERVATION\n        async soumettreDemandeReservationLogement(demandeReservation_id){\n            this.$swal.fire({title: 'Confirmer !',text: \"Voulez vous soumettre cette demande ?\",icon: 'warning',showCancelButton: true,\n                confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',cancelButtonText: 'Annuler',confirmButtonText: 'Transformer!'\n            }).then((result) =>{\n                if(result.isConfirmed){\n                    axios.put(API_SOUMETTRE_DEMANDE_RESERVATION(demandeReservation_id)).then(response => {\n                        if (response.status == 200) {\n                            this.$swal.fire('Transformé!' , 'Votre demande a bien été soumis.' , 'success')\n                        } else {\n                            this.$swal.fire('Erreur!' , 'Echec de la soumission de la demande.' , 'error')  \n                        }                  \n                    }).catch(e => {\n                        this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n                    })\n                }\n            }).catch(e => {\n                this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n            })\n        },\n\n        async annulerDemandeReservationLogement(demandeReservation_id){\n            this.$swal.fire({title: 'Confirmer !',text: \"Voulez vous annuler cette demande ?\",icon: 'warning',showCancelButton: true,\n                confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',cancelButtonText: 'Annuler',confirmButtonText: 'Transformer!'\n            }).then((result) =>{\n                if(result.isConfirmed){\n                    axios.put(API_ANNULER_DEMANDE_RESERVATION(demandeReservation_id)).then(response => {\n                        if (response.status == 200) {\n                            this.$swal.fire('Annulation!' , 'Votre demande a bien été annulée.' , 'success')\n                        } else {\n                            this.$swal.fire('Erreur!' , 'Echec de l\\'annulation de la demande.' , 'error')  \n                        }                  \n                    }).catch(e => {\n                        this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n                    })\n                }\n            })\n        },\n\n    },\n\n    mounted(){\n        this.getDemandeReservationListSavingByUser();\n    }\n}\n</script>\n\n<style scoped>\n    .title{\n        font-weight: bold;\n        color: #1B1464;\n    }\n\n    .title_simulation{\n        font-weight: bold;\n    }\n</style>"]}]}