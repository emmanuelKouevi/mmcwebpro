{"remainingRequest":"/home/kouevi/mmc_web_pro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kouevi/mmc_web_pro/src/components/espace_promoteur/SelectionnerProgrammeImmobilier.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kouevi/mmc_web_pro/src/components/espace_promoteur/SelectionnerProgrammeImmobilier.vue","mtime":1665143276780},{"path":"/home/kouevi/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmc_web_pro/node_modules/babel-loader/lib/index.js","mtime":1663945505798},{"path":"/home/kouevi/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmc_web_pro/node_modules/vue-loader/lib/index.js","mtime":1663945506422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgogICAgaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKCiAgICBpbXBvcnQgJCBmcm9tICdqcXVlcnknCgogICAgaW1wb3J0IHsgQVBJX09CVEVOSVJfTElTVEVfUFJPR1JBTU1FX0lNTU9CSUxJRVJfUEFSX1BST01PVEVVUiwgQVBJX1NVUFBSSU1FUl9QUk9HUkFNTUVfSU1NT0JJTElFUiB9IGZyb20gJy4uL2dsb2JhbENvbmZpZy9nbG9iYWxDb25maWcnOwoKICAgIGV4cG9ydCBkZWZhdWx0IHsKICAgICAgICAKICAgICAgICBuYW1lIDogIlNlbGVjdGlvbm5lclByb2dyYW1tZUltbW9iaWxpZXIiLAoKICAgICAgICBkYXRhKCl7CgogICAgICAgICAgICByZXR1cm57CgogICAgICAgICAgICAgICAgc2VhcmNoOicnLAoKICAgICAgICAgICAgICAgIGRpYWxvZ0RlbGV0ZTogZmFsc2UsCgogICAgICAgICAgICAgICAgaGVhZGVyczpbCgogICAgICAgICAgICAgICAgICAgIHsgdGV4dCA6ICdDb2RlJyAsIHZhbHVlOiAnY29kZScgfSwKCiAgICAgICAgICAgICAgICAgICAgeyB0ZXh0IDogJ0Rlc2lnbmF0aW9uJyAsIHZhbHVlIDogJ2Rlc2lnbmF0aW9uJyB9LAoKICAgICAgICAgICAgICAgICAgICB7IHRleHQgOiAnVmlsbGUnICAsIHZhbHVlIDogJ3ZpbGxlLmRlc2lnbmF0aW9uJ30sCgogICAgICAgICAgICAgICAgICAgIHsgdGV4dCA6ICdWYWxpZGUnICwgdmFsdWUgOiAnZXN0VmFsaWRlJyB9LAoKICAgICAgICAgICAgICAgICAgICB7IHRleHQgOiAnQWN0aW9ucycgLCB2YWx1ZSA6ICdhY3Rpb25zJyAsIHNvcnRhYmxlIDogZmFsc2UgfQoKICAgICAgICAgICAgICAgIF0sCgogICAgICAgICAgICAgICAgdmFsaWRhdGVQcm9ncmFtbWVJbW1vYmlsaWVyIDogdHJ1ZSwKCiAgICAgICAgICAgICAgICBwcm9ncmFtbWVJbW1vYmlsaWVyTGlzdDogW10sCgogICAgICAgICAgICB9CgogICAgICAgIH0sCgogICAgICAgIAogICAgICAgIG1ldGhvZHM6IHsKCiAgICAgICAgICAgIC8vIFZBTElERVIgVU4gUFJPR1JBTU1FIElNTU9CSUxJRVIKCiAgICAgICAgICAgIHZhbGlkZXJQcm9ncmFtbWVJbW1vYmlsaWVyKHByb2dyYW1tZUltbW9iaWxpZXIpewoKICAgICAgICAgICAgICAgIHZhciBwYXJzZWRQcm9ncmFtbWUgPSBKU09OLnN0cmluZ2lmeShwcm9ncmFtbWVJbW1vYmlsaWVyKTsKCiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJvZ3JhbW1lSW1tb2JpbGllcicsIHBhcnNlZFByb2dyYW1tZSk7CgogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ21vZGVWYWxpZGF0ZScgLCB0aGlzLnZhbGlkYXRlUHJvZ3JhbW1lSW1tb2JpbGllcikKCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvQ3JlZXJNb2RpZmllclByb2dyYW1tZUltbW9iaWxpZXInfSk7CgogICAgICAgICAgICB9LAoKCiAgICAgICAgICAgIC8vTU9ESUZJQ0FUSU9OIEQnVU4gUFJPR1JBTU1FIElNTU9CSUxJRVIKCiAgICAgICAgICAgIG1vZGlmaWVyUHJvZ3JhbW1lSW1tb2JpbGllcihwcm9ncmFtbWVJbW1vYmlsaWVyKSB7CgogICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUHJvZ3JhbW1lID0gSlNPTi5zdHJpbmdpZnkocHJvZ3JhbW1lSW1tb2JpbGllcik7CgogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInByb2dyYW1tZUltbW9iaWxpZXIiLCBwYXJzZWRQcm9ncmFtbWUpOwoKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogIi9DcmVlck1vZGlmaWVyUHJvZ3JhbW1lSW1tb2JpbGllciIgfSk7CgogICAgICAgICAgICB9LAoKCgogICAgICAgICAgICAvLyBTVVBQUklNRVIgVU4gUFJPR1JBTU1FIElNTU9CSUxJRVIKCiAgICAgICAgICAgIHN1cHByaW1lclByb2dyYW1tZUltbW9iaWxpZXIocHJvZ3JhbW1lSW1tb2JpbGllcil7CgogICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHt0aXRsZTogJ0NvbmZpcm1lciA/Jyx0ZXh0OiAiQ2V0dGUgYWN0aW9uIGVzdCBpcnLDqXZlcnNpYmxlIixpY29uOiAnd2FybmluZycsc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKCiAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsY2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJyxjYW5jZWxCdXR0b25UZXh0OiAnQW5udWxlcicsY29uZmlybUJ1dHRvblRleHQ6ICdPdWkgLHN1cHByaW1lciEnCgogICAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PnsKCiAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0LmlzQ29uZmlybWVkKXsKCiAgICAgICAgICAgICAgICAgICAgICAgIGF4aW9zLmRlbGV0ZShBUElfU1VQUFJJTUVSX1BST0dSQU1NRV9JTU1PQklMSUVSKHByb2dyYW1tZUltbW9iaWxpZXIuaWQpKQoKICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YSA9PSB0cnVlKSB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKCdTdXBwcmltw6khJywnTGUgcHJvZ3JhbW1lIGltbW9iaWxpZXIsIGEgYmllbiBldGUgc3VwcHJpbcOpLicsJ3N1Y2Nlc3MnKQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuT2J0ZW5pckxpc3RlUHJvZ3JhbW1lSW1tb2JpbGllcigpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKCdFcnJldXIhJyAsICdFY2hlYyBkZSBsYSBzdXBwcmVzc2lvbiBkdSBwcm9ncmFtbWUgaW1tb2JpbGllci4nICwgJ2Vycm9yJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoeyBpY29uOiAnZXJyb3InLCB0aXRsZTogJ0VycmV1ci4uLicsIHRleHQ6IGV9KQoKICAgICAgICAgICAgICAgICAgICAgICAgfSkKCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0pCiAgICAgCiAgICAgICAgICAgIH0sCgogICAgICAgICAgICAKICAgICAgICAgICAgCgoKICAgICAgICAgICAgLy8gTkFWSUdBVElPTiBWRVJTIExBIFBBR0UgREUgQ1JFQVRJT04gRCdVTiBOT1VWRUwgUFJPR1JBTU1FIElNTU9CSUxJRVIKICAgICAgICAgICAgCiAgICAgICAgICAgIGNyZWVyTm91dmVhdVByb2dyYW1tZUltbW9iaWxpZXIoKSB7CgogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL0NyZWVyTW9kaWZpZXJQcm9ncmFtbWVJbW1vYmlsaWVyIiB9KTsKCiAgICAgICAgICAgIH0sCgogICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE9CVEVOSVIgTEEgTElTVEUgREVTIFBST0dSQU1NRVMgSU1NT0JJTElFUlMgUEFSIFBST01PVEVVUgoKICAgICAgICAgICAgYXN5bmMgT2J0ZW5pckxpc3RlUHJvZ3JhbW1lSW1tb2JpbGllcigpewoKICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zLmdldChBUElfT0JURU5JUl9MSVNURV9QUk9HUkFNTUVfSU1NT0JJTElFUl9QQVJfUFJPTU9URVVSKCJwcm9tb3RldXIwMSIpKQoKICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewoKICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2dyYW1tZUltbW9iaWxpZXJMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CgogICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlCgogICAgICAgICAgICAgICAgICAgICQoIi5teUFsZXJ0LWJvdHRvbSIpLmZhZGVJbigpOwoKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CgogICAgICAgICAgICAgICAgICAgICAgICAkKCIubXlBbGVydC1ib3R0b20iKS5mYWRlT3V0KCk7IAoKICAgICAgICAgICAgICAgICAgICB9LCA0MDAwKQoKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgfQogICAgCiAgICAgICAgfSwKCgoKICAgICAgICBtb3VudGVkKCkgewoKICAgICAgICAgICAgdGhpcy5PYnRlbmlyTGlzdGVQcm9ncmFtbWVJbW1vYmlsaWVyKCkKCiAgICAgICAgfSwKCiAgICB9Cg=="},{"version":3,"sources":["SelectionnerProgrammeImmobilier.vue"],"names":[],"mappings":";;AA2DA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;AAIA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;;;AAMA;;AAEA;;AAEA;;AAEA;;;;AAIA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;AAIA;;AAEA;;AAEA;;AAEA","file":"SelectionnerProgrammeImmobilier.vue","sourceRoot":"src/components/espace_promoteur","sourcesContent":["<template>\n\n    <div>\n\n        <v-container> \n          \n            <v-btn text color=\"blue\" @click=\"creerNouveauProgrammeImmobilier\"> \n\n                <v-icon>mdi-plus</v-icon>NOUVEAU PROGRAMME\n\n            </v-btn>\n\n\n\n            <v-spacer></v-spacer>\n\n            <v-card>\n\n                <v-card-title>PROGRAMMES IMMOBILIERS\n                        \n                <v-spacer></v-spacer>\n\n                <v-text-field v-model=\"search\" append-icon=\"mdi-magnify\" label=\"Search\" single-line hide-details></v-text-field></v-card-title>\n\n                <v-data-table :headers=\"headers\" :loading=\"programmeImmobilierList.length < 0\" :items=\"programmeImmobilierList\" :search=\"search\">\n\n                    <template v-slot:[`item.estValide`]=\"{ item }\">\n\n                        <v-chip v-if=\"item.estValide == true\" color=\"green\" text-color=\"white\" class=\"mr-2\">valide</v-chip>\n                        \n                        <v-chip v-else-if=\"item.estValide == false\" color=\"red\" text-color=\"white\" class=\"mr-2\">Non valide</v-chip>\n                        \n                        <v-chip v-else color=\"blue\" text-color=\"white\" class=\"mr-2\">Aucune décision</v-chip>\n\n                    </template>\n\n                    <template v-slot:[`item.actions`]=\"{ item }\">\n\n                        <v-icon title=\"editer\" color=\"blue\" small class=\"mr-2\" @click=\"modifierProgrammeImmobilier(item)\">mdi-pencil</v-icon>\n                        \n                        <v-icon title=\"valider\" color=\"green\" small class=\"mr-2\" @click=\"validateProgrammeImmobilier(item)\">mdi-sync</v-icon>\n\n                        <v-icon title=\"supprimer\" color=\"red\" small class=\"mr-2\" @click=\"supprimerProgrammeImmobilier(item)\">mdi-delete</v-icon>\n\n                    </template>\n\n                </v-data-table>\n\n            </v-card>\n\n        </v-container>\n        \n    </div>\n    \n</template>\n\n\n<script>\n\n    import axios from \"axios\";\n\n    import $ from 'jquery'\n\n    import { API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER_PAR_PROMOTEUR, API_SUPPRIMER_PROGRAMME_IMMOBILIER } from '../globalConfig/globalConfig';\n\n    export default {\n        \n        name : \"SelectionnerProgrammeImmobilier\",\n\n        data(){\n\n            return{\n\n                search:'',\n\n                dialogDelete: false,\n\n                headers:[\n\n                    { text : 'Code' , value: 'code' },\n\n                    { text : 'Designation' , value : 'designation' },\n\n                    { text : 'Ville'  , value : 'ville.designation'},\n\n                    { text : 'Valide' , value : 'estValide' },\n\n                    { text : 'Actions' , value : 'actions' , sortable : false }\n\n                ],\n\n                validateProgrammeImmobilier : true,\n\n                programmeImmobilierList: [],\n\n            }\n\n        },\n\n        \n        methods: {\n\n            // VALIDER UN PROGRAMME IMMOBILIER\n\n            validerProgrammeImmobilier(programmeImmobilier){\n\n                var parsedProgramme = JSON.stringify(programmeImmobilier);\n\n                localStorage.setItem('programmeImmobilier', parsedProgramme);\n\n                localStorage.setItem('modeValidate' , this.validateProgrammeImmobilier)\n\n                this.$router.push({ path: '/CreerModifierProgrammeImmobilier'});\n\n            },\n\n\n            //MODIFICATION D'UN PROGRAMME IMMOBILIER\n\n            modifierProgrammeImmobilier(programmeImmobilier) {\n\n                const parsedProgramme = JSON.stringify(programmeImmobilier);\n\n                localStorage.setItem(\"programmeImmobilier\", parsedProgramme);\n\n                this.$router.push({ path: \"/CreerModifierProgrammeImmobilier\" });\n\n            },\n\n\n\n            // SUPPRIMER UN PROGRAMME IMMOBILIER\n\n            supprimerProgrammeImmobilier(programmeImmobilier){\n\n                this.$swal.fire({title: 'Confirmer ?',text: \"Cette action est irréversible\",icon: 'warning',showCancelButton: true,\n\n                    confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',cancelButtonText: 'Annuler',confirmButtonText: 'Oui ,supprimer!'\n\n                }).then((result) =>{\n\n                    if(result.isConfirmed){\n\n                        axios.delete(API_SUPPRIMER_PROGRAMME_IMMOBILIER(programmeImmobilier.id))\n\n                        .then(response => {\n                        \n                        if (response.data.data == true) {\n\n                            this.$swal.fire('Supprimé!','Le programme immobilier, a bien ete supprimé.','success')\n\n                            this.ObtenirListeProgrammeImmobilier();\n                            \n                        } else {\n\n                            this.$swal.fire('Erreur!' , 'Echec de la suppression du programme immobilier.' , 'error')\n                            \n                        }\n                        \n                        }).catch(e => {\n\n                            this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n\n                        })\n\n                    }\n\n                })\n     \n            },\n\n            \n            \n\n\n            // NAVIGATION VERS LA PAGE DE CREATION D'UN NOUVEL PROGRAMME IMMOBILIER\n            \n            creerNouveauProgrammeImmobilier() {\n\n                this.$router.push({ path: \"/CreerModifierProgrammeImmobilier\" });\n\n            },\n\n            \n            \n            // OBTENIR LA LISTE DES PROGRAMMES IMMOBILIERS PAR PROMOTEUR\n\n            async ObtenirListeProgrammeImmobilier(){\n\n                await axios.get(API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER_PAR_PROMOTEUR(\"promoteur01\"))\n\n                .then((response) => {\n\n                    this.programmeImmobilierList = response.data.data;\n\n                })\n\n                .catch((e) => {\n\n                    this.errorMsg = e\n\n                    $(\".myAlert-bottom\").fadeIn();\n\n                    setTimeout(function(){\n\n                        $(\".myAlert-bottom\").fadeOut(); \n\n                    }, 4000)\n\n                });\n\n            }\n    \n        },\n\n\n\n        mounted() {\n\n            this.ObtenirListeProgrammeImmobilier()\n\n        },\n\n    }\n</script>\n\n\n<style scoped>\n\n\n</style>"]}]}