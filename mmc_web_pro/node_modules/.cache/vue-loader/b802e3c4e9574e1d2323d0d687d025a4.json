{"remainingRequest":"/home/kouevi/mmc_web_pro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kouevi/mmc_web_pro/src/components/espace_promoteur/SelectionnerProgrammeImmobilier.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kouevi/mmc_web_pro/src/components/espace_promoteur/SelectionnerProgrammeImmobilier.vue","mtime":1664801848867},{"path":"/home/kouevi/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmc_web_pro/node_modules/babel-loader/lib/index.js","mtime":1663945505798},{"path":"/home/kouevi/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmc_web_pro/node_modules/vue-loader/lib/index.js","mtime":1663945506422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgogICAgaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKCiAgICBpbXBvcnQgJCBmcm9tICdqcXVlcnknCgogICAgaW1wb3J0IHsgQVBJX09CVEVOSVJfTElTVEVfUFJPR1JBTU1FX0lNTU9CSUxJRVJfUEFSX1BST01PVEVVUiwgQVBJX1NVUFBSSU1FUl9QUk9HUkFNTUVfSU1NT0JJTElFUiB9IGZyb20gJy4uL2dsb2JhbENvbmZpZy9nbG9iYWxDb25maWcnOwoKICAgIGV4cG9ydCBkZWZhdWx0IHsKICAgICAgICAKICAgICAgICBuYW1lIDogIlNlbGVjdGlvbm5lclByb2dyYW1tZUltbW9iaWxpZXIiLAoKICAgICAgICBkYXRhKCl7CgogICAgICAgICAgICByZXR1cm57CgogICAgICAgICAgICAgICAgc2VhcmNoOicnLAoKICAgICAgICAgICAgICAgIGRpYWxvZ0RlbGV0ZTogZmFsc2UsCgogICAgICAgICAgICAgICAgaGVhZGVyczpbCgogICAgICAgICAgICAgICAgICAgIHsgdGV4dCA6ICdDb2RlJyAsIHZhbHVlOiAnY29kZScgfSwKCiAgICAgICAgICAgICAgICAgICAgeyB0ZXh0IDogJ0Rlc2lnbmF0aW9uJyAsIHZhbHVlIDogJ2Rlc2lnbmF0aW9uJyB9LAoKICAgICAgICAgICAgICAgICAgICB7IHRleHQgOiAnVmlsbGUnICAsIHZhbHVlIDogJ3ZpbGxlLmRlc2lnbmF0aW9uJ30sCgogICAgICAgICAgICAgICAgICAgIHsgdGV4dCA6ICdWYWxpZGUnICwgdmFsdWUgOiAnZXN0VmFsaWRlJyB9LAoKICAgICAgICAgICAgICAgICAgICB7IHRleHQgOiAnQWN0aW9ucycgLCB2YWx1ZSA6ICdhY3Rpb25zJyAsIHNvcnRhYmxlIDogZmFsc2UgfQoKICAgICAgICAgICAgICAgIF0sCgogICAgICAgICAgICAgICAgdmFsaWRhdGVQcm9ncmFtbWVJbW1vYmlsaWVyIDogdHJ1ZSwKCiAgICAgICAgICAgICAgICBwcm9ncmFtbWVJbW1vYmlsaWVyTGlzdDogW10sCgogICAgICAgICAgICB9CgogICAgICAgIH0sCgogICAgICAgIHdhdGNoOiB7CgogICAgICAgICAgICBkaWFsb2dEZWxldGUgKHZhbCkgewoKICAgICAgICAgICAgICAgIHZhbCB8fCB0aGlzLmNsb3NlRGVsZXRlKCkKCiAgICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICAKICAgICAgICBtZXRob2RzOiB7CgogICAgICAgICAgICB2YWxpZGVyUHJvZ3JhbW1lSW1tb2JpbGllcihwcm9ncmFtbWUpewoKICAgICAgICAgICAgICAgIHZhciBwYXJzZWRQcm9ncmFtbWUgPSBKU09OLnN0cmluZ2lmeShwcm9ncmFtbWUpOwoKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwcm9ncmFtbWVJbW1vYmlsaWVyJywgcGFyc2VkUHJvZ3JhbW1lKTsKCiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbW9kZVZhbGlkYXRlJyAsIHRoaXMudmFsaWRhdGVQcm9ncmFtbWVJbW1vYmlsaWVyKQoKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lIDogJ1Byb2dyYW1tZUltbW9iaWxpZXInfSk7CgogICAgICAgICAgICB9LAoKCiAgICAgICAgICAgIC8vTU9ESUZJQ0FUSU9OIEQnVU4gUFJPR1JBTU1FIElNTU9CSUxJRVIKCiAgICAgICAgICAgIG1vZGlmaWVyUHJvZ3JhbW1lSW1tb2JpbGllcihwcm9ncmFtbWUpIHsKCiAgICAgICAgICAgICAgICBjb25zdCBwYXJzZWRQcm9ncmFtbWUgPSBKU09OLnN0cmluZ2lmeShwcm9ncmFtbWUpOwoKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJwcm9ncmFtbWVJbW1vYmlsaWVyIiwgcGFyc2VkUHJvZ3JhbW1lKTsKCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJQcm9ncmFtbWVJbW1vYmlsaWVyIiB9KTsKCiAgICAgICAgICAgIH0sCgoKICAgICAgICAgICAgc3VwcHJpbWVyUHJvZ3JhbW1lSW1tb2JpbGllckNvbmZpcm0ocHJvZ3JhbW1lSW1tb2JpbGllcil7CgogICAgICAgICAgICAgICAgYXhpb3MuZGVsZXRlKEFQSV9TVVBQUklNRVJfUFJPR1JBTU1FX0lNTU9CSUxJRVIocHJvZ3JhbW1lSW1tb2JpbGllci5pZCkpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmRhdGEgPT0gdHJ1ZSkgewoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5PYnRlbmlyTGlzdGVQcm9ncmFtbWVJbW1vYmlsaWVyKCkKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSgnRXJyZXVyIScgLCAnRWNoZWMgZGUgbGEgc3VwcHJlc3Npb24gZHUgbG9nZW1lbnQuJyAsICdlcnJvcicpCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGUgPT4gewoKICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoe2ljb246ICdlcnJvcicsdGl0bGU6ICdFcnJldXIuLi4nLHRleHQ6IGV9KQoKICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICB9LAoKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEZFUk1FUiBMQSBCT0lURSBERSBESUFMT0cgREUgU1VQUFJFU1NJT04gRCdVTiBQUk9HUkFNTUUgSU1NT0JJTElFUgoKICAgICAgICAgICAgY2xvc2VEZWxldGUgKCkgewoKICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nRGVsZXRlID0gZmFsc2UKCiAgICAgICAgICAgIH0sCgoKCiAgICAgICAgICAgIC8vIFNVUFBSSU1FUiBVTiBQUk9HUkFNTUUgSU1NT0JJTElFUiBQQVIgTEUgQklBSVMgRCdVTiBTRVJWSUNFIFdFQgogICAgICAgICAgICAKCgoKICAgICAgICAgICAgLy8gTkFWSUdBVElPTiBWRVJTIExBIFBBR0UgREUgQ1JFQVRJT04gRCdVTiBOT1VWRUwgUFJPR1JBTU1FIElNTU9CSUxJRVIKICAgICAgICAgICAgCiAgICAgICAgICAgIGNyZWVyTm91dmVhdVByb2dyYW1tZUltbW9iaWxpZXIoKSB7CgogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL0NyZWVyTW9kaWZpZXJQcm9ncmFtbWVJbW1vYmlsaWVyIiB9KTsKCiAgICAgICAgICAgIH0sCgogICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE9CVEVOSVIgTEEgTElTVEUgREVTIFBST0dSQU1NRVMgSU1NT0JJTElFUlMgUEFSIFBST01PVEVVUgoKICAgICAgICAgICAgYXN5bmMgT2J0ZW5pckxpc3RlUHJvZ3JhbW1lSW1tb2JpbGllcigpewoKICAgICAgICAgICAgICAgIGF3YWl0IGF4aW9zLmdldChBUElfT0JURU5JUl9MSVNURV9QUk9HUkFNTUVfSU1NT0JJTElFUl9QQVJfUFJPTU9URVVSKCJwcm9tb3RldXIwMSIpKQoKICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewoKICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2dyYW1tZUltbW9iaWxpZXJMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwoKICAgICAgICAgICAgICAgIH0pCgogICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CgogICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlCgogICAgICAgICAgICAgICAgICAgICQoIi5teUFsZXJ0LWJvdHRvbSIpLmZhZGVJbigpOwoKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CgogICAgICAgICAgICAgICAgICAgICAgICAkKCIubXlBbGVydC1ib3R0b20iKS5mYWRlT3V0KCk7IAoKICAgICAgICAgICAgICAgICAgICB9LCA0MDAwKQoKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgfQogICAgCiAgICAgICAgfSwKCgoKICAgICAgICBtb3VudGVkKCkgewoKICAgICAgICAgICAgdGhpcy5PYnRlbmlyTGlzdGVQcm9ncmFtbWVJbW1vYmlsaWVyKCkKCiAgICAgICAgfSwKCiAgICB9Cg=="},{"version":3,"sources":["SelectionnerProgrammeImmobilier.vue"],"names":[],"mappings":";;AA4EA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;;;;AAIA;;;;;AAKA;;AAEA;;AAEA;;AAEA;;;;AAIA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;;;AAIA;;AAEA;;AAEA;;AAEA","file":"SelectionnerProgrammeImmobilier.vue","sourceRoot":"src/components/espace_promoteur","sourcesContent":["<template>\n\n    <div>\n\n        <v-container> \n          \n            <v-btn text color=\"blue\"> \n\n                <v-icon>mdi-plus</v-icon>NOUVEAU PROGRAMME\n\n            </v-btn>\n\n\n\n            <v-spacer></v-spacer>\n\n            <v-card>\n\n                <v-card-title>PROGRAMMES IMMOBILIERS\n                        \n                <v-spacer></v-spacer>\n\n                <v-text-field v-model=\"search\" append-icon=\"mdi-magnify\" label=\"Search\" single-line hide-details></v-text-field></v-card-title>\n\n                <v-data-table :headers=\"headers\" :items=\"programmeImmobilierList\" :search=\"search\">\n\n                    <template v-slot:[`item.actions`]=\"{ programmeImmobilier }\">\n\n                        <v-icon small class=\"mr-2\" @click=\"modifierProgrammeImmobilier(programmeImmobilier)\">mdi-pencil</v-icon>\n                        \n                        <v-icon small class=\"mr-2\" @click=\"validateProgrammeImmobilier(programmeImmobilier)\">mdi-pencil</v-icon>\n\n                        <v-dialog v-model=\"dialogDelete\" persistent max-width=\"700px\">\n\n                            <template v-slot:activator=\"{ on, attrs }\">\n\n                                <v-icon small class=\"mr-2\" v-bind=\"attrs\" v-on=\"on\">mdi-delete</v-icon>\n\n                            </template>\n\n                            <v-card>\n\n                                <v-card-title class=\"text-h5\">Voulez-vous vraiment supprimer ce programme immobilier ?</v-card-title>\n\n                                <v-card-actions>\n\n                                    <v-spacer></v-spacer>\n\n                                    <v-btn color=\"blue darken-1\" text @click=\"closeDelete\">Cancel</v-btn>\n\n                                    <v-btn color=\"blue darken-1\" text @click=\"supprimerProgrammeImmobilierConfirm(programmeImmobilier)\">OK</v-btn>\n\n                                    <v-spacer></v-spacer>\n\n                                </v-card-actions>\n\n                            </v-card>\n\n                        </v-dialog>\n\n                    </template>\n\n\n                </v-data-table>\n\n            </v-card>\n\n        </v-container>\n        \n    </div>\n    \n</template>\n\n\n<script>\n\n    import axios from \"axios\";\n\n    import $ from 'jquery'\n\n    import { API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER_PAR_PROMOTEUR, API_SUPPRIMER_PROGRAMME_IMMOBILIER } from '../globalConfig/globalConfig';\n\n    export default {\n        \n        name : \"SelectionnerProgrammeImmobilier\",\n\n        data(){\n\n            return{\n\n                search:'',\n\n                dialogDelete: false,\n\n                headers:[\n\n                    { text : 'Code' , value: 'code' },\n\n                    { text : 'Designation' , value : 'designation' },\n\n                    { text : 'Ville'  , value : 'ville.designation'},\n\n                    { text : 'Valide' , value : 'estValide' },\n\n                    { text : 'Actions' , value : 'actions' , sortable : false }\n\n                ],\n\n                validateProgrammeImmobilier : true,\n\n                programmeImmobilierList: [],\n\n            }\n\n        },\n\n        watch: {\n\n            dialogDelete (val) {\n\n                val || this.closeDelete()\n\n            },\n        },\n        \n        methods: {\n\n            validerProgrammeImmobilier(programme){\n\n                var parsedProgramme = JSON.stringify(programme);\n\n                localStorage.setItem('programmeImmobilier', parsedProgramme);\n\n                localStorage.setItem('modeValidate' , this.validateProgrammeImmobilier)\n\n                this.$router.push({name : 'ProgrammeImmobilier'});\n\n            },\n\n\n            //MODIFICATION D'UN PROGRAMME IMMOBILIER\n\n            modifierProgrammeImmobilier(programme) {\n\n                const parsedProgramme = JSON.stringify(programme);\n\n                localStorage.setItem(\"programmeImmobilier\", parsedProgramme);\n\n                this.$router.push({ name: \"ProgrammeImmobilier\" });\n\n            },\n\n\n            supprimerProgrammeImmobilierConfirm(programmeImmobilier){\n\n                axios.delete(API_SUPPRIMER_PROGRAMME_IMMOBILIER(programmeImmobilier.id)).then(response => {\n                    \n                    if (response.data.data == true) {\n\n                        this.ObtenirListeProgrammeImmobilier()\n                        \n                    } else {\n\n                        this.$swal.fire('Erreur!' , 'Echec de la suppression du logement.' , 'error')\n                        \n                    }\n                    \n                }).catch(e => {\n\n                    this.$swal.fire({icon: 'error',title: 'Erreur...',text: e})\n\n                })\n\n            },\n\n            \n            // FERMER LA BOITE DE DIALOG DE SUPPRESSION D'UN PROGRAMME IMMOBILIER\n\n            closeDelete () {\n\n                this.dialogDelete = false\n\n            },\n\n\n\n            // SUPPRIMER UN PROGRAMME IMMOBILIER PAR LE BIAIS D'UN SERVICE WEB\n            \n\n\n\n            // NAVIGATION VERS LA PAGE DE CREATION D'UN NOUVEL PROGRAMME IMMOBILIER\n            \n            creerNouveauProgrammeImmobilier() {\n\n                this.$router.push({ path: \"/CreerModifierProgrammeImmobilier\" });\n\n            },\n\n            \n            \n            // OBTENIR LA LISTE DES PROGRAMMES IMMOBILIERS PAR PROMOTEUR\n\n            async ObtenirListeProgrammeImmobilier(){\n\n                await axios.get(API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER_PAR_PROMOTEUR(\"promoteur01\"))\n\n                .then((response) => {\n\n                    this.programmeImmobilierList = response.data.data;\n\n                })\n\n                .catch((e) => {\n\n                    this.errorMsg = e\n\n                    $(\".myAlert-bottom\").fadeIn();\n\n                    setTimeout(function(){\n\n                        $(\".myAlert-bottom\").fadeOut(); \n\n                    }, 4000)\n\n                });\n\n            }\n    \n        },\n\n\n\n        mounted() {\n\n            this.ObtenirListeProgrammeImmobilier()\n\n        },\n\n    }\n</script>\n\n\n<style scoped>\n\n\n</style>"]}]}