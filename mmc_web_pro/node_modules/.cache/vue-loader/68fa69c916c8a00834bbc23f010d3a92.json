{"remainingRequest":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kouevi/mmcwebpro/mmc_web_pro/src/components/espace_client/simulationLogementFinancementImmobilier/SelectionnerSimulationFinancementImmobilier.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/src/components/espace_client/simulationLogementFinancementImmobilier/SelectionnerSimulationFinancementImmobilier.vue","mtime":1667827076813},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/babel-loader/lib/index.js","mtime":1663945505798},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/vue-loader/lib/index.js","mtime":1663945506422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBOYXZpZ2F0aW9uQmFyIGZyb20gJy4uLy4uL2xheW91dC9uYXZpZ2F0aW9uQmFyLnZ1ZScKaW1wb3J0IEZvb3RlckJhciBmcm9tICcuLi8uLi9sYXlvdXQvZm9vdGVyQmFyLnZ1ZScKaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIgppbXBvcnQgeyAgQVBJX09CVEVOSVJfTElTVEVfU0lNVUxBVElPTl9GSU5BTkNFTUVOVF9QQVJfVVNFUiAsIEFQSV9TVVBQUklNRVJfU0lNVUxBVElPTl9GSU5BTkNFTUVOVF9QQVJfSUQgLCBBUElfVFJBTlNGT1JNRVJfU0lNVUxBVElPTl9FTl9ERU1BTkRFICAgfSBmcm9tICcuLi8uLi9nbG9iYWxDb25maWcvZ2xvYmFsQ29uZmlnJzsKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZSA6ICJTZWxlY3Rpb25uZXJTaW11bGF0aW9uRmluYW5jZW1lbnRJbW1vYmlsaWVyIiwKICAgIGNvbXBvbmVudHM6ewogICAgICAgIE5hdmlnYXRpb25CYXIsCiAgICAgICAgRm9vdGVyQmFyCiAgICB9LAogICAgZGF0YSgpewogICAgICAgIHJldHVybnsKICAgICAgICAgICAgc2ltdWxhdGlvblNhdmluZ3NCeVVzZXJMaXN0IDogW10sCiAgICAgICAgfQogICAgfSwKCiAgICBtZXRob2RzOnsKCiAgICAgICAgLy8gUkVDVVBFUkVSIExBIExJU1RFIERFUyBTSU1VTEFUSU9OUyBFTlJFR0lTVFLDiVMgUEFSIFVUSUxJU0FURVVSCgogICAgICAgIGFzeW5jIGdldFNpbXVsYXRpb25TYXZpbmdzQnlVc2VyTGlzdCgpewogICAgICAgICAgICBhd2FpdCBheGlvcy5nZXQoQVBJX09CVEVOSVJfTElTVEVfU0lNVUxBVElPTl9GSU5BTkNFTUVOVF9QQVJfVVNFUigiZmFhZGMxNWYtMjgwOC00NGUwLTk0Y2MtZDBiZDg0MWJjZjU5IikpCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgICAgdGhpcy5zaW11bGF0aW9uU2F2aW5nc0J5VXNlckxpc3QgPSByZXNwb25zZS5kYXRhLmRhdGEKICAgICAgICAgICAgfSkuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCgogICAgICAgIAogICAgICAgIC8vIFRSQU5TRk9STUVSIFVORSBTSU1VTEFUSU9OIEVOIERFTUFOREUgREUgUkVTRVJWQVRJT04KCiAgICAgICAgYXN5bmMgdHJhbnNmb3JtZXJTaW11bGF0aW9uRW5EZW1hbmRlUmVzZXJ2YXRpb24oc2ltdWxhdGlvbil7CiAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7dGl0bGU6ICdDb25maXJtZXIgIScsdGV4dDogIlZvdWxleiB2b3VzIHRyYW5zZm9ybWVyIGNldHRlIHNpbXVsYXRpb24gPyIsaWNvbjogJ3dhcm5pbmcnLHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JyxjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLGNhbmNlbEJ1dHRvblRleHQ6ICdBbm51bGVyJyxjb25maXJtQnV0dG9uVGV4dDogJ1RyYW5zZm9ybWVyIScKICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PnsKICAgICAgICAgICAgICAgIGlmKHJlc3VsdC5pc0NvbmZpcm1lZCl7CiAgICAgICAgICAgICAgICAgICAgYXhpb3MucG9zdChBUElfVFJBTlNGT1JNRVJfU0lNVUxBVElPTl9FTl9ERU1BTkRFKHNpbXVsYXRpb24uaWQpKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSgnVHJhbnNmb3Jtw6khJyAsICdMYSBzaW11bGF0aW9uIGEgYmllbiDDqXTDqSB0cmFuc2Zvcm3DqS4nICwgJ3N1Y2Nlc3MnKQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKCdFcnJldXIhJyAsICdFY2hlYyBkZSBsYSB0cmFuc2Zvcm1hdGlvbiBkZSBsYSBzaW11bGF0aW9uLicgLCAnZXJyb3InKSAgCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSkKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsgaWNvbjogJ2Vycm9yJywgdGl0bGU6ICdFcnJldXIuLi4nLCB0ZXh0OiBlfSkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpCiAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoeyBpY29uOiAnZXJyb3InLCB0aXRsZTogJ0VycmV1ci4uLicsIHRleHQ6IGV9KQogICAgICAgICAgICB9KSAKICAgICAgICB9LAoKICAgICAgICAvL01PRElGSUVSIFVORSBTSU1VTEFUSU9OCiAgICAgICAgZWRpdFNpbXVsYXRpb25GaW5hbmNlbWVudChzaW11bGF0aW9uKXsKICAgICAgICAgICAgY29uc3QgcGFyc2VkU2ltdWxhdGlvbiA9IEpTT04uc3RyaW5naWZ5KHNpbXVsYXRpb24pOwogICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2ltdWxhdGlvbicsIHBhcnNlZFNpbXVsYXRpb24pOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogIi9Nb2RpZmllclNpbXVsYXRpb25GaW5hbmNlbWVudEltbW9iaWxpZXIiIH0pOwogICAgICAgIH0sCgoKICAgICAgICAvL0VYRUNVVEVSIFVORSBTSU1VTEFUSU9OIERFIEZJTkFOQ0VNRU5UCgogICAgICAgIC8qYXN5bmMgZXhlY3V0ZXJTaW11bGF0aW9uRmluYW5jZW1lbnQoc2ltdWxhdGlvbil7CgogICAgICAgIH0sKi8KCiAgICAgICAgLy8gU1VQUFJJTUVSIFVORSBTSU1VTEFUSU9OIERFIEZJTkFOQ0VNRU5UIElNTU9CSUxJRVIKICAgICAgICBkZWxldGVTaW11bGF0aW9uSW1tb2JpbGllcihzaW11bGF0aW9uKXsKICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHt0aXRsZTogJ0NvbmZpcm1lciA/Jyx0ZXh0OiAiQ2V0dGUgYWN0aW9uIGVzdCBpcnLDqXZlcnNpYmxlIixpY29uOiAnd2FybmluZycsc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLGNhbmNlbEJ1dHRvbkNvbG9yOiAnI2QzMycsY2FuY2VsQnV0dG9uVGV4dDogJ0FubnVsZXInLGNvbmZpcm1CdXR0b25UZXh0OiAnT3VpICxzdXBwcmltZXIhJwogICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+ewogICAgICAgICAgICAgICAgaWYocmVzdWx0LmlzQ29uZmlybWVkKXsKICAgICAgICAgICAgICAgICAgICBheGlvcy5kZWxldGUoQVBJX1NVUFBSSU1FUl9TSU1VTEFUSU9OX0ZJTkFOQ0VNRU5UX1BBUl9JRChzaW11bGF0aW9uLmlkKSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoJ1N1cHByaW3DqSEnICwgJ0xhIHNpbXVsYXRpb24gYSBiaWVuIMOpdMOpIHN1cHByaW3DqS4nICwgJ3N1Y2Nlc3MnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRTaW11bGF0aW9uU2F2aW5nc0J5VXNlckxpc3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSgnRXJyZXVyIScgLCAnRWNoZWMgZGUgbGEgc3VwcHJlc3Npb24gZGUgbGEgc2ltdWxhdGlvbi4nICwgJ2Vycm9yJykgIAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7IGljb246ICdlcnJvcicsIHRpdGxlOiAnRXJyZXVyLi4uJywgdGV4dDogZX0pCiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoeyBpY29uOiAnZXJyb3InLCB0aXRsZTogJ0VycmV1ci4uLicsIHRleHQ6IGV9KQogICAgICAgICAgICB9KQogICAgICAgIH0sCgogICAgfSwKCiAgICBtb3VudGVkKCl7CiAgICAgICAgdGhpcy5nZXRTaW11bGF0aW9uU2F2aW5nc0J5VXNlckxpc3QoKTsKICAgIH0KfQo="},{"version":3,"sources":["SelectionnerSimulationFinancementImmobilier.vue"],"names":[],"mappings":";AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA","file":"SelectionnerSimulationFinancementImmobilier.vue","sourceRoot":"src/components/espace_client/simulationLogementFinancementImmobilier","sourcesContent":["<template>\n    <v-app>\n        <NavigationBar/>\n\n        <v-main>\n\n            <v-container>\n                <p></p>\n                <v-row><p class=\"title\">VOS SIMULATIONS ENREGISTRÉES</p></v-row>\n            </v-container>\n\n            <v-container>\n                <v-row>\n                    <v-col cols=\"12\" v-for=\"(simulation , s) in simulationSavingsByUserList\" :key=\"s\">\n                        <v-card>\n                            <v-list>\n                                <v-list-item>\n                                    <v-list-item-content>\n                                        <v-list-item-title class=\"title_simulation\"> SIMULATION {{ s + 1 }}</v-list-item-title>\n                                        <v-list-item-subtitle>Numéro de reference :&nbsp;&nbsp;  ...{{ simulation.id.slice(-10) }}</v-list-item-subtitle>\n                                    </v-list-item-content>\n                    \n                                    <v-list-item-action>\n                                        <v-menu bottom right>\n                                            <template v-slot:activator=\"{ on, attrs }\">\n                                                <v-btn icon v-bind=\"attrs\" v-on=\"on\"><v-icon>mdi-dots-horizontal</v-icon></v-btn>\n                                            </template>\n  \n                                            <v-list>\n                                                <v-list-item link @click=\"editSimulationFinancement(simulation)\">\n                                                    <v-list-item-action><v-icon>mdi-pencil</v-icon></v-list-item-action>                         \n                                                    <v-list-item-subtitle>Editer</v-list-item-subtitle>\n                                                </v-list-item>\n\n                                                <v-list-item link>\n                                                    <v-list-item-action><v-icon>mdi-cog-sync</v-icon></v-list-item-action>                          \n                                                    <v-list-item-subtitle>Exécuter</v-list-item-subtitle>\n                                                </v-list-item>\n\n                                                <v-list-item link @click=\"transformerSimulationEnDemandeReservation(simulation)\">    \n                                                    <v-list-item-action><v-icon>mdi-sync</v-icon></v-list-item-action>                      \n                                                    <v-list-item-subtitle>Transformer</v-list-item-subtitle>\n                                                </v-list-item>\n\n                                                <v-list-item link @click=\"deleteSimulationImmobilier(simulation)\">  \n                                                    <v-list-item-action><v-icon>mdi-delete</v-icon></v-list-item-action>                        \n                                                    <v-list-item-subtitle>Supprimer</v-list-item-subtitle>\n                                                </v-list-item>\n\n                                            </v-list>\n                                        </v-menu>\n                                    </v-list-item-action>\n                                </v-list-item>\n\n                                <v-list-item>\n                                    <v-list-item-content>\n                                        <v-list-item-subtitle>Designation :</v-list-item-subtitle>\n                                    </v-list-item-content>\n                    \n                                    <v-list-item-content>\n                                        <v-list-item-subtitle>{{ simulation.designation }}</v-list-item-subtitle>\n                                    </v-list-item-content>\n                                </v-list-item>\n\n                                <v-list-item>\n                                    <v-list-item-content>\n                                        <v-list-item-subtitle>Description :</v-list-item-subtitle>\n                                    </v-list-item-content>\n                    \n                                    <v-list-item-content>\n                                        <v-list-item-subtitle>{{ simulation.description }}</v-list-item-subtitle>\n                                    </v-list-item-content>\n                                </v-list-item>\n                                \n                            </v-list>\n                            \n                        </v-card>\n                    </v-col>\n                </v-row>\n            </v-container>\n\n        </v-main>\n\n        <FooterBar/>\n    </v-app>\n</template>\n\n<script>\nimport NavigationBar from '../../layout/navigationBar.vue'\nimport FooterBar from '../../layout/footerBar.vue'\nimport axios from \"axios\"\nimport {  API_OBTENIR_LISTE_SIMULATION_FINANCEMENT_PAR_USER , API_SUPPRIMER_SIMULATION_FINANCEMENT_PAR_ID , API_TRANSFORMER_SIMULATION_EN_DEMANDE   } from '../../globalConfig/globalConfig';\nexport default {\n    name : \"SelectionnerSimulationFinancementImmobilier\",\n    components:{\n        NavigationBar,\n        FooterBar\n    },\n    data(){\n        return{\n            simulationSavingsByUserList : [],\n        }\n    },\n\n    methods:{\n\n        // RECUPERER LA LISTE DES SIMULATIONS ENREGISTRÉS PAR UTILISATEUR\n\n        async getSimulationSavingsByUserList(){\n            await axios.get(API_OBTENIR_LISTE_SIMULATION_FINANCEMENT_PAR_USER(\"faadc15f-2808-44e0-94cc-d0bd841bcf59\"))\n            .then((response) => {\n                this.simulationSavingsByUserList = response.data.data\n            }).catch((e) => {\n                console.log(e)\n            });\n        },\n\n        \n        // TRANSFORMER UNE SIMULATION EN DEMANDE DE RESERVATION\n\n        async transformerSimulationEnDemandeReservation(simulation){\n            this.$swal.fire({title: 'Confirmer !',text: \"Voulez vous transformer cette simulation ?\",icon: 'warning',showCancelButton: true,\n                confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',cancelButtonText: 'Annuler',confirmButtonText: 'Transformer!'\n            }).then((result) =>{\n                if(result.isConfirmed){\n                    axios.post(API_TRANSFORMER_SIMULATION_EN_DEMANDE(simulation.id)).then(response => {\n                        if (response.status == 200) {\n                            this.$swal.fire('Transformé!' , 'La simulation a bien été transformé.' , 'success')\n                        } else {\n                            this.$swal.fire('Erreur!' , 'Echec de la transformation de la simulation.' , 'error')  \n                        }\n                    \n                    }).catch(e => {\n                        console.log(e)\n                        this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n                    })\n                }\n            }).catch(e => {\n                console.log(e)\n                this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n            }) \n        },\n\n        //MODIFIER UNE SIMULATION\n        editSimulationFinancement(simulation){\n            const parsedSimulation = JSON.stringify(simulation);\n            localStorage.setItem('simulation', parsedSimulation);\n            this.$router.push({path: \"/ModifierSimulationFinancementImmobilier\" });\n        },\n\n\n        //EXECUTER UNE SIMULATION DE FINANCEMENT\n\n        /*async executerSimulationFinancement(simulation){\n\n        },*/\n\n        // SUPPRIMER UNE SIMULATION DE FINANCEMENT IMMOBILIER\n        deleteSimulationImmobilier(simulation){\n            this.$swal.fire({title: 'Confirmer ?',text: \"Cette action est irréversible\",icon: 'warning',showCancelButton: true,\n                confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',cancelButtonText: 'Annuler',confirmButtonText: 'Oui ,supprimer!'\n            }).then((result) =>{\n                if(result.isConfirmed){\n                    axios.delete(API_SUPPRIMER_SIMULATION_FINANCEMENT_PAR_ID(simulation.id)).then(response => {\n                        if (response.status == 200) {\n                            this.$swal.fire('Supprimé!' , 'La simulation a bien été supprimé.' , 'success')\n                            this.getSimulationSavingsByUserList();\n                        } else {\n                            this.$swal.fire('Erreur!' , 'Echec de la suppression de la simulation.' , 'error')  \n                        }\n                    \n                    }).catch(e => {\n                        this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n                    })\n                }\n            }).catch(e => {\n                this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n            })\n        },\n\n    },\n\n    mounted(){\n        this.getSimulationSavingsByUserList();\n    }\n}\n</script>\n\n<style scoped>\n    .title{\n        font-weight: bold;\n        color: #1B1464;\n    }\n\n    .title_simulation{\n        font-weight: bold;\n    }\n</style>"]}]}