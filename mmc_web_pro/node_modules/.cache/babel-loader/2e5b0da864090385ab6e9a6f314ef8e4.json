{"remainingRequest":"/home/kouevi/mmc_web_pro/node_modules/babel-loader/lib/index.js!/home/kouevi/mmc_web_pro/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/kouevi/mmc_web_pro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kouevi/mmc_web_pro/src/components/espace_promoteur/SelectionnerProgrammeImmobilier.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kouevi/mmc_web_pro/src/components/espace_promoteur/SelectionnerProgrammeImmobilier.vue","mtime":1664801848867},{"path":"/home/kouevi/mmc_web_pro/babel.config.js","mtime":1663945696927},{"path":"/home/kouevi/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmc_web_pro/node_modules/babel-loader/lib/index.js","mtime":1663945505798},{"path":"/home/kouevi/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmc_web_pro/node_modules/vue-loader/lib/index.js","mtime":1663945506422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7CmltcG9ydCB7IEFQSV9PQlRFTklSX0xJU1RFX1BST0dSQU1NRV9JTU1PQklMSUVSX1BBUl9QUk9NT1RFVVIsIEFQSV9TVVBQUklNRVJfUFJPR1JBTU1FX0lNTU9CSUxJRVIgfSBmcm9tICcuLi9nbG9iYWxDb25maWcvZ2xvYmFsQ29uZmlnJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTZWxlY3Rpb25uZXJQcm9ncmFtbWVJbW1vYmlsaWVyIiwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaDogJycsCiAgICAgIGRpYWxvZ0RlbGV0ZTogZmFsc2UsCiAgICAgIGhlYWRlcnM6IFt7CiAgICAgICAgdGV4dDogJ0NvZGUnLAogICAgICAgIHZhbHVlOiAnY29kZScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdEZXNpZ25hdGlvbicsCiAgICAgICAgdmFsdWU6ICdkZXNpZ25hdGlvbicKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdWaWxsZScsCiAgICAgICAgdmFsdWU6ICd2aWxsZS5kZXNpZ25hdGlvbicKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdWYWxpZGUnLAogICAgICAgIHZhbHVlOiAnZXN0VmFsaWRlJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0FjdGlvbnMnLAogICAgICAgIHZhbHVlOiAnYWN0aW9ucycsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH1dLAogICAgICB2YWxpZGF0ZVByb2dyYW1tZUltbW9iaWxpZXI6IHRydWUsCiAgICAgIHByb2dyYW1tZUltbW9iaWxpZXJMaXN0OiBbXQogICAgfTsKICB9LAoKICB3YXRjaDogewogICAgZGlhbG9nRGVsZXRlKHZhbCkgewogICAgICB2YWwgfHwgdGhpcy5jbG9zZURlbGV0ZSgpOwogICAgfQoKICB9LAogIG1ldGhvZHM6IHsKICAgIHZhbGlkZXJQcm9ncmFtbWVJbW1vYmlsaWVyKHByb2dyYW1tZSkgewogICAgICB2YXIgcGFyc2VkUHJvZ3JhbW1lID0gSlNPTi5zdHJpbmdpZnkocHJvZ3JhbW1lKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2dyYW1tZUltbW9iaWxpZXInLCBwYXJzZWRQcm9ncmFtbWUpOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbW9kZVZhbGlkYXRlJywgdGhpcy52YWxpZGF0ZVByb2dyYW1tZUltbW9iaWxpZXIpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ1Byb2dyYW1tZUltbW9iaWxpZXInCiAgICAgIH0pOwogICAgfSwKCiAgICAvL01PRElGSUNBVElPTiBEJ1VOIFBST0dSQU1NRSBJTU1PQklMSUVSCiAgICBtb2RpZmllclByb2dyYW1tZUltbW9iaWxpZXIocHJvZ3JhbW1lKSB7CiAgICAgIGNvbnN0IHBhcnNlZFByb2dyYW1tZSA9IEpTT04uc3RyaW5naWZ5KHByb2dyYW1tZSk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJwcm9ncmFtbWVJbW1vYmlsaWVyIiwgcGFyc2VkUHJvZ3JhbW1lKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJQcm9ncmFtbWVJbW1vYmlsaWVyIgogICAgICB9KTsKICAgIH0sCgogICAgc3VwcHJpbWVyUHJvZ3JhbW1lSW1tb2JpbGllckNvbmZpcm0ocHJvZ3JhbW1lSW1tb2JpbGllcikgewogICAgICBheGlvcy5kZWxldGUoQVBJX1NVUFBSSU1FUl9QUk9HUkFNTUVfSU1NT0JJTElFUihwcm9ncmFtbWVJbW1vYmlsaWVyLmlkKSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YSA9PSB0cnVlKSB7CiAgICAgICAgICB0aGlzLk9idGVuaXJMaXN0ZVByb2dyYW1tZUltbW9iaWxpZXIoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kc3dhbC5maXJlKCdFcnJldXIhJywgJ0VjaGVjIGRlIGxhIHN1cHByZXNzaW9uIGR1IGxvZ2VtZW50LicsICdlcnJvcicpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsKICAgICAgICAgIGljb246ICdlcnJvcicsCiAgICAgICAgICB0aXRsZTogJ0VycmV1ci4uLicsCiAgICAgICAgICB0ZXh0OiBlCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvLyBGRVJNRVIgTEEgQk9JVEUgREUgRElBTE9HIERFIFNVUFBSRVNTSU9OIEQnVU4gUFJPR1JBTU1FIElNTU9CSUxJRVIKICAgIGNsb3NlRGVsZXRlKCkgewogICAgICB0aGlzLmRpYWxvZ0RlbGV0ZSA9IGZhbHNlOwogICAgfSwKCiAgICAvLyBTVVBQUklNRVIgVU4gUFJPR1JBTU1FIElNTU9CSUxJRVIgUEFSIExFIEJJQUlTIEQnVU4gU0VSVklDRSBXRUIKICAgIC8vIE5BVklHQVRJT04gVkVSUyBMQSBQQUdFIERFIENSRUFUSU9OIEQnVU4gTk9VVkVMIFBST0dSQU1NRSBJTU1PQklMSUVSCiAgICBjcmVlck5vdXZlYXVQcm9ncmFtbWVJbW1vYmlsaWVyKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogIi9DcmVlck1vZGlmaWVyUHJvZ3JhbW1lSW1tb2JpbGllciIKICAgICAgfSk7CiAgICB9LAoKICAgIC8vIE9CVEVOSVIgTEEgTElTVEUgREVTIFBST0dSQU1NRVMgSU1NT0JJTElFUlMgUEFSIFBST01PVEVVUgogICAgYXN5bmMgT2J0ZW5pckxpc3RlUHJvZ3JhbW1lSW1tb2JpbGllcigpIHsKICAgICAgYXdhaXQgYXhpb3MuZ2V0KEFQSV9PQlRFTklSX0xJU1RFX1BST0dSQU1NRV9JTU1PQklMSUVSX1BBUl9QUk9NT1RFVVIoInByb21vdGV1cjAxIikpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMucHJvZ3JhbW1lSW1tb2JpbGllckxpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlOwogICAgICAgICQoIi5teUFsZXJ0LWJvdHRvbSIpLmZhZGVJbigpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgJCgiLm15QWxlcnQtYm90dG9tIikuZmFkZU91dCgpOwogICAgICAgIH0sIDQwMDApOwogICAgICB9KTsKICAgIH0KCiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuT2J0ZW5pckxpc3RlUHJvZ3JhbW1lSW1tb2JpbGllcigpOwogIH0KCn07"},{"version":3,"mappings":";AA4EA;AAEA;AAEA;AAEA;EAEAA,uCAFA;;EAIAC;IAEA;MAEAC,UAFA;MAIAC,mBAJA;MAMAC,UAEA;QAAAC;QAAAC;MAAA,CAFA,EAIA;QAAAD;QAAAC;MAAA,CAJA,EAMA;QAAAD;QAAAC;MAAA,CANA,EAQA;QAAAD;QAAAC;MAAA,CARA,EAUA;QAAAD;QAAAC;QAAAC;MAAA,CAVA,CANA;MAoBAC,iCApBA;MAsBAC;IAtBA;EA0BA,CAhCA;;EAkCAC;IAEAP;MAEAQ;IAEA;;EANA,CAlCA;EA2CAC;IAEAC;MAEA;MAEAC;MAEAA;MAEA;QAAAd;MAAA;IAEA,CAZA;;IAeA;IAEAe;MAEA;MAEAD;MAEA;QAAAd;MAAA;IAEA,CAzBA;;IA4BAgB;MAEAC;QAEA;UAEA;QAEA,CAJA,MAIA;UAEA;QAEA;MAEA,CAZA,EAYAC,KAZA,CAYAC;QAEA;UAAAC;UAAAC;UAAAhB;QAAA;MAEA,CAhBA;IAkBA,CAhDA;;IAmDA;IAEAiB;MAEA;IAEA,CAzDA;;IA6DA;IAKA;IAEAC;MAEA;QAAAC;MAAA;IAEA,CAxEA;;IA4EA;IAEA;MAEA,qFAEAC,IAFA,CAEAC;QAEA;MAEA,CANA,EAQAR,KARA,CAQAC;QAEA;QAEAQ;QAEAC;UAEAD;QAEA,CAJA,EAIA,IAJA;MAMA,CApBA;IAsBA;;EAtGA,CA3CA;;EAuJAE;IAEA;EAEA;;AA3JA","names":["name","data","search","dialogDelete","headers","text","value","sortable","validateProgrammeImmobilier","programmeImmobilierList","watch","val","methods","validerProgrammeImmobilier","localStorage","modifierProgrammeImmobilier","supprimerProgrammeImmobilierConfirm","axios","catch","e","icon","title","closeDelete","creerNouveauProgrammeImmobilier","path","then","response","$","setTimeout","mounted"],"sourceRoot":"src/components/espace_promoteur","sources":["SelectionnerProgrammeImmobilier.vue"],"sourcesContent":["<template>\n\n    <div>\n\n        <v-container> \n          \n            <v-btn text color=\"blue\"> \n\n                <v-icon>mdi-plus</v-icon>NOUVEAU PROGRAMME\n\n            </v-btn>\n\n\n\n            <v-spacer></v-spacer>\n\n            <v-card>\n\n                <v-card-title>PROGRAMMES IMMOBILIERS\n                        \n                <v-spacer></v-spacer>\n\n                <v-text-field v-model=\"search\" append-icon=\"mdi-magnify\" label=\"Search\" single-line hide-details></v-text-field></v-card-title>\n\n                <v-data-table :headers=\"headers\" :items=\"programmeImmobilierList\" :search=\"search\">\n\n                    <template v-slot:[`item.actions`]=\"{ programmeImmobilier }\">\n\n                        <v-icon small class=\"mr-2\" @click=\"modifierProgrammeImmobilier(programmeImmobilier)\">mdi-pencil</v-icon>\n                        \n                        <v-icon small class=\"mr-2\" @click=\"validateProgrammeImmobilier(programmeImmobilier)\">mdi-pencil</v-icon>\n\n                        <v-dialog v-model=\"dialogDelete\" persistent max-width=\"700px\">\n\n                            <template v-slot:activator=\"{ on, attrs }\">\n\n                                <v-icon small class=\"mr-2\" v-bind=\"attrs\" v-on=\"on\">mdi-delete</v-icon>\n\n                            </template>\n\n                            <v-card>\n\n                                <v-card-title class=\"text-h5\">Voulez-vous vraiment supprimer ce programme immobilier ?</v-card-title>\n\n                                <v-card-actions>\n\n                                    <v-spacer></v-spacer>\n\n                                    <v-btn color=\"blue darken-1\" text @click=\"closeDelete\">Cancel</v-btn>\n\n                                    <v-btn color=\"blue darken-1\" text @click=\"supprimerProgrammeImmobilierConfirm(programmeImmobilier)\">OK</v-btn>\n\n                                    <v-spacer></v-spacer>\n\n                                </v-card-actions>\n\n                            </v-card>\n\n                        </v-dialog>\n\n                    </template>\n\n\n                </v-data-table>\n\n            </v-card>\n\n        </v-container>\n        \n    </div>\n    \n</template>\n\n\n<script>\n\n    import axios from \"axios\";\n\n    import $ from 'jquery'\n\n    import { API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER_PAR_PROMOTEUR, API_SUPPRIMER_PROGRAMME_IMMOBILIER } from '../globalConfig/globalConfig';\n\n    export default {\n        \n        name : \"SelectionnerProgrammeImmobilier\",\n\n        data(){\n\n            return{\n\n                search:'',\n\n                dialogDelete: false,\n\n                headers:[\n\n                    { text : 'Code' , value: 'code' },\n\n                    { text : 'Designation' , value : 'designation' },\n\n                    { text : 'Ville'  , value : 'ville.designation'},\n\n                    { text : 'Valide' , value : 'estValide' },\n\n                    { text : 'Actions' , value : 'actions' , sortable : false }\n\n                ],\n\n                validateProgrammeImmobilier : true,\n\n                programmeImmobilierList: [],\n\n            }\n\n        },\n\n        watch: {\n\n            dialogDelete (val) {\n\n                val || this.closeDelete()\n\n            },\n        },\n        \n        methods: {\n\n            validerProgrammeImmobilier(programme){\n\n                var parsedProgramme = JSON.stringify(programme);\n\n                localStorage.setItem('programmeImmobilier', parsedProgramme);\n\n                localStorage.setItem('modeValidate' , this.validateProgrammeImmobilier)\n\n                this.$router.push({name : 'ProgrammeImmobilier'});\n\n            },\n\n\n            //MODIFICATION D'UN PROGRAMME IMMOBILIER\n\n            modifierProgrammeImmobilier(programme) {\n\n                const parsedProgramme = JSON.stringify(programme);\n\n                localStorage.setItem(\"programmeImmobilier\", parsedProgramme);\n\n                this.$router.push({ name: \"ProgrammeImmobilier\" });\n\n            },\n\n\n            supprimerProgrammeImmobilierConfirm(programmeImmobilier){\n\n                axios.delete(API_SUPPRIMER_PROGRAMME_IMMOBILIER(programmeImmobilier.id)).then(response => {\n                    \n                    if (response.data.data == true) {\n\n                        this.ObtenirListeProgrammeImmobilier()\n                        \n                    } else {\n\n                        this.$swal.fire('Erreur!' , 'Echec de la suppression du logement.' , 'error')\n                        \n                    }\n                    \n                }).catch(e => {\n\n                    this.$swal.fire({icon: 'error',title: 'Erreur...',text: e})\n\n                })\n\n            },\n\n            \n            // FERMER LA BOITE DE DIALOG DE SUPPRESSION D'UN PROGRAMME IMMOBILIER\n\n            closeDelete () {\n\n                this.dialogDelete = false\n\n            },\n\n\n\n            // SUPPRIMER UN PROGRAMME IMMOBILIER PAR LE BIAIS D'UN SERVICE WEB\n            \n\n\n\n            // NAVIGATION VERS LA PAGE DE CREATION D'UN NOUVEL PROGRAMME IMMOBILIER\n            \n            creerNouveauProgrammeImmobilier() {\n\n                this.$router.push({ path: \"/CreerModifierProgrammeImmobilier\" });\n\n            },\n\n            \n            \n            // OBTENIR LA LISTE DES PROGRAMMES IMMOBILIERS PAR PROMOTEUR\n\n            async ObtenirListeProgrammeImmobilier(){\n\n                await axios.get(API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER_PAR_PROMOTEUR(\"promoteur01\"))\n\n                .then((response) => {\n\n                    this.programmeImmobilierList = response.data.data;\n\n                })\n\n                .catch((e) => {\n\n                    this.errorMsg = e\n\n                    $(\".myAlert-bottom\").fadeIn();\n\n                    setTimeout(function(){\n\n                        $(\".myAlert-bottom\").fadeOut(); \n\n                    }, 4000)\n\n                });\n\n            }\n    \n        },\n\n\n\n        mounted() {\n\n            this.ObtenirListeProgrammeImmobilier()\n\n        },\n\n    }\n</script>\n\n\n<style scoped>\n\n\n</style>"]}]}