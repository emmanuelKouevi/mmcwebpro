{"remainingRequest":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/babel-loader/lib/index.js!/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kouevi/mmcwebpro/mmc_web_pro/src/components/espace_promoteur/CreerModifierProduitLogement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/src/components/espace_promoteur/CreerModifierProduitLogement.vue","mtime":1669133246317},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/babel.config.js","mtime":1663945696927},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/babel-loader/lib/index.js","mtime":1663945505798},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/vue-loader/lib/index.js","mtime":1663945506422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IHJlcXVpcmVkLCBtaW5MZW5ndGgsIG1heExlbmd0aCwgbnVtZXJpYyB9IGZyb20gInZ1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyI7CmltcG9ydCB7IEFQSV9PQlRFTklSX0xJU1RFX1BST0dSQU1NRV9JTU1PQklMSUVSLCBBUElfT0JURU5JUl9MSVNURV9QUk9QUklFVEVTLCBBUElfT0JURU5JUl9MSVNURV9WSUxMRVMgfSBmcm9tICcuLi9nbG9iYWxDb25maWcvZ2xvYmFsQ29uZmlnJzsKaW1wb3J0IHsgQVBJX09CVEVOSVJfRk9STUFUU19ET0NVTUVOVFMsIEFQSV9SRUZFUkVOQ0VTX1BBUl9GQU1JTExFLCBBUElfQ1JFRVJfUFJPRFVJVF9MT0dFTUVOVCB9IGZyb20gJy4uL2dsb2JhbENvbmZpZy9nbG9iYWxDb25maWcnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgJCBmcm9tICdqcXVlcnknOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NyZWVyTW9kaWZpZXJQcm9kdWl0TG9nZW1lbnQnLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvZ3JhbW1lSW1tb2JpbGllckxpc3Q6IFtdLAogICAgICBjYXJhY3RlcmlzdGlxdWVPYmxpZ2F0b2lyZUxpc3Q6IFtdLAogICAgICBjYXJhY3RlcmlzdGlxdWVVc3VlbGxlTGlzdDogW10sCiAgICAgIGNhcmFjdGVyaXN0aXF1ZU9wdGlvbmVsbGVMaXN0OiBbXSwKICAgICAgdmlsbGVzTGlzdDogW10sCiAgICAgIGZvcm1hdHNMaXN0OiBbXSwKICAgICAgcmVmZXJlbmNlTGlzdDogW10sCiAgICAgIGNhcmFjdGVyaXN0aXF1ZUxvZ2VtZW50Tm9uRGVmaW5pZXM6IFtdLAogICAgICBzdWNjZXNzTXNnOiBudWxsLAogICAgICBlcnJvck1zZzogbnVsbCwKICAgICAgd2FybmluZ01zZzogbnVsbCwKICAgICAgb3ZlcmxheTogZmFsc2UsCiAgICAgIHByb2R1aXRMb2dlbWVudE1vZGVsOiB7CiAgICAgICAgcHJvZHVpdExvZ2VtZW50OiB7CiAgICAgICAgICBpZDogbnVsbCwKICAgICAgICAgIGRlc2lnbmF0aW9uOiBudWxsLAogICAgICAgICAgZGVzY3JpcHRpb246IG51bGwsCiAgICAgICAgICBjb2RlOiBudWxsLAogICAgICAgICAgcHJvZ3JhbW1lSW1tb2JpbGllcjogewogICAgICAgICAgICBpZDogbnVsbCwKICAgICAgICAgICAgdmVyc2lvbjogbnVsbAogICAgICAgICAgfSwKICAgICAgICAgIGNhcmFjdGVyaXN0aXF1ZVByb2R1aXRMb2dlbWVudExpc3Q6IFtdLAogICAgICAgICAgdmVyc2lvbjogbnVsbCwKICAgICAgICAgIGVzdFZhbGlkZTogbnVsbCwKICAgICAgICAgIGVzdEFjdGl2ZTogbnVsbCwKICAgICAgICAgIHByaXg6IG51bGwKICAgICAgICB9LAogICAgICAgIGltYWdlc0xpc3Q6IFtdLAogICAgICAgIHZpZGVvc0xpc3Q6IFtdLAogICAgICAgIGltYWdlQ29uc3VsdGF0aW9uOiB7CiAgICAgICAgICBpZDogbnVsbCwKICAgICAgICAgIGRlc2lnbmF0aW9uOiBudWxsLAogICAgICAgICAgZGVzY3JpcHRpb246IG51bGwsCiAgICAgICAgICBjb250ZW51OiBudWxsLAogICAgICAgICAgZm9ybWF0OiB7CiAgICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgICB2ZXJzaW9uOiBudWxsCiAgICAgICAgICB9LAogICAgICAgICAgdHlwZURvY3VtZW50OiB7CiAgICAgICAgICAgIGlkOiAicmVmLmVsZW1lbnQudHlwZVZhbGV1ci5pbWFnZUNvbnN1bHRhdGlvbiIKICAgICAgICAgIH0sCiAgICAgICAgICB2ZXJzaW9uOiBudWxsCiAgICAgICAgfQogICAgICB9LAogICAgICBkb2N1bWVudFRyYW5zZmVydE1vZGVsOiB7CiAgICAgICAgZG9jdW1lbnQ6IHsKICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgZGVzaWduYXRpb246IG51bGwsCiAgICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCwKICAgICAgICAgIGNvbnRlbnU6IG51bGwsCiAgICAgICAgICBwYXRoOiBudWxsLAogICAgICAgICAgZm9ybWF0OiB7CiAgICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgICB2ZXJzaW9uOiBudWxsCiAgICAgICAgICB9LAogICAgICAgICAgdHlwZURvY3VtZW50OiB7CiAgICAgICAgICAgIGlkOiBudWxsCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBlbnRpdHlOYW1lOiAicmVmLmVsZW1lbnQudHlwZS5wcm9kdWl0TG9nZW1lbnQiLAogICAgICAgIGVudGl0eUlkOiBudWxsCiAgICAgIH0KICAgIH07CiAgfSwKCiAgdmFsaWRhdGlvbnM6IHsKICAgIHByb2R1aXRMb2dlbWVudE1vZGVsOiB7CiAgICAgIHByb2R1aXRMb2dlbWVudDogewogICAgICAgIGRlc2lnbmF0aW9uOiB7CiAgICAgICAgICByZXF1aXJlZCwKICAgICAgICAgIG1pbkxlbmd0aDogbWluTGVuZ3RoKDQpLAogICAgICAgICAgbWF4TGVuZ3RoOiBtYXhMZW5ndGgoNTApCiAgICAgICAgfSwKICAgICAgICBkZXNjcmlwdGlvbjogewogICAgICAgICAgcmVxdWlyZWQsCiAgICAgICAgICBtaW5MZW5ndGg6IG1pbkxlbmd0aCg2KSwKICAgICAgICAgIG1heExlbmd0aDogbWF4TGVuZ3RoKDY1MCkKICAgICAgICB9LAogICAgICAgIHByb2dyYW1tZUltbW9iaWxpZXI6IHsKICAgICAgICAgIGlkOiB7CiAgICAgICAgICAgIHJlcXVpcmVkCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBjb2RlOiB7CiAgICAgICAgICByZXF1aXJlZCwKICAgICAgICAgIG1pbkxlbmd0aDogbWluTGVuZ3RoKDQpLAogICAgICAgICAgbWF4TGVuZ3RoOiBtYXhMZW5ndGgoMjApCiAgICAgICAgfSwKICAgICAgICBwcml4OiB7CiAgICAgICAgICByZXF1aXJlZCwKICAgICAgICAgIG51bWVyaWMKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjYXJhY3RlcmlzdGlxdWVPYmxpZ2F0b2lyZUxpc3Q6IHsKICAgICAgcmVxdWlyZWQsCiAgICAgICRlYWNoOiB7CiAgICAgICAgdmFsZXVyVGV4dGU6IHsKICAgICAgICAgIHJlcXVpcmVkCiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBFTlZPSSBEVSBGT1JNVUxBSVJFIERFIENSRUFUSU9OIE9VIE1PRElGSUNBVElPTiBERSBQUk9EVUlUIExPR0VNRU5UIFZFUlMgTEUgTUlERExFV0FSRQogICAgYXN5bmMgY3JlZXJNb2RpZmllclByb2R1aXRMb2dlbWVudCgpIHsKICAgICAgLy90aGlzLnRyYW5zZmVydENhcmFjdGVyaXN0aXFOb25EZWZpbmkoKTsKICAgICAgLy90aGlzLnNlbmRDYXJhY3RlcmlzdGlxdWVEZWZpbmllcygpOwogICAgICBpZiAodGhpcy5pc0NyZWF0aW9uKSB7CiAgICAgICAgdGhpcy5vdmVybGF5ID0gdHJ1ZTsKICAgICAgICBhd2FpdCBheGlvcy5wb3N0KEFQSV9DUkVFUl9QUk9EVUlUX0xPR0VNRU5ULCB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMuc3VjY2Vzc01zZyA9ICJDcsOpYXRpb24gZHUgcHJvZHVpdCBsb2dlbWVudCBlZmZlY3R1w6kiOwogICAgICAgICAgICAkKCIuYWxlcnQtc3VjY2VzcyIpLmZhZGVJbigpOwogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAkKCIuYWxlcnQtc3VjY2VzcyIpLmZhZGVPdXQoKTsKICAgICAgICAgICAgfSwgNDAwMCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmVycm9yTXNnID0gIkVycmV1ciBkYW5zIGxhIGNyw6lhdGlvbiBkdSBwcm9kdWl0IGxvZ2VtZW50IjsKICAgICAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZUluKCk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVPdXQoKTsKICAgICAgICAgICAgfSwgNDAwMCk7CgogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlcyAhPSBudWxsKSB7CiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5kYXRhLm1lc3NhZ2VzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VMaXN0LnB1c2gocmVzcG9uc2UuZGF0YS5tZXNzYWdlc1tpXS5zdGF0dXMgKyAiLCIgKyByZXNwb25zZS5kYXRhLm1lc3NhZ2VzW2ldLm1lc3NhZ2UpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgICAgdGhpcy5lcnJvck1zZyA9IGU7CiAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlSW4oKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlT3V0KCk7CiAgICAgICAgICB9LCA0MDAwKTsKICAgICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICAgIHRoaXMub3ZlcmxheSA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIC8qZWxzZSB7CiAgICAgICAgIHRoaXMuJGlzTG9hZGluZyh0cnVlKQogICAgICAgICBhd2FpdCBheGlvcy5wdXQoQVBJX01PRElGSUVSX1BST0RVSVRfTE9HRU1FTlQsIHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgIHRoaXMuc3VjY2Vzc01zZyA9ICJQcm9kdWl0IExvZ2VtZW50IG1vZGlmacOpIGF2ZWMgc3VjY8OocyIKICAgICAgICAgICAgICAgICAkKCIubXlBbGVydC10b3AiKS5mYWRlSW4oKTsKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICAgICAkKCIubXlBbGVydC10b3AiKS5mYWRlT3V0KCk7IAogICAgICAgICAgICAgICAgfSwgNDAwMCkKICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgdGhpcy5lcnJvck1zZyA9ICJFcnJldXIgZGFucyBsYSBtb2RpZmljYXRpb24gZHUgcHJvZHVpdCBsb2dlbWVudCIKICAgICAgICAgICAgICAgICQoIi5teUFsZXJ0LWJvdHRvbSIpLmZhZGVJbigpOwogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICQoIi5teUFsZXJ0LWJvdHRvbSIpLmZhZGVPdXQoKTsgCiAgICAgICAgICAgICAgICB9LCA0MDAwKQogICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2VzICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmRhdGEubWVzc2FnZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlTGlzdC5wdXNoKCByZXNwb25zZS5kYXRhLm1lc3NhZ2VzW2ldLnN0YXR1cyArICIsIiArIHJlc3BvbnNlLmRhdGEubWVzc2FnZXNbaV0ubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgIH0KICAgICAgICAgfSkuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlCiAgICAgICAgICAgICQoIi5teUFsZXJ0LWJvdHRvbSIpLmZhZGVJbigpOwogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAkKCIubXlBbGVydC1ib3R0b20iKS5mYWRlT3V0KCk7IAogICAgICAgICAgICB9LCA0MDAwKQogICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgICB0aGlzLiRpc0xvYWRpbmcoZmFsc2UpIC8vIGhpZGUgdGhlIGxvYWRpbmcgc2NyZWVuICAKICAgICAgICB9KQogICAgICAgICB0aGlzLm1vZGlmaWVySW1hZ2VDb25zdWx0YXRpb24oKQogICAgICAgIHRoaXMubW9kaWZpY2F0aW9uSW1hZ2VzTGlzdCgpCiAgICAgICAgdGhpcy5tb2RpZmljYXRpb25WaWRlb3NMaXN0KCkKICAgICAgfSovCgogICAgfSwKCiAgICAvLyBTT1VNSVNTSU9OIERVIEZPUk1VTEFJUkUKICAgIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHRoaXMuJHYuJHRvdWNoKCk7CgogICAgICBpZiAodGhpcy4kdi5wcm9kdWl0TG9nZW1lbnRNb2RlbC4kaW52YWxpZCkgewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSAiRW5yZWdpc3RyZW1lbnQgRWNob3XDqSI7CiAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZUluKCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlT3V0KCk7CiAgICAgICAgfSwgNDAwMCk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy4kdi5jYXJhY3RlcmlzdGlxdWVPYmxpZ2F0b2lyZUxpc3QuJGludmFsaWQpIHsKICAgICAgICB0aGlzLmVycm9yTXNnID0gIlRvdXRlcyBsZXMgY2FyYWN0w6lyaXN0aXF1ZXMgb2JsaWdhdG9pcmVzIGRvaXZlbnQgw6p0cmUgcmVuc2VpZ27DqWVzIjsKICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlSW4oKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVPdXQoKTsKICAgICAgICB9LCA0MDAwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNyZWVyTW9kaWZpZXJQcm9kdWl0TG9nZW1lbnQoKTsKICAgICAgfQogICAgfSwKCiAgICAvLyBNZXRob2RlcyBwZXJtZXR0YW50IGRlIGNob2lzaXIgdW5lIGxpc3RlcyBkZSB2aWRlb3MKICAgIHByZXZpZXdNdWx0aVZpZGVvOiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIG15RmlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdteVZpZGVvRmlsZScpOwogICAgICB2YXIgZXh0ZW5zaW9uID0gbXlGaWxlLnZhbHVlLnNwbGl0KCcuJylbMV07CiAgICAgIHZhciBpbnB1dCA9IGV2ZW50LnRhcmdldDsKICAgICAgdmFyIGNvdW50ID0gaW5wdXQuZmlsZXMubGVuZ3RoOwogICAgICB2YXIgaW5kZXggPSAwOwogICAgICB2YXIgdmlkZW8gPSB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgZGVzaWduYXRpb246IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246IG51bGwsCiAgICAgICAgY29udGVudTogbnVsbCwKICAgICAgICBmb3JtYXQ6IHsKICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgdmVyc2lvbjogbnVsbAogICAgICAgIH0sCiAgICAgICAgdHlwZURvY3VtZW50OiB7CiAgICAgICAgICBpZDogInJlZi5lbGVtZW50LnR5cGVWYWxldXIudmlkZW8iCiAgICAgICAgfSwKICAgICAgICB2ZXJzaW9uOiBudWxsCiAgICAgIH07CgogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZm9ybWF0c0xpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoZXh0ZW5zaW9uID09IHRoaXMuZm9ybWF0c0xpc3RbaV0uZGVzaWduYXRpb24pIHsKICAgICAgICAgIHZpZGVvLmZvcm1hdC5pZCA9IHRoaXMuZm9ybWF0c0xpc3RbaV0uaWQ7CiAgICAgICAgfQogICAgICB9CgogICAgICB2aWRlby5kZXNpZ25hdGlvbiA9IHRoaXMuZ2V0RmlsZShteUZpbGUudmFsdWUpOwoKICAgICAgaWYgKGlucHV0LmZpbGVzKSB7CiAgICAgICAgd2hpbGUgKGNvdW50LS0pIHsKICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBlID0+IHsKICAgICAgICAgICAgdmlkZW8uY29udGVudSA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgICAgICAgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC52aWRlb3NMaXN0LnB1c2godmlkZW8pOwogICAgICAgICAgICB0aGlzLnByZXZpZXdWaWRlb3NMaXN0LnB1c2goZS50YXJnZXQucmVzdWx0KTsKICAgICAgICAgIH07CgogICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5wdXQuZmlsZXNbaW5kZXhdKTsKICAgICAgICAgIGluZGV4Kys7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy9GT05DVElPTiBQRVJNRVRUQU5UIExBIFNFTEVDVElPTiBERSBQTFVTSUVVUlMgSU1BR0VTIAogICAgcHJldmlld011bHRpSW1hZ2U6IGZ1bmN0aW9uIChldmVudCkgewogICAgICB2YXIgbXlGaWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215RmlsZScpOwogICAgICB2YXIgZXh0ZW5zaW9uID0gbXlGaWxlLnZhbHVlLnNwbGl0KCcuJylbMV07CiAgICAgIHZhciBpbnB1dCA9IGV2ZW50LnRhcmdldDsKICAgICAgdmFyIGNvdW50ID0gaW5wdXQuZmlsZXMubGVuZ3RoOwogICAgICB2YXIgaW5kZXggPSAwOwogICAgICB2YXIgaW1hZ2UgPSB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgZGVzaWduYXRpb246IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246IG51bGwsCiAgICAgICAgY29udGVudTogbnVsbCwKICAgICAgICBmb3JtYXQ6IHsKICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgdmVyc2lvbjogbnVsbAogICAgICAgIH0sCiAgICAgICAgdHlwZURvY3VtZW50OiB7CiAgICAgICAgICBpZDogInJlZi5lbGVtZW50LnR5cGVWYWxldXIuaW1hZ2UiCiAgICAgICAgfSwKICAgICAgICB2ZXJzaW9uOiBudWxsCiAgICAgIH07CiAgICAgIHRoaXMuZm9ybWF0c0xpc3QuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICBpZiAoZXh0ZW5zaW9uID09IGVsZW1lbnQuZGVzaWduYXRpb24pIHsKICAgICAgICAgIGltYWdlLmZvcm1hdC5pZCA9IGVsZW1lbnQuaWQ7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgaW1hZ2UuZGVzaWduYXRpb24gPSB0aGlzLmdldEZpbGUobXlGaWxlLnZhbHVlKTsKCiAgICAgIGlmIChpbnB1dC5maWxlcykgewogICAgICAgIHdoaWxlIChjb3VudC0tKSB7CiAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgICAgICByZWFkZXIub25sb2FkID0gZSA9PiB7CiAgICAgICAgICAgIGltYWdlLmNvbnRlbnUgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgICAgIHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwuaW1hZ2VzTGlzdC5wdXNoKGltYWdlKTsKICAgICAgICAgIH07CgogICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5wdXQuZmlsZXNbaW5kZXhdKTsKICAgICAgICAgIGluZGV4Kys7CiAgICAgICAgfQogICAgICB9CgogICAgICBjb25zb2xlLmxvZyh0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlc0xpc3QpOwogICAgfSwKCiAgICAvL1NVUFBSSU1FUiBJTUFHRVMgTElTVAogICAgZGVsZXRlSW1hZ2VMaXN0KHBvc2l0aW9uKSB7CiAgICAgIHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwuaW1hZ2VzTGlzdC5zcGxpY2UocG9zaXRpb24sIDEpOwogICAgfSwKCiAgICBkZWxldGVWaWRlb0xpc3QocG9zaXRpb24pIHsKICAgICAgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC52aWRlb3NMaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7CiAgICB9LAoKICAgIC8vU1VQUFJJTUVSIFVORSBJTUFHRSBERSBDT05TVUxUQVRJT04KICAgIGRlbGV0ZUltYWdlQ29uc3VsdGF0aW9uKGltYWdlQ29uc3VsdGF0aW9uKSB7CiAgICAgIGlmICh0aGlzLmlzQ3JlYXRpb24pIHsKICAgICAgICBpbWFnZUNvbnN1bHRhdGlvbi5jb250ZW51ID0gbnVsbDsKICAgICAgICBpbWFnZUNvbnN1bHRhdGlvbi5kZXNpZ25hdGlvbiA9IG51bGw7CiAgICAgICAgaW1hZ2VDb25zdWx0YXRpb24uZGVzY3JpcHRpb24gPSBudWxsOwogICAgICB9CiAgICAgIC8qdGhpcy4kc3dhbC5maXJlKHsgdGl0bGU6ICdDb25maXJtZXIgPycsIHRleHQ6ICJDZXR0ZSBhY3Rpb24gZXN0IGlycsOpdmVyc2libGUiLCBpY29uOiAnd2FybmluZycsCiAgICAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzMwODVkNicsICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLCBjYW5jZWxCdXR0b25UZXh0OiAnQW5udWxlcicsIGNvbmZpcm1CdXR0b25UZXh0OiAnT3VpICxzdXBwcmltZXIhJwogICAgICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHsKICAgICAgICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7CiAgICAgICAgICAgICAgYXhpb3MuZGVsZXRlKEFQSV9TVVBQUklNRVJfRE9DVU1FTlQrdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZUNvbnN1bHRhdGlvbi5pZCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsgICAKICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSgnU3VwcHJpbcOpIScsJ0ltYWdlIGRlIGNvbnN1bHRhdGlvbiBzdXBwcmltw6llIGF2ZWMgc3VjY8Oocy4nLCdzdWNjZXNzJykKICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwuaW1hZ2VDb25zdWx0YXRpb24uY29udGVudSA9IG51bGwKICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwuaW1hZ2VDb25zdWx0YXRpb24uZGVzaWduYXRpb24gPSBudWxsCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlQ29uc3VsdGF0aW9uLmRlc2lnbmF0aW9uID0gbnVsbAogICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICB9KS5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoeyBpY29uOiAnZXJyb3InLCAgdGl0bGU6ICdFcnJldXIuLi4nLHRleHQ6IGUgfSkKICAgICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICB9KS5jYXRjaCgoZSkgPT4gewogICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsgaWNvbjogJ2Vycm9yJywgdGl0bGU6ICdFcnJldXIuLi4nLCAgdGV4dDogZSB9KQogICAgICB9KSovCgogICAgfSwKCiAgICAvLyBmb25jdGlvbiBwZXJtZXR0YW50IGRlIHJlY3VwZXJlciBsZSBmb3JtYXQgZHUgZG9jdW1lbnQgKGltYWdlcyBvdSB2aWRlb3MpCiAgICBnZXRGaWxlKGZpbGVQYXRoKSB7CiAgICAgIHJldHVybiBmaWxlUGF0aC5zdWJzdHIoZmlsZVBhdGgubGFzdEluZGV4T2YoJ1xcJykgKyAxKS5zcGxpdCgnLicpWzBdOwogICAgfSwKCiAgICAvL1NFTEVDVElPTiBERVMgRE9DVU1FTlRTIChJTUFHRSBERSBDT05TVUxBVElPTiAsIElNQUdFIExJU1QpCiAgICBwaWNrRmlsZSgpIHsKICAgICAgbGV0IGlucHV0ID0gdGhpcy4kcmVmcy5maWxlSW5wdXQ7CiAgICAgIGxldCBmaWxlID0gaW5wdXQuZmlsZXM7CiAgICAgIHZhciBpbnB1dEZpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXRGaWxlJyk7CiAgICAgIHZhciBleHRlbnNpb24gPSBpbnB1dEZpbGUudmFsdWUuc3BsaXQoJy4nKVsxXTsKICAgICAgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZUNvbnN1bHRhdGlvbi5kZXNpZ25hdGlvbiA9IHRoaXMuZ2V0RmlsZShpbnB1dEZpbGUudmFsdWUpOwoKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZvcm1hdHNMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGV4dGVuc2lvbiA9PSB0aGlzLmZvcm1hdHNMaXN0W2ldLmRlc2lnbmF0aW9uKSB7CiAgICAgICAgICB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlQ29uc3VsdGF0aW9uLmZvcm1hdC5pZCA9IHRoaXMuZm9ybWF0c0xpc3RbaV0uaWQ7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoZmlsZSAmJiBmaWxlWzBdKSB7CiAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgICAgIHJlYWRlci5vbmxvYWQgPSBlID0+IHsKICAgICAgICAgIHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwuaW1hZ2VDb25zdWx0YXRpb24uY29udGVudSA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgICB9OwoKICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlWzBdKTsKICAgICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIGZpbGVbMF0pOwogICAgICB9CiAgICB9LAoKICAgIHNlbGVjdEltYWdlKCkgewogICAgICB0aGlzLiRyZWZzLmZpbGVJbnB1dC5jbGljaygpOwogICAgfSwKCiAgICBnZXRJbnRlZ2VyTGlzdChpdGVtKSB7CiAgICAgIHZhciBtaW4gPSBpdGVtLnByb3ByaWV0ZVByb2R1aXRMb2dlbWVudC5taW5WYWx1ZUludGVnZXJGaWx0cmU7CiAgICAgIHZhciBtYXggPSBpdGVtLnByb3ByaWV0ZVByb2R1aXRMb2dlbWVudC5tYXhWYWx1ZUludGVnZXJGaWx0cmU7CiAgICAgIHZhciBjb250YWluZXJMaXN0ID0gW107CgogICAgICBmb3IgKHZhciBpID0gbWluOyBpIDw9IG1heDsgaSsrKSB7CiAgICAgICAgY29udGFpbmVyTGlzdC5wdXNoKGkpOwogICAgICB9CgogICAgICByZXR1cm4gY29udGFpbmVyTGlzdDsKICAgIH0sCgogICAgLy9SRUNVUEVSRVIgTEEgTElTVEUgREVTIFJFRkVSRU5DRVMgVFlQRSBMT0dFTUVOVAogICAgYXN5bmMgZ2V0UmVmZXJlbmNlVHlwZUxvZ2VtZW50KCkgewogICAgICBhd2FpdCBheGlvcy5nZXQoQVBJX1JFRkVSRU5DRVNfUEFSX0ZBTUlMTEUoImZhbWlsbGVUeXBlTG9nZW1lbnQiKSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5yZWZlcmVuY2VMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICB0aGlzLmVycm9yTXNnID0gZTsKICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlSW4oKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVPdXQoKTsKICAgICAgICB9LCA0MDAwKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8vIFJFQ1VQRVJFUiBMQSBMSVNURSBERVMgRk9STUFUUyBERSBET0NVTUVOVFMgREVQVUlTIExFIE1JRERMRVdBUkUKICAgIGFzeW5jIGdldEZvcm1hdHNMaXN0KCkgewogICAgICBhd2FpdCBheGlvcy5nZXQoQVBJX09CVEVOSVJfRk9STUFUU19ET0NVTUVOVFMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuZm9ybWF0c0xpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlOwogICAgICAgICQoImFsZXJ0LWVycm9yIikuZmFkZUluKCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAkKCJhbGVydC1lcnJvciIpLmZhZGVPdXQoKTsKICAgICAgICB9LCA0MDAwKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8vIERFUFVJUyBMRSBNSURETEVXQVJFIFJFQ1VQRVJFUiBMQSBMSVNURSBERVMgVklMTEVTCiAgICBhc3luYyBnZXRWaWxsZXNMaXN0KCkgewogICAgICBhd2FpdCBheGlvcy5nZXQoQVBJX09CVEVOSVJfTElTVEVfVklMTEVTKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnZpbGxlc0xpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlOwogICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVJbigpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZU91dCgpOwogICAgICAgIH0sIDQwMDApOwogICAgICB9KTsKICAgIH0sCgogICAgLy8gUkVDVVBFUkVSIERFUFVJUyBMRSBNSURETEVXQVJFIExBIExJU1RFIERFUyBQUk9QUknDiFTDiVMgUFJPRFVJVFMgTE9HRU1FTlQgUE9VUiBMQSBDUkVBVElPTiBERVMgQ1JBUkNURVJJU1RJUVVFUyBEVSBQUk9EVUlUIExPR0VNRU5UCiAgICBhc3luYyBnZXRQcm9wcmlldGVQcm9kdWl0TG9nZW1lbnRMaXN0KCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3VsdGF0cyA9IGF3YWl0IGF4aW9zLmdldChBUElfT0JURU5JUl9MSVNURV9QUk9QUklFVEVTKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHRhdHMuZGF0YS5kYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgY2FyYWN0ZXJpc3RpcSA9IHsKICAgICAgICAgICAgcHJvcHJpZXRlUHJvZHVpdExvZ2VtZW50OiB7fSwKICAgICAgICAgICAgdmFsZXVyVGV4dGU6IG51bGwKICAgICAgICAgIH07CiAgICAgICAgICBjYXJhY3RlcmlzdGlxLnByb3ByaWV0ZVByb2R1aXRMb2dlbWVudCA9IHJlc3VsdGF0cy5kYXRhLmRhdGFbaV07CiAgICAgICAgICB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5jYXJhY3RlcmlzdGlxdWVQcm9kdWl0TG9nZW1lbnRMaXN0LnB1c2goY2FyYWN0ZXJpc3RpcSk7CgogICAgICAgICAgaWYgKHJlc3VsdGF0cy5kYXRhLmRhdGFbaV0udHlwZS5pZCA9PSAncmVmLmVsZW1lbnQudHlwZVZhbGV1ci5pbnRlZ2VyJyB8fCByZXN1bHRhdHMuZGF0YS5kYXRhW2ldLnR5cGUuaWQgPT0gJ3JlZi5lbGVtZW50LnR5cGVWYWxldXIuZG91YmxlJykgewogICAgICAgICAgICB0aGlzLmNhcmFjdGVyaXN0aXF1ZUxvZ2VtZW50Tm9uRGVmaW5pZXMucHVzaChjYXJhY3RlcmlzdGlxKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAocmVzdWx0YXRzLmRhdGEuZGF0YVtpXS5lc3RPYmxpZ2F0b2lyZSA9PSB0cnVlKSB7CiAgICAgICAgICAgIHRoaXMuY2FyYWN0ZXJpc3RpcXVlT2JsaWdhdG9pcmVMaXN0LnB1c2goY2FyYWN0ZXJpc3RpcSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdGF0cy5kYXRhLmRhdGFbaV0uZXN0T2JsaWdhdG9pcmUgPT0gZmFsc2UgJiYgcmVzdWx0YXRzLmRhdGEuZGF0YVtpXS5lc3RVc3VlbGxlRmlsdHJlID09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5jYXJhY3RlcmlzdGlxdWVVc3VlbGxlTGlzdC5wdXNoKGNhcmFjdGVyaXN0aXEpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jYXJhY3RlcmlzdGlxdWVPcHRpb25lbGxlTGlzdC5wdXNoKGNhcmFjdGVyaXN0aXEpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlOwogICAgICAgICQoImFsZXJ0LWVycm9yIikuZmFkZUluKCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlT3V0KCk7CiAgICAgICAgfSwgNDAwMCk7CiAgICAgIH0KICAgIH0sCgogICAgLy9PQlRFTklSIExBIExJU1RFIERFUyBQUk9HUkFNTUVTIElNTU9CSUxJRVJTCiAgICBhc3luYyBnZXRQcm9ncmFtbWVJbW1vYmlsaWVyTGlzdCgpIHsKICAgICAgYXdhaXQgYXhpb3MuZ2V0KEFQSV9PQlRFTklSX0xJU1RFX1BST0dSQU1NRV9JTU1PQklMSUVSKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnByb2dyYW1tZUltbW9iaWxpZXJMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICB0aGlzLmVycm9yTXNnID0gZTsKICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlSW4oKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVPdXQoKTsKICAgICAgICB9LCA0MDAwKTsKICAgICAgfSk7CiAgICB9CgogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIFZFUklGSUVSIFNJIE5PVVMgU09NTUVTIEVOIENSRUFUSU9OIE9VIEVOIE1PRElGSUNBVElPTgogICAgaXNDcmVhdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LmlkID09IG51bGw7CiAgICB9LAoKICAgIC8vIEdFU1RJT05TIERFUyBDT05UUkFJTlRFUyBERVMgQ0hBTVBTIEQnRU5UUkVFUyAoREVTSUdOQVRJT04gLCBERVNDUklQVElPTiApIERVIFBST0RVSVQgTE9HRU1FTlQKICAgIGRlc2lnbmF0aW9uUHJvZHVpdExvZ2VtZW50RXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5kZXNpZ25hdGlvbi4kZGlydHkpIHJldHVybiBlcnJvcnM7CiAgICAgICF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5kZXNpZ25hdGlvbi5tYXhMZW5ndGggJiYgZXJyb3JzLnB1c2goJ0xhIGRlc2lnbmF0aW9uIG5lIGRvaXQgcGFzIGTDqXBhc3NlciA2MDAgY2FyYWN0w6hyZXMnKTsKICAgICAgIXRoaXMuJHYucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LmRlc2lnbmF0aW9uLnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCdMYSBkw6lzaWduYXRpb24gZXN0IG9ibGlnYXRvaXJlLicpOwogICAgICAhdGhpcy4kdi5wcm9kdWl0TG9nZW1lbnRNb2RlbC5wcm9kdWl0TG9nZW1lbnQuZGVzaWduYXRpb24ubWluTGVuZ3RoICYmIGVycm9ycy5wdXNoKCdMYSBkw6lzaWduYXRpb24gZG9pdCBhdm9pciBhdSBtaW5pbXVtIDggY2FyYWN0w6hyZXMuJyk7CiAgICAgIHJldHVybiBlcnJvcnM7CiAgICB9LAoKICAgIGRlc2NyaXB0aW9uUHJvZHVpdExvZ2VtZW50RXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5kZXNjcmlwdGlvbi4kZGlydHkpIHJldHVybiBlcnJvcnM7CiAgICAgICF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5kZXNjcmlwdGlvbi5tYXhMZW5ndGggJiYgZXJyb3JzLnB1c2goJ0xhIGRlc2NyaXB0aW9uIG5lIGRvaXQgcGFzIGTDqXBhc3NlciA2MDAgY2FyYWN0w6hyZXMnKTsKICAgICAgIXRoaXMuJHYucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LmRlc2NyaXB0aW9uLnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCdMYSBkZXNjcmlwdGlvbiBlc3Qgb2JsaWdhdG9pcmUuJyk7CiAgICAgICF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5kZXNjcmlwdGlvbi5taW5MZW5ndGggJiYgZXJyb3JzLnB1c2goJ0xhIGRlc2NyaXB0aW9uIGRvaXQgYXZvaXIgcGx1cyBkZSAyMCBjYXJhY3TDqHJlcy4nKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0sCgogICAgcHJvZ3JhbW1lUHJvZHVpdExvZ2VtZW50RXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5wcm9ncmFtbWVJbW1vYmlsaWVyLmlkLiRkaXJ0eSkgcmV0dXJuIGVycm9yczsKICAgICAgIXRoaXMuJHYucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LnByb2dyYW1tZUltbW9iaWxpZXIuaWQucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goJ1ZvdXMgZGV2ZXogcmF0dGFjaGVyIHVuIHByb2dyYW1tZSBpbW1vYmlsaWVyLicpOwogICAgICByZXR1cm4gZXJyb3JzOwogICAgfSwKCiAgICBjb2RlUHJvZHVpdExvZ2VtZW50RXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5jb2RlLiRkaXJ0eSkgcmV0dXJuIGVycm9yczsKICAgICAgIXRoaXMuJHYucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LmNvZGUubWF4TGVuZ3RoICYmIGVycm9ycy5wdXNoKCdMZSBjb2RlIG5lIGRvaXQgcGFzIGTDqXBhc3NlciA2MDAgY2FyYWN0w6hyZXMnKTsKICAgICAgIXRoaXMuJHYucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LmNvZGUucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goJ0xlIGNvZGUgZXN0IG9ibGlnYXRvaXJlLicpOwogICAgICAhdGhpcy4kdi5wcm9kdWl0TG9nZW1lbnRNb2RlbC5wcm9kdWl0TG9nZW1lbnQuY29kZS5taW5MZW5ndGggJiYgZXJyb3JzLnB1c2goJ0xlIGNvZGUgZG9pdCBhdm9pciBwbHVzIGRlIDIwIGNhcmFjdMOocmVzLicpOwogICAgICByZXR1cm4gZXJyb3JzOwogICAgfSwKCiAgICBwcml4UHJvZHVpdExvZ2VtZW50RXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5wcml4LiRkaXJ0eSkgcmV0dXJuIGVycm9yczsKICAgICAgIXRoaXMuJHYucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LnByaXgucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goJ0xlIHByaXggZHUgcHJvZHVpdCBsb2dlbWVudCBlc3Qgb2JsaWdhdG9pcmUuJyk7CiAgICAgICF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5wcml4Lm51bWVyaWMgJiYgZXJyb3JzLnB1c2goJ0VudHJlciB1biBtb250YW50IGNvcnJlY3QnKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0sCgogICAgaXNWYWxldXJDYXJhY3RlcmlzdGlxdWVOb25EZWZpbmlzKCkgewogICAgICB2YXIgdmFsZXVyQ2FyYWN0ZXJpc3RpcXVlTm9uRGVmaW5pcyA9IFtdOwoKICAgICAgaWYgKHRoaXMuY2FyYWN0ZXJpc3RpcXVlT3B0aW9uZWxsZUxpc3QubGVuZ3RoID4gMCkgewogICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmNhcmFjdGVyaXN0aXF1ZU9wdGlvbmVsbGVMaXN0Lmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgdmFyIGNhcmFjdGVyaXN0aXEgPSB7CiAgICAgICAgICAgIHByb3ByaWV0ZVByb2R1aXRMb2dlbWVudDoge30sCiAgICAgICAgICAgIHZhbGV1clRleHRlOiBudWxsCiAgICAgICAgICB9OwogICAgICAgICAgY2FyYWN0ZXJpc3RpcS5wcm9wcmlldGVQcm9kdWl0TG9nZW1lbnQgPSB0aGlzLmNhcmFjdGVyaXN0aXF1ZU9wdGlvbmVsbGVMaXN0W2luZGV4XS5wcm9wcmlldGVQcm9kdWl0TG9nZW1lbnQ7CiAgICAgICAgICBjYXJhY3RlcmlzdGlxLnZhbGV1clRleHRlID0gdGhpcy5jYXJhY3RlcmlzdGlxdWVPcHRpb25lbGxlTGlzdFtpbmRleF0udmFsZXVyVGV4dGU7CgogICAgICAgICAgaWYgKGNhcmFjdGVyaXN0aXEudmFsZXVyVGV4dGUgPT0gbnVsbCB8fCBjYXJhY3RlcmlzdGlxLnZhbGV1clRleHRlID09ICJmYWxzZSIpIHsKICAgICAgICAgICAgdmFsZXVyQ2FyYWN0ZXJpc3RpcXVlTm9uRGVmaW5pcy5wdXNoKGNhcmFjdGVyaXN0aXEpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHZhbGV1ckNhcmFjdGVyaXN0aXF1ZU5vbkRlZmluaXM7CiAgICB9CgogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFByb2dyYW1tZUltbW9iaWxpZXJMaXN0KCk7CiAgICB0aGlzLmdldFJlZmVyZW5jZVR5cGVMb2dlbWVudCgpOwogICAgdGhpcy5nZXRWaWxsZXNMaXN0KCk7CiAgICB0aGlzLmdldEZvcm1hdHNMaXN0KCk7CiAgICB0aGlzLmdldFByb3ByaWV0ZVByb2R1aXRMb2dlbWVudExpc3QoKTsKICB9Cgp9Ow=="},{"version":3,"mappings":";AAkWA;AACA;AACA;AACA;AACA;AACA;EACAA,oCADA;;EAEAC;IACA;MACAC,2BADA;MAEAC,kCAFA;MAGAC,8BAHA;MAIAC,iCAJA;MAKAC,cALA;MAMAC,eANA;MAOAC,iBAPA;MAQAC,sCARA;MAWAC,gBAXA;MAYAC,cAZA;MAaAC,gBAbA;MAcAC,cAdA;MAkBAC;QACAC;UACAC,QADA;UAEAC,iBAFA;UAGAC,iBAHA;UAIAC,UAJA;UAKAC;YACAJ,QADA;YAEAK;UAFA,CALA;UASAC,sCATA;UAUAD,aAVA;UAWAE,eAXA;UAYAC,eAZA;UAaAC;QAbA,CADA;QAgBAC,cAhBA;QAiBAC,cAjBA;QAkBAC;UACAZ,QADA;UAEAC,iBAFA;UAGAC,iBAHA;UAIAW,aAJA;UAKAC;YACAd,QADA;YAEAK;UAFA,CALA;UASAU;YACAf;UADA,CATA;UAYAK;QAZA;MAlBA,CAlBA;MAoDAW;QACAC;UACAjB,QADA;UAEAC,iBAFA;UAGAC,iBAHA;UAIAW,aAJA;UAKAK,UALA;UAMAJ;YACAd,QADA;YAEAK;UAFA,CANA;UAUAU;YACAf;UADA;QAVA,CADA;QAeAmB,8CAfA;QAgBAC;MAhBA;IApDA;EAuEA,CA1EA;;EA4EAC;IAEAvB;MAEAC;QACAE;UACAqB,QADA;UAEAC,uBAFA;UAGAC;QAHA,CADA;QAMAtB;UACAoB,QADA;UAEAC,uBAFA;UAGAC;QAHA,CANA;QAWApB;UACAJ;YACAsB;UADA;QADA,CAXA;QAgBAnB;UACAmB,QADA;UAEAC,uBAFA;UAGAC;QAHA,CAhBA;QAqBAf;UACAa,QADA;UAEAG;QAFA;MArBA;IAFA,CAFA;IAgCAtC;MACAmC,QADA;MAEAI;QACAC;UACAL;QADA;MADA;IAFA;EAhCA,CA5EA;EAsHAM;IAEA;IAEA;MAEA;MAEA;MAEA;QAEA;QAEA;UAEA;YAEA;YACAC;YACAC;cACAD;YACA,CAFA,EAEA,IAFA;UAIA,CARA,MAQA;YAEA;YAEAA;YACAC;cACAD;YACA,CAFA,EAEA,IAFA;;YAIA;cACA;gBACA;cACA;YACA;UAEA;QAEA,CA3BA,EA2BAE,KA3BA,CA2BAC;UACA;UACAH;UACAC;YACAD;UACA,CAFA,EAEA,IAFA;QAGA,CAjCA,EAiCAI,OAjCA,CAiCA;UACA;QACA,CAnCA;MAqCA;MAAA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;IAeA,CArGA;;IAwGA;IAEAC;MAEA;;MACA;QACA;QACAL;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CANA,MAOA;QAEA;QAEAA;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CARA,MASA;QACA;MACA;IACA,CAhIA;;IAoIA;IAEAM;MAEA;MACA;MAEA;MACA;MACA;MAEA;QACAnC,QADA;QAEAC,iBAFA;QAGAC,iBAHA;QAIAW,aAJA;QAKAC;UACAd,QADA;UAEAK;QAFA,CALA;QASAU;UACAf;QADA,CATA;QAYAK;MAZA;;MAeA;QACA;UACA+B;QACA;MACA;;MACAA;;MAEA;QAEA;UACA;;UACAC;YACAD;YACA;YACA;UACA,CAJA;;UAKAC;UACAC;QACA;MACA;IACA,CAlLA;IAsLA;IAEAC;MACA;MACA;MACA;MACA;MACA;MAEA;QACAvC,QADA;QAEAC,iBAFA;QAGAC,iBAHA;QAIAW,aAJA;QAKAC;UACAd,QADA;UAEAK;QAFA,CALA;QASAU;UACAf;QADA,CATA;QAYAK;MAZA;MAeA;QACA;UACAmC;QACA;MACA,CAJA;MAMAA;;MAEA;QAEA;UAEA;;UAEAH;YACAG;YACA;UACA,CAHA;;UAIAH;UACAC;QAEA;MACA;;MACAG;IACA,CAtOA;;IAwOA;IAEAC;MACA;IACA,CA5OA;;IA8OAC;MACA;IACA,CAhPA;;IAkPA;IAEAC;MACA;QACAhC;QACAA;QACAA;MACA;MAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;IAOA,CAnRA;;IAsRA;IAEAiC;MACA;IACA,CA1RA;;IA4RA;IAEAC;MAEA;MACA;MACA;MACA;MACA;;MAEA;QACA;UACA;QACA;MACA;;MAEA;QACA;;QACAT;UACA;QACA,CAFA;;QAIAA;QACA;MACA;IACA,CArTA;;IAuTAU;MACA;IACA,CAzTA;;IA4TAC;MACA;MACA;MACA;;MAEA;QACAC;MACA;;MACA;IACA,CArUA;;IAwUA;IAEA;MACA;QACA;MACA,CAFA,EAEAlB,KAFA,CAEAC;QACA;QACAH;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CARA;IASA,CApVA;;IAuVA;IAEA;MACA;QACA;MACA,CAFA,EAEAE,KAFA,CAEAC;QACA;QACAH;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CARA;IASA,CAnWA;;IAqWA;IAEA;MACA;QACA;MACA,CAFA,EAEAE,KAFA,CAEAC;QACA;QACAH;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CARA;IASA,CAjXA;;IAmXA;IAEA;MACA;QACA;;QACA;UAEA;YACAqB,4BADA;YAEAvB;UAFA;UAKAwB;UACA;;UAEA;YACA;UACA;;UAEA;YACA;UACA,CAFA,MAEA;YACA;UACA,CAFA,MAEA;YACA;UACA;QACA;MAEA,CAzBA,CAyBA;QACA;QACAtB;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAIA;IAEA,CAxZA;;IA4ZA;IAEA;MACA;QACA;MACA,CAFA,EAEAE,KAFA,CAEAC;QACA;QACAH;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CARA;IASA;;EAxaA,CAtHA;EAiiBAuB;IACA;IACAC;MACA;IACA,CAJA;;IAMA;IAEAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CAfA;;IAiBAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CAxBA;;IA0BAC;MACA;MACA;MACA;MACA;IACA,CA/BA;;IAiCAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CAxCA;;IA0CAC;MACA;MACA;MACA;MACA;MACA;IACA,CAhDA;;IAmDAC;MACA;;MAEA;QAEA;UACA;YACAT,4BADA;YAEAvB;UAFA;UAIAwB;UACAA;;UAEA;YACAS;UACA;QACA;MACA;;MACA;IACA;;EAtEA,CAjiBA;;EA2mBAC;IACA;IACA;IACA;IACA;IACA;EACA;;AAjnBA","names":["name","data","programmeImmobilierList","caracteristiqueObligatoireList","caracteristiqueUsuelleList","caracteristiqueOptionelleList","villesList","formatsList","referenceList","caracteristiqueLogementNonDefinies","successMsg","errorMsg","warningMsg","overlay","produitLogementModel","produitLogement","id","designation","description","code","programmeImmobilier","version","caracteristiqueProduitLogementList","estValide","estActive","prix","imagesList","videosList","imageConsultation","contenu","format","typeDocument","documentTransfertModel","document","path","entityName","entityId","validations","required","minLength","maxLength","numeric","$each","valeurTexte","methods","$","setTimeout","catch","e","finally","submitForm","previewMultiVideo","video","reader","index","previewMultiImage","image","console","deleteImageList","deleteVideoList","deleteImageConsultation","getFile","pickFile","selectImage","getIntegerList","containerList","proprieteProduitLogement","caracteristiq","computed","isCreation","designationProduitLogementErrors","descriptionProduitLogementErrors","programmeProduitLogementErrors","codeProduitLogementErrors","prixProduitLogementErrors","isValeurCaracteristiqueNonDefinis","valeurCaracteristiqueNonDefinis","mounted"],"sourceRoot":"src/components/espace_promoteur","sources":["CreerModifierProduitLogement.vue"],"sourcesContent":["<template>\n\n    <v-app>\n\n        <v-form @submit.prevent=\"submitForm\">\n\n            <v-card elevation=\"5\">\n\n                <v-card-title><span class=\"create_or_modify_title\">CREER UN PRODUIT LOGEMENT</span> </v-card-title>\n\n                <v-card>\n                    <v-row>\n                        <v-card-subtitle>\n                            <v-icon>mdi-chevron-right</v-icon><span class=\"section\">INFORMATION(S) GÉNÉRALE(S)</span> \n                        </v-card-subtitle>\n                    </v-row>\n\n                    <v-container>\n                        <v-row>\n                            <v-col cols=\"6\">\n                                <v-text-field color=\"teal\" :error-messages=\"designationProduitLogementErrors\" \n                                    :counter=\"10\" label=\"Designation\" v-model.trim=\" $v.produitLogementModel.produitLogement.designation.$model\" \n                                    required>\n                                </v-text-field>\n                            </v-col>\n    \n                            <v-col cols=\"6\">\n                                <v-select color=\"teal\" :error-messages=\"programmeProduitLogementErrors\"\n                                    :items=\"programmeImmobilierList\" item-text=\"designation\" item-value=\"id\"\n                                    label=\"Programme Immobilier\" v-model=\"produitLogementModel.produitLogement.programmeImmobilier.id\"  required>\n                                </v-select>\n                            </v-col>\n    \n                            <v-col cols=\"12\">\n                                <v-textarea  color=\"teal\" :error-messages=\"descriptionProduitLogementErrors\" label=\"Description\"\n                                    v-model.trim=\" $v.produitLogementModel.produitLogement.description.$model\">\n                                    <template v-slot:label><div>Description</div></template>\n                                </v-textarea>\n                            </v-col>\n\n                            <v-col cols=\"6\">\n                                <v-text-field color=\"teal\" :error-messages=\"codeProduitLogementErrors\" \n                                    label=\"Code\" v-model.trim=\"$v.produitLogementModel.produitLogement.code.$model\" required>\n                                </v-text-field>\n                            </v-col>\n\n                            <v-col cols=\"6\">\n                                <v-text-field color=\"teal\" :error-messages=\"prixProduitLogementErrors\" \n                                    label=\"Prix\" suffix=\"FCFA\" v-model.number=\"$v.produitLogementModel.produitLogement.prix.$model\" required>\n                                </v-text-field>\n                            </v-col>\n                            \n                        </v-row>\n                    </v-container>\n                </v-card>\n\n                <p></p>\n\n                <v-card elevation=\"3\">\n\n                   <v-expansion-panels>\n                        <v-expansion-panel>\n                            <v-expansion-panel-header>\n                                <v-row>\n                                    <span class=\"section\"><v-icon>mdi-chevron-right</v-icon>CARACTERISTIQUES OBLIGATOIRES</span> \n                                </v-row>\n                            </v-expansion-panel-header>\n                            <v-expansion-panel-content>\n                                <v-container>\n                                    <v-row>\n                                        <v-col v-for=\"caracteristique in caracteristiqueObligatoireList\" :key=\"caracteristique.id\">\n                                            <v-text-field v-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.double'\" \n                                                color=\"teal\" :label=\"caracteristique.proprieteProduitLogement.designation\" \n                                                required v-model=\"caracteristique.valeurTexte\">\n                                            </v-text-field>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.reference'\" color=\"teal\" :error-messages=\"programmeProduitLogementErrors\"\n                                                :items=\"referenceList\" item-text=\"designation\" item-value=\"id\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.ville'\" color=\"teal\"\n                                                :items=\"villesList\" item-text=\"designation\" item-value=\"id\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.integer'\" color=\"teal\"\n                                                :items=\"getIntegerList(caracteristique)\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-checkbox dense v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.boolean'\" v-model=\"caracteristique.valeurTexte\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" color=\"teal\" true-value=\"true\" false-value=\"false\"\n                                            ></v-checkbox>\n                                            <v-text-field v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.string'\" \n                                                color=\"teal\" :label=\"caracteristique.proprieteProduitLogement.designation\" \n                                                required v-model=\"caracteristique.valeurTexte\">\n                                            </v-text-field>\n                                        </v-col>\n                                    </v-row>\n                                </v-container>\n                            </v-expansion-panel-content>\n                        </v-expansion-panel>\n                   </v-expansion-panels>                    \n                </v-card>\n\n                <p></p>\n\n                <v-card elevation=\"3\">\n                    <v-expansion-panels>\n                        <v-expansion-panel>\n                            <v-expansion-panel-header>\n                                <v-row>\n                                    <span class=\"section\"><v-icon>mdi-chevron-right</v-icon>CARACTERISTIQUES USUELLES</span> \n                                </v-row>\n                            </v-expansion-panel-header>\n                            <v-expansion-panel-content>\n                                <v-container>\n                                    <v-row>\n                                        <v-col v-for=\"caracteristique in caracteristiqueUsuelleList\" :key=\"caracteristique.id\">\n                                            <v-text-field v-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.double'\" \n                                                color=\"teal\" :label=\"caracteristique.proprieteProduitLogement.designation\" \n                                                required v-model=\"caracteristique.valeurTexte\">\n                                            </v-text-field>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.reference'\" color=\"teal\" :error-messages=\"programmeProduitLogementErrors\"\n                                                :items=\"referenceList\" item-text=\"designation\" item-value=\"id\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.ville'\" color=\"teal\"\n                                                :items=\"villesList\" item-text=\"designation\" item-value=\"id\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.integer'\" color=\"teal\"\n                                                :items=\"getIntegerList(caracteristique)\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-checkbox dense v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.boolean'\" v-model=\"caracteristique.valeurTexte\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" color=\"teal\" true-value=\"true\" false-value=\"false\"\n                                            ></v-checkbox>\n                                            <v-text-field v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.string'\" \n                                                color=\"teal\" :label=\"caracteristique.proprieteProduitLogement.designation\" \n                                                required v-model=\"caracteristique.valeurTexte\">\n                                            </v-text-field>\n                                        </v-col>\n                                    </v-row>\n                                </v-container>\n                            </v-expansion-panel-content>\n                        </v-expansion-panel>\n                    </v-expansion-panels>\n                </v-card>\n\n                <p></p>\n\n\n                <v-card elevation=\"3\">\n                    <v-expansion-panels>\n                        <v-expansion-panel>\n                            <v-expansion-panel-header>\n                                <v-row>\n                                    <span class=\"section\"><v-icon>mdi-chevron-right</v-icon>CARACTERISTIQUES OPTIONNELLES</span> \n                                </v-row>\n                            </v-expansion-panel-header>\n                            <v-expansion-panel-content>\n                                <v-container>\n                                    <v-row>\n                                        <v-col cols=\"4\" v-for=\"caracteristique in caracteristiqueOptionelleList\" :key=\"caracteristique.id\">\n                                            <v-text-field v-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.double'\" \n                                                color=\"teal\" :label=\"caracteristique.proprieteProduitLogement.designation\" \n                                                required v-model=\"caracteristique.valeurTexte\">\n                                            </v-text-field>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.reference'\" color=\"teal\" :error-messages=\"programmeProduitLogementErrors\"\n                                                :items=\"referenceList\" item-text=\"designation\" item-value=\"id\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.ville'\" color=\"teal\"\n                                                :items=\"villesList\" item-text=\"designation\" item-value=\"id\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.integer'\" color=\"teal\"\n                                                :items=\"getIntegerList(caracteristique)\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-checkbox dense v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.boolean'\" v-model=\"caracteristique.valeurTexte\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" color=\"teal\" true-value=\"true\" false-value=\"false\"\n                                            ></v-checkbox>\n                                            <v-text-field v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.string'\" \n                                                color=\"teal\" :label=\"caracteristique.proprieteProduitLogement.designation\" \n                                                required v-model=\"caracteristique.valeurTexte\">\n                                            </v-text-field>\n                                        </v-col>\n                                    </v-row>\n                                </v-container>\n                            </v-expansion-panel-content>\n                        </v-expansion-panel>\n                    </v-expansion-panels>\n                </v-card>\n\n                <p></p>\n\n                <v-card elevation=\"3\">\n                    <v-expansion-panels>\n                        <v-expansion-panel>\n                            <v-expansion-panel-header>\n                                <v-row>\n                                    <span class=\"section\"><v-icon>mdi-chevron-right</v-icon>CARACTERISTIQUES SPECIFIQUES AUX LOGEMENTS</span> \n                                </v-row>\n                            </v-expansion-panel-header>\n                            <v-expansion-panel-content>\n                                <v-container>\n                                    <v-row>\n                                        <v-col cols=\"4\" v-for=\"caracteristique in isValeurCaracteristiqueNonDefinis\" :key=\"caracteristique.id\">\n                                            <v-checkbox dense v-model=\"caracteristique.valeurTexte\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" color=\"teal\" true-value=\"true\" false-value=\"false\"\n                                            ></v-checkbox>\n                                        </v-col>\n\n                                        <v-col cols=\"4\" v-for=\"caracteristique in caracteristiqueLogementNonDefinies\" :key=\"caracteristique.id\">\n                                            <v-checkbox dense v-model=\"caracteristique.valeurTexte\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" color=\"teal\" true-value=\"true\" false-value=\"false\"\n                                            ></v-checkbox>\n                                        </v-col>\n                                    </v-row>\n                                </v-container>\n                            </v-expansion-panel-content>\n                        </v-expansion-panel>\n                    </v-expansion-panels>\n                </v-card>\n\n                <p></p>\n\n                <v-expansion-panels>\n                    <v-expansion-panel>\n                        <v-expansion-panel-header>\n                            <v-row>\n                                <span class=\"section\"><v-icon>mdi-chevron-right</v-icon>IMAGE DE CONSULTATION</span> \n                            </v-row>\n                        </v-expansion-panel-header>\n                        <v-expansion-panel-content>\n                            <v-container>\n                                <v-card class=\"mx-auto\" max-width=\"800\">\n                                    <v-spacer></v-spacer>\n                                    <v-btn icon color=\"grey\"><v-icon>mdi-upload</v-icon><input @change=\"pickFile\" type=\"file\" ref=\"fileInput\" id=\"inputFile\"></v-btn>\n                                    <v-btn icon color=\"grey\" @click=\"deleteImageConsultation(produitLogementModel.imageConsultation)\"><v-icon>mdi-close</v-icon></v-btn>\n                                    <v-img :src=\"produitLogementModel.imageConsultation.contenu\" height=\"300px\"></v-img>\n\n                                    <v-card-subtitle>\n                                        <v-text-field color=\"teal\" v-model=\"produitLogementModel.imageConsultation.designation\" label=\"designation\" :disabled=\"produitLogementModel.imageConsultation.contenu == null\"></v-text-field>\n                                    </v-card-subtitle>\n                                    \n                                </v-card>\n                            </v-container>\n                        </v-expansion-panel-content>\n                    </v-expansion-panel>\n                </v-expansion-panels>\n\n                <br>\n\n                <v-expansion-panels>\n                    <v-expansion-panel>\n                        <v-expansion-panel-header>\n                            <v-row>\n                                <span class=\"section\"><v-icon>mdi-chevron-right</v-icon>AUTRES IMAGES</span> \n                            </v-row>\n                        </v-expansion-panel-header>\n                        <v-expansion-panel-content>\n                            <v-spacer></v-spacer>\n                            <v-btn text color=\"primary\"><v-icon>mdi-upload</v-icon><input @change=\"previewMultiImage\" type=\"file\" accept=\"image/*\" multiple=\"multiple\" id=\"myFile\">AJOUTER DES IMAGES</v-btn>\n                            <v-container>\n                                <template v-if=\"produitLogementModel.imagesList.length\">\n                                    <v-container>\n                                        <v-row>\n                                            <v-col cols=\"4\" v-for=\"(image , i) in produitLogementModel.imagesList\" :key=\"i\">\n                                                <v-card class=\"mx-auto\" max-width=\"800\">\n                                                    <v-spacer></v-spacer>\n                                                    <v-btn icon color=\"grey\" @click=\"deleteImageList(i)\"><v-icon>mdi-close</v-icon></v-btn>\n\n                                                    <v-img :src=\"image.contenu\" height=\"200px\"></v-img>\n                                    \n                                                    <v-card-subtitle>\n                                                        <v-text-field v-model=\"image.designation\" label=\"designation\" :disabled=\"image.contenu == null\"></v-text-field>\n                                                    </v-card-subtitle>\n                                                </v-card>\n                                            </v-col>\n                                        </v-row>\n                                    </v-container>\n                                </template>\n                                \n                                \n                            </v-container>\n                        </v-expansion-panel-content>\n                    </v-expansion-panel>\n                </v-expansion-panels>\n\n                <br>\n\n                <v-expansion-panels>\n                    <v-expansion-panel>\n                        <v-expansion-panel-header>\n                            <v-row>\n                                <span class=\"section\"><v-icon>mdi-chevron-right</v-icon>VIDEOS</span> \n                            </v-row>\n                        </v-expansion-panel-header>\n                        <v-expansion-panel-content>\n                            <v-spacer></v-spacer>\n                            <v-btn text color=\"primary\"><v-icon>mdi-upload</v-icon><input type=\"file\" accept=\"video/*\" multiple=\"multiple\" @change=\"previewMultiVideo\" id=\"myVideoFile\">AJOUTER UNE VIDEO</v-btn>\n                            <v-container>\n                                <template v-if=\"produitLogementModel.videosList.length\">\n                                    <v-container>\n                                        <v-row>\n                                            <v-col cols=\"6\" v-for=\"(video , v) in produitLogementModel.videosList\" :key=\"v\">\n                                                <v-card class=\"mx-auto\" max-width=\"800\">\n                                                    <v-spacer></v-spacer>\n                                                    <v-btn icon color=\"grey\" @click=\"deleteVideoList(v)\"><v-icon>mdi-close</v-icon></v-btn>\n                                                    \n                                                    <v-card-subtitle>\n                                                        <v-text-field v-model=\"video.designation\" label=\"designation\" :disabled=\"video.contenu == null\"></v-text-field>\n                                                    </v-card-subtitle>\n                                                    <video :src=\"video.contenu\" controls width=\"450\" height=\"250\" autoplay loop preload=\"metadata\"></video>\n                                                </v-card>\n                                            </v-col>\n                                        </v-row>\n                                    </v-container>\n                                </template>\n                                \n                                \n                            </v-container>\n                        </v-expansion-panel-content>\n                    </v-expansion-panel>\n                </v-expansion-panels>\n\n            </v-card>\n\n            <p></p>\n\n            <br>\n\n            <v-row>\n\n                <v-col cols=\"5\"><v-btn type=\"button\" text>REINITIALISER</v-btn></v-col>\n\n                <v-col cols=\"\"><v-btn type=\"submit\" textn color=\"primary\"><v-icon>mdi-check</v-icon> CREER</v-btn></v-col>\n\n            </v-row>\n\n            \n\n        </v-form>\n\n        <v-alert class=\"myalert alert-success\" type=\"success\" width=\"350px\" dismissible>{{ successMsg }}</v-alert>\n        <v-alert class=\"myalert alert-warning\" type=\"warning\" width=\"350px\" dismissible>{{ warningMsg }}</v-alert>\n        <v-alert class=\"myalert alert-error\" type=\"error\" width=\"350px\" dismissible>{{ errorMsg }}</v-alert>\n        <v-overlay :value=\"overlay\"><v-progress-circular indeterminate size=\"64\"></v-progress-circular></v-overlay>\n \n    </v-app>\n\n</template>\n\n<script>\nimport { required, minLength, maxLength , numeric  } from \"vuelidate/lib/validators\";\nimport { API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER , API_OBTENIR_LISTE_PROPRIETES , API_OBTENIR_LISTE_VILLES } from '../globalConfig/globalConfig';\nimport { API_OBTENIR_FORMATS_DOCUMENTS , API_REFERENCES_PAR_FAMILLE , API_CREER_PRODUIT_LOGEMENT } from '../globalConfig/globalConfig';\nimport axios from 'axios';\nimport $ from 'jquery';\n    export default {\n        name: 'CreerModifierProduitLogement',\n        data(){\n            return{\n                programmeImmobilierList:[],\n                caracteristiqueObligatoireList: [],\n                caracteristiqueUsuelleList: [],\n                caracteristiqueOptionelleList: [],\n                villesList:[],\n                formatsList:[],\n                referenceList:[],\n                caracteristiqueLogementNonDefinies : [] ,\n\n\n                successMsg : null ,\n                errorMsg : null ,\n                warningMsg : null,\n                overlay: false,\n\n\n\n                produitLogementModel: {\n                    produitLogement: {\n                        id: null,\n                        designation: null,\n                        description: null,\n                        code: null,\n                        programmeImmobilier: {  \n                            id: null,\n                            version: null,\n                        },\n                        caracteristiqueProduitLogementList: [],\n                        version: null,\n                        estValide: null,\n                        estActive : null,\n                        prix : null\n                    },\n                    imagesList : [],\n                    videosList : [],\n                    imageConsultation: {\n                        id: null,\n                        designation: null,\n                        description: null,\n                        contenu: null,\n                        format: {\n                            id: null,\n                            version: null,\n                        },\n                        typeDocument:{\n                            id: \"ref.element.typeValeur.imageConsultation\"\n                        },\n                        version : null\n                    },\n                },\n\n                documentTransfertModel : {\n                    document : {\n                        id : null ,\n                        designation : null ,\n                        description : null ,\n                        contenu : null ,\n                        path : null ,\n                        format : {\n                            id: null,\n                            version: null,\n                        },\n                        typeDocument:{\n                            id: null\n                        },\n                    },\n                    entityName : \"ref.element.type.produitLogement\",\n                    entityId : null\n                },\n            }\n        },\n\n        validations: {\n\n            produitLogementModel: {\n\n                produitLogement: {\n                    designation: {\n                        required,\n                        minLength: minLength(4),\n                        maxLength: maxLength(50),\n                    },\n                    description: {\n                        required,\n                        minLength: minLength(6),\n                        maxLength: maxLength(650),\n                    },\n                    programmeImmobilier:{\n                        id:{\n                            required,\n                        }\n                    },\n                    code: {\n                        required,\n                        minLength: minLength(4),\n                        maxLength: maxLength(20),\n                    },\n                    prix : {\n                        required,\n                        numeric\n                    }\n                },\n            },\n\n            caracteristiqueObligatoireList:{\n                required , \n                $each : {\n                    valeurTexte : {\n                        required\n                    }\n                }\n            }\n        },\n\n        methods : {\n\n            // ENVOI DU FORMULAIRE DE CREATION OU MODIFICATION DE PRODUIT LOGEMENT VERS LE MIDDLEWARE\n\n            async creerModifierProduitLogement() {\n\n                //this.transfertCaracteristiqNonDefini();\n\n                //this.sendCaracteristiqueDefinies();\n\n                if (this.isCreation) {\n\n                    this.overlay = true\n\n                    await axios.post(API_CREER_PRODUIT_LOGEMENT, this.produitLogementModel).then((response) => {\n\n                        if (response.status == 200) { \n\n                            this.successMsg = \"Création du produit logement effectué\"\n                            $(\".alert-success\").fadeIn();\n                            setTimeout(function(){\n                                $(\".alert-success\").fadeOut(); \n                            }, 4000)\n\n                        } else{\n\n                            this.errorMsg = \"Erreur dans la création du produit logement\"\n\n                            $(\".alert-error\").fadeIn();\n                            setTimeout(function(){\n                                $(\".alert-error\").fadeOut(); \n                            }, 4000)\n\n                            if (response.data.messages != null) {\n                                for (var i = 0; i < response.data.messages.length; i++) {\n                                    this.messageList.push(response.data.messages[i].status + \",\" + response.data.messages[i].message);\n                                }\n                            }\n\n                        }\n\n                    }).catch((e) => {\n                        this.errorMsg = e\n                        $(\".alert-error\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-error\").fadeOut(); \n                        }, 4000)\n                    }).finally(() => {\n                        this.overlay = false\n                    })\n\n                } /*else {\n\n                    this.$isLoading(true)\n\n                    await axios.put(API_MODIFIER_PRODUIT_LOGEMENT, this.produitLogementModel.produitLogement)\n                    .then((response) => {\n\n                        if (response.status == 200) {\n                            this.successMsg = \"Produit Logement modifié avec succès\"\n\n                            $(\".myAlert-top\").fadeIn();\n                            setTimeout(function(){\n                                $(\".myAlert-top\").fadeOut(); \n                            }, 4000)\n                        } \n            \n                        else{\n\n                            this.errorMsg = \"Erreur dans la modification du produit logement\"\n                            $(\".myAlert-bottom\").fadeIn();\n                            setTimeout(function(){\n                                $(\".myAlert-bottom\").fadeOut(); \n                            }, 4000)\n\n                            if (response.data.messages != null) {\n                                for (var i = 0; i < response.data.messages.length; i++) {\n                                    this.messageList.push( response.data.messages[i].status + \",\" + response.data.messages[i].message);\n                                }\n\n                            }\n\n                        }\n\n                    }).catch((e) => {\n\n                        this.errorMsg = e\n                        $(\".myAlert-bottom\").fadeIn();\n                        setTimeout(function(){\n                            $(\".myAlert-bottom\").fadeOut(); \n                        }, 4000)\n                    }).finally(() => {\n                        this.$isLoading(false) // hide the loading screen  \n                    })\n\n                    this.modifierImageConsultation()\n                    this.modificationImagesList()\n                    this.modificationVideosList()\n\n                }*/\n\n            },\n\n\n            // SOUMISSION DU FORMULAIRE\n\n            submitForm() {\n\n                this.$v.$touch();\n                if (this.$v.produitLogementModel.$invalid) {\n                    this.errorMsg = \"Enregistrement Echoué\"\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                }\n                else if(this.$v.caracteristiqueObligatoireList.$invalid){\n\n                    this.errorMsg = \"Toutes les caractéristiques obligatoires doivent être renseignées\"\n\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                }\n                else{\n                    this.creerModifierProduitLogement();\n                }        \n            },\n\n\n            \n            // Methodes permettant de choisir une listes de videos\n\n            previewMultiVideo: function(event) {\n\n                var myFile = document.getElementById('myVideoFile')\n                var extension = myFile.value.split('.')[1]\n\n                var input = event.target;\n                var count = input.files.length;\n                var index = 0;\n\n                var video = {\n                    id : null , \n                    designation : null , \n                    description : null , \n                    contenu : null ,\n                    format : {\n                        id : null , \n                        version : null\n                    },\n                    typeDocument:{\n                        id: \"ref.element.typeValeur.video\"\n                    },\n                    version : null\n                };\n\n                for (let i = 0; i < this.formatsList.length; i++) {\n                    if (extension == this.formatsList[i].designation) {\n                        video.format.id = this.formatsList[i].id\n                    }\n                }\n                video.designation = this.getFile(myFile.value)\n\n                if (input.files) {\n\n                    while(count --) {\n                        var reader = new FileReader();\n                        reader.onload = (e) => {\n                            video.contenu = e.target.result\n                            this.produitLogementModel.videosList.push(video);\n                            this.previewVideosList.push(e.target.result)\n                        }\n                        reader.readAsDataURL(input.files[index]);\n                        index ++;\n                    }\n                }\n            },\n\n\n\n            //FONCTION PERMETTANT LA SELECTION DE PLUSIEURS IMAGES \n\n            previewMultiImage: function(event) {\n                var myFile = document.getElementById('myFile')\n                var extension = myFile.value.split('.')[1]\n                var input = event.target;\n                var count = input.files.length;\n                var index = 0;\n\n                var image = {\n                    id : null , \n                    designation : null , \n                    description : null , \n                    contenu : null ,\n                    format : {\n                        id : null , \n                        version : null\n                    },\n                    typeDocument:{\n                        id: \"ref.element.typeValeur.image\"\n                    },\n                    version : null\n                };\n\n                this.formatsList.forEach(element => {\n                if (extension == element.designation) {\n                        image.format.id = element.id\n                    } \n                });\n\n                image.designation = this.getFile(myFile.value)\n\n                if (input.files) {\n\n                    while(count --) {\n\n                    var reader = new FileReader();\n\n                    reader.onload = (e) => {\n                        image.contenu = e.target.result\n                        this.produitLogementModel.imagesList.push(image);\n                    }\n                    reader.readAsDataURL(input.files[index]);\n                    index ++;\n\n                    }\n                }\n                console.log(this.produitLogementModel.imagesList)\n            },\n\n            //SUPPRIMER IMAGES LIST\n\n            deleteImageList(position){\n                this.produitLogementModel.imagesList.splice(position , 1);\n            },\n\n            deleteVideoList(position){\n                this.produitLogementModel.videosList.splice(position , 1);\n            },\n\n            //SUPPRIMER UNE IMAGE DE CONSULTATION\n\n            deleteImageConsultation(imageConsultation){\n                if (this.isCreation){\n                    imageConsultation.contenu = null\n                    imageConsultation.designation = null\n                    imageConsultation.description = null\n                }\n\n                /*this.$swal.fire({ title: 'Confirmer ?', text: \"Cette action est irréversible\", icon: 'warning',\n\n                    showCancelButton: true, confirmButtonColor: '#3085d6',  cancelButtonColor: '#d33', cancelButtonText: 'Annuler', confirmButtonText: 'Oui ,supprimer!'\n        \n                }).then((result) => {\n\n                    if (result.isConfirmed) {\n                        axios.delete(API_SUPPRIMER_DOCUMENT+this.produitLogementModel.imageConsultation.id).then((response) => {\n                            if (response.status == 200) {   \n                                this.$swal.fire('Supprimé!','Image de consultation supprimée avec succès.','success')\n                                this.produitLogementModel.imageConsultation.contenu = null\n                                this.produitLogementModel.imageConsultation.designation = null\n                                this.produitLogementModel.imageConsultation.designation = null\n\n                            }\n\n                        }).catch((e) => {\n                            this.$swal.fire({ icon: 'error',  title: 'Erreur...',text: e })\n                        })\n                    }\n                }).catch((e) => {\n                    this.$swal.fire({ icon: 'error', title: 'Erreur...',  text: e })\n                })*/\n\n            },\n\n\n            // fonction permettant de recuperer le format du document (images ou videos)\n\n            getFile(filePath) {\n                return filePath.substr(filePath.lastIndexOf('\\\\') + 1).split('.')[0];\n            },\n\n            //SELECTION DES DOCUMENTS (IMAGE DE CONSULATION , IMAGE LIST)\n\n            pickFile () {\n\n                let input = this.$refs.fileInput\n                let file = input.files\n                var inputFile = document.getElementById('inputFile')\n                var extension = inputFile.value.split('.')[1]\n                this.produitLogementModel.imageConsultation.designation = this.getFile(inputFile.value);\n\n                for (let i = 0; i < this.formatsList.length; i++) {\n                    if (extension == this.formatsList[i].designation) {\n                        this.produitLogementModel.imageConsultation.format.id = this.formatsList[i].id\n                    }\n                }\n\n                if (file && file[0]) {\n                    let reader = new FileReader\n                    reader.onload = e => {\n                        this.produitLogementModel.imageConsultation.contenu = e.target.result\n                    }\n\n                    reader.readAsDataURL(file[0])\n                    this.$emit('input', file[0])\n                }\n            },\n\n            selectImage(){\n                this.$refs.fileInput.click()\n            },\n\n\n            getIntegerList(item) {\n                var min = item.proprieteProduitLogement.minValueIntegerFiltre;\n                var max = item.proprieteProduitLogement.maxValueIntegerFiltre;\n                var containerList = [];\n\n                for (var i = min; i <= max; i++) {\n                    containerList.push(i);\n                }\n                return containerList;\n            },\n\n            \n            //RECUPERER LA LISTE DES REFERENCES TYPE LOGEMENT\n\n            async getReferenceTypeLogement() {\n                await axios.get(API_REFERENCES_PAR_FAMILLE(\"familleTypeLogement\")).then((response) => {\n                    this.referenceList = response.data.data;\n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                });\n            },\n\n\n            // RECUPERER LA LISTE DES FORMATS DE DOCUMENTS DEPUIS LE MIDDLEWARE\n\n            async getFormatsList(){\n                await axios.get(API_OBTENIR_FORMATS_DOCUMENTS).then((response) => {\n                    this.formatsList = response.data.data;\n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\"alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\"alert-error\").fadeOut(); \n                    }, 4000)\n                });\n            },\n\n            // DEPUIS LE MIDDLEWARE RECUPERER LA LISTE DES VILLES\n\n            async getVillesList() {\n                await axios.get(API_OBTENIR_LISTE_VILLES).then((response) => {\n                    this.villesList = response.data.data;\n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                });\n            },\n\n            // RECUPERER DEPUIS LE MIDDLEWARE LA LISTE DES PROPRIÈTÉS PRODUITS LOGEMENT POUR LA CREATION DES CRARCTERISTIQUES DU PRODUIT LOGEMENT\n\n            async getProprieteProduitLogementList() {\n                try {\n                    const resultats = await axios.get(API_OBTENIR_LISTE_PROPRIETES);\n                    for (var i = 0; i < resultats.data.data.length; i++) {\n\n                        var caracteristiq = {\n                            proprieteProduitLogement: {},\n                            valeurTexte: null,\n                        };\n\n                        caracteristiq.proprieteProduitLogement = resultats.data.data[i];\n                        this.produitLogementModel.produitLogement.caracteristiqueProduitLogementList.push(caracteristiq);\n                        \n                        if (resultats.data.data[i].type.id == 'ref.element.typeValeur.integer' || resultats.data.data[i].type.id == 'ref.element.typeValeur.double') {\n                            this.caracteristiqueLogementNonDefinies.push(caracteristiq);\n                        }\n\n                        if (resultats.data.data[i].estObligatoire == true) {\n                            this.caracteristiqueObligatoireList.push(caracteristiq);\n                        } else if (resultats.data.data[i].estObligatoire == false && resultats.data.data[i].estUsuelleFiltre == true) {\n                            this.caracteristiqueUsuelleList.push(caracteristiq);\n                        }else{\n                            this.caracteristiqueOptionelleList.push(caracteristiq);\n                        }\n                    }\n\n                }catch (e) {\n                    this.errorMsg = e\n                    $(\"alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n\n                }\n\n            },\n\n\n\n            //OBTENIR LA LISTE DES PROGRAMMES IMMOBILIERS\n\n            async getProgrammeImmobilierList() {\n                await axios.get(API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER).then((response) => {\n                    this.programmeImmobilierList = response.data.data;\n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                });\n            },\n        },\n\n        computed:{\n            // VERIFIER SI NOUS SOMMES EN CREATION OU EN MODIFICATION\n            isCreation() {\n                return this.produitLogementModel.produitLogement.id == null;\n            },\n\n            // GESTIONS DES CONTRAINTES DES CHAMPS D'ENTREES (DESIGNATION , DESCRIPTION ) DU PRODUIT LOGEMENT\n\n            designationProduitLogementErrors(){\n                const errors = [];\n                if (!this.$v.produitLogementModel.produitLogement.designation.$dirty) return errors\n                !this.$v.produitLogementModel.produitLogement.designation.maxLength && errors.push('La designation ne doit pas dépasser 600 caractères')\n                !this.$v.produitLogementModel.produitLogement.designation.required && errors.push('La désignation est obligatoire.')\n                !this.$v.produitLogementModel.produitLogement.designation.minLength && errors.push('La désignation doit avoir au minimum 8 caractères.')\n                return errors\n            },\n\n            descriptionProduitLogementErrors(){\n                const errors = [];\n                if (!this.$v.produitLogementModel.produitLogement.description.$dirty) return errors\n                !this.$v.produitLogementModel.produitLogement.description.maxLength && errors.push('La description ne doit pas dépasser 600 caractères')\n                !this.$v.produitLogementModel.produitLogement.description.required && errors.push('La description est obligatoire.')\n                !this.$v.produitLogementModel.produitLogement.description.minLength && errors.push('La description doit avoir plus de 20 caractères.')\n                return errors \n            },\n\n            programmeProduitLogementErrors(){\n                const errors = [];\n                if (!this.$v.produitLogementModel.produitLogement.programmeImmobilier.id.$dirty) return errors\n                !this.$v.produitLogementModel.produitLogement.programmeImmobilier.id.required && errors.push('Vous devez rattacher un programme immobilier.')\n                return errors \n            },\n\n            codeProduitLogementErrors(){\n                const errors = [];\n                if (!this.$v.produitLogementModel.produitLogement.code.$dirty) return errors\n                !this.$v.produitLogementModel.produitLogement.code.maxLength && errors.push('Le code ne doit pas dépasser 600 caractères')\n                !this.$v.produitLogementModel.produitLogement.code.required && errors.push('Le code est obligatoire.')\n                !this.$v.produitLogementModel.produitLogement.code.minLength && errors.push('Le code doit avoir plus de 20 caractères.')\n                return errors \n            },\n\n            prixProduitLogementErrors(){\n                const errors = [];\n                if (!this.$v.produitLogementModel.produitLogement.prix.$dirty) return errors\n                !this.$v.produitLogementModel.produitLogement.prix.required && errors.push('Le prix du produit logement est obligatoire.')\n                !this.$v.produitLogementModel.produitLogement.prix.numeric && errors.push('Entrer un montant correct') \n                return errors \n            },\n\n\n            isValeurCaracteristiqueNonDefinis(){\n                var valeurCaracteristiqueNonDefinis = []\n\n                if (this.caracteristiqueOptionelleList.length > 0) {\n\n                    for (let index = 0; index < this.caracteristiqueOptionelleList.length; index++) {\n                        var caracteristiq = {\n                            proprieteProduitLogement : {},\n                            valeurTexte : null \n                        }\n                        caracteristiq.proprieteProduitLogement = this.caracteristiqueOptionelleList[index].proprieteProduitLogement\n                        caracteristiq.valeurTexte = this.caracteristiqueOptionelleList[index].valeurTexte\n                    \n                        if (caracteristiq.valeurTexte == null || caracteristiq.valeurTexte == \"false\") {\n                            valeurCaracteristiqueNonDefinis.push(caracteristiq)\n                        } \n                    }\n                }\n                return valeurCaracteristiqueNonDefinis ;\n            }\n\n        },\n\n        mounted(){\n            this.getProgrammeImmobilierList();\n            this.getReferenceTypeLogement();\n            this.getVillesList();\n            this.getFormatsList();\n            this.getProprieteProduitLogementList();\n        }\n    }\n</script>\n\n\n<style scoped>\n\n    .myalert{\n        display: none;\n        z-index: 1900;\n    }\n\n    .alert-success{\n        position: fixed;\n        top: 25px;\n        right:2%;\n        width: 25%;\n    }\n\n    .alert-error{\n        position: fixed;\n        top: 25px;\n        right:2%;\n        width: 25%;\n    }\n\n    .alert-warning{\n        position: fixed;\n        top: 25px;\n        right:2%;\n        width: 25%;\n    }\n\n\n    .create_or_modify_title{\n        color: #3867d6;\n    }\n\n    .section{\n        font-weight: bold;\n    }\n\n    input[type=file]{\n        position: absolute;\n        top: 0;\n        right: 0;\n        min-width: 100%;\n        min-height: 100%;\n        font-size: 100px;\n        text-align: right;\n        filter: alpha(opacity=0);\n        opacity: 0;\n        cursor: inherit;\n        display: block;\n    }\n\n</style>"]}]}