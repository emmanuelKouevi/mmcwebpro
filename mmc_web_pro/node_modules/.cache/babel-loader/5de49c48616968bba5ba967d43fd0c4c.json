{"remainingRequest":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/babel-loader/lib/index.js!/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kouevi/mmcwebpro/mmc_web_pro/src/components/espace_promoteur/CreerModifierProduitLogement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/src/components/espace_promoteur/CreerModifierProduitLogement.vue","mtime":1670590739640},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/babel.config.js","mtime":1663945696927},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/babel-loader/lib/index.js","mtime":1663945505798},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/vue-loader/lib/index.js","mtime":1663945506422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IHJlcXVpcmVkLCBtaW5MZW5ndGgsIG1heExlbmd0aCwgbnVtZXJpYyB9IGZyb20gInZ1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyI7CmltcG9ydCB7IEFQSV9PQlRFTklSX0xJU1RFX1BST0dSQU1NRV9JTU1PQklMSUVSLCBBUElfT0JURU5JUl9MSVNURV9QUk9QUklFVEVTLCBBUElfT0JURU5JUl9MSVNURV9WSUxMRVMsIEFQSV9NT0RJRklFUl9DT05URU5VX0lNQUdFX0NPTlNVTFRBVElPTiB9IGZyb20gJy4uL2dsb2JhbENvbmZpZy9nbG9iYWxDb25maWcnOwppbXBvcnQgeyBBUElfT0JURU5JUl9GT1JNQVRTX0RPQ1VNRU5UUywgQVBJX1JFRkVSRU5DRVNfUEFSX0ZBTUlMTEUsIEFQSV9DUkVFUl9QUk9EVUlUX0xPR0VNRU5ULCBBUElfTU9ESUZJRVJfTUVUQURBVEFTX0lNQUdFX0NPTlNVTFRBVElPTiB9IGZyb20gJy4uL2dsb2JhbENvbmZpZy9nbG9iYWxDb25maWcnOwppbXBvcnQgeyBBUElfT0JURU5JUl9JTUFHRV9DT05TVUxUQVRJT04sIEFQSV9PQlRFTklSX01FVEFEQVRBU19ET0NVTUVOVCwgQVBJX09CVEVOSVJfQ09OVEVOVV9ET0NVTUVOVCwgQVBJX0FKT1VURVJfRE9DVU1FTlQsIEFQSV9NT0RJRklFUl9QUk9EVUlUX0xPR0VNRU5UIH0gZnJvbSAnLi4vZ2xvYmFsQ29uZmlnL2dsb2JhbENvbmZpZyc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ3JlZXJNb2RpZmllclByb2R1aXRMb2dlbWVudCcsCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcm9ncmFtbWVJbW1vYmlsaWVyTGlzdDogW10sCiAgICAgIGNhcmFjdGVyaXN0aXF1ZU9ibGlnYXRvaXJlTGlzdDogW10sCiAgICAgIGNhcmFjdGVyaXN0aXF1ZVVzdWVsbGVMaXN0OiBbXSwKICAgICAgY2FyYWN0ZXJpc3RpcXVlT3B0aW9uZWxsZUxpc3Q6IFtdLAogICAgICB2aWxsZXNMaXN0OiBbXSwKICAgICAgZm9ybWF0c0xpc3Q6IFtdLAogICAgICByZWZlcmVuY2VMaXN0OiBbXSwKICAgICAgY2FyYWN0ZXJpc3RpcXVlTG9nZW1lbnROb25EZWZpbmllczogW10sCiAgICAgIGV0YXRJbWFnZUNvbnN1bHRhdGlvbjogewogICAgICAgIGRlc2lnbmF0aW9uOiBudWxsLAogICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLAogICAgICAgIGNvbnRlbnU6IG51bGwKICAgICAgfSwKICAgICAgc3VjY2Vzc01zZzogbnVsbCwKICAgICAgZXJyb3JNc2c6IG51bGwsCiAgICAgIHdhcm5pbmdNc2c6IG51bGwsCiAgICAgIG92ZXJsYXk6IGZhbHNlLAogICAgICBwcm9kdWl0TG9nZW1lbnRNb2RlbDogewogICAgICAgIHByb2R1aXRMb2dlbWVudDogewogICAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgICBkZXNpZ25hdGlvbjogbnVsbCwKICAgICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLAogICAgICAgICAgY29kZTogbnVsbCwKICAgICAgICAgIHByb2dyYW1tZUltbW9iaWxpZXI6IHsKICAgICAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgICAgIHZlcnNpb246IG51bGwKICAgICAgICAgIH0sCiAgICAgICAgICBjYXJhY3RlcmlzdGlxdWVQcm9kdWl0TG9nZW1lbnRMaXN0OiBbXSwKICAgICAgICAgIHZlcnNpb246IG51bGwsCiAgICAgICAgICBlc3RWYWxpZGU6IG51bGwsCiAgICAgICAgICBlc3RBY3RpdmU6IG51bGwsCiAgICAgICAgICBwcml4OiBudWxsCiAgICAgICAgfSwKICAgICAgICBpbWFnZXNMaXN0OiBbXSwKICAgICAgICB2aWRlb3NMaXN0OiBbXSwKICAgICAgICBpbWFnZUNvbnN1bHRhdGlvbjogewogICAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgICBkZXNpZ25hdGlvbjogbnVsbCwKICAgICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLAogICAgICAgICAgY29udGVudTogbnVsbCwKICAgICAgICAgIGZvcm1hdDogewogICAgICAgICAgICBpZDogbnVsbCwKICAgICAgICAgICAgdmVyc2lvbjogbnVsbAogICAgICAgICAgfSwKICAgICAgICAgIHR5cGVEb2N1bWVudDogewogICAgICAgICAgICBpZDogInJlZi5lbGVtZW50LnR5cGVWYWxldXIuaW1hZ2VDb25zdWx0YXRpb24iCiAgICAgICAgICB9LAogICAgICAgICAgdmVyc2lvbjogbnVsbAogICAgICAgIH0KICAgICAgfSwKICAgICAgZG9jdW1lbnRUcmFuc2ZlcnRNb2RlbDogewogICAgICAgIGRvY3VtZW50OiB7CiAgICAgICAgICBpZDogbnVsbCwKICAgICAgICAgIGRlc2lnbmF0aW9uOiBudWxsLAogICAgICAgICAgZGVzY3JpcHRpb246IG51bGwsCiAgICAgICAgICBjb250ZW51OiBudWxsLAogICAgICAgICAgcGF0aDogbnVsbCwKICAgICAgICAgIGZvcm1hdDogewogICAgICAgICAgICBpZDogbnVsbCwKICAgICAgICAgICAgdmVyc2lvbjogbnVsbAogICAgICAgICAgfSwKICAgICAgICAgIHR5cGVEb2N1bWVudDogewogICAgICAgICAgICBpZDogbnVsbAogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZW50aXR5TmFtZTogInJlZi5lbGVtZW50LnR5cGUucHJvZHVpdExvZ2VtZW50IiwKICAgICAgICBlbnRpdHlJZDogbnVsbAogICAgICB9CiAgICB9OwogIH0sCgogIHZhbGlkYXRpb25zOiB7CiAgICBwcm9kdWl0TG9nZW1lbnRNb2RlbDogewogICAgICBwcm9kdWl0TG9nZW1lbnQ6IHsKICAgICAgICBkZXNpZ25hdGlvbjogewogICAgICAgICAgcmVxdWlyZWQsCiAgICAgICAgICBtaW5MZW5ndGg6IG1pbkxlbmd0aCg0KSwKICAgICAgICAgIG1heExlbmd0aDogbWF4TGVuZ3RoKDUwKQogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246IHsKICAgICAgICAgIHJlcXVpcmVkLAogICAgICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoNiksCiAgICAgICAgICBtYXhMZW5ndGg6IG1heExlbmd0aCg2NTApCiAgICAgICAgfSwKICAgICAgICBwcm9ncmFtbWVJbW1vYmlsaWVyOiB7CiAgICAgICAgICBpZDogewogICAgICAgICAgICByZXF1aXJlZAogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY29kZTogewogICAgICAgICAgcmVxdWlyZWQsCiAgICAgICAgICBtaW5MZW5ndGg6IG1pbkxlbmd0aCg0KSwKICAgICAgICAgIG1heExlbmd0aDogbWF4TGVuZ3RoKDIwKQogICAgICAgIH0sCiAgICAgICAgcHJpeDogewogICAgICAgICAgcmVxdWlyZWQsCiAgICAgICAgICBudW1lcmljCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2FyYWN0ZXJpc3RpcXVlT2JsaWdhdG9pcmVMaXN0OiB7CiAgICAgIHJlcXVpcmVkLAogICAgICAkZWFjaDogewogICAgICAgIHZhbGV1clRleHRlOiB7CiAgICAgICAgICByZXF1aXJlZAogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy9FbnZvaWUgZGVzIGNhcmFjdMOpcmlzdGlxdWVzIHNldWxlbWVudCByZW5zZWlnbsOpcyB2ZXJzIGxlIG1pZGRsZXdhcmUKICAgIHNlbmRDYXJhY3RlcmlzdGlxdWVEZWZpbmllcygpIHsKICAgICAgdmFyIGNvbnRhaW5zID0gW107CiAgICAgIHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LmNhcmFjdGVyaXN0aXF1ZVByb2R1aXRMb2dlbWVudExpc3QuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICBpZiAoZWxlbWVudC52YWxldXJUZXh0ZSAhPT0gbnVsbCAmJiBlbGVtZW50LnZhbGV1clRleHRlICE9PSAiZmFsc2UiKSB7CiAgICAgICAgICBjb250YWlucy5wdXNoKGVsZW1lbnQpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LmNhcmFjdGVyaXN0aXF1ZVByb2R1aXRMb2dlbWVudExpc3QgPSBjb250YWluczsKICAgIH0sCgogICAgLy8gREVGSU5JUiBMRVMgQ0FSQUNURVJJU1RJUVVFUyBQUk9EVUlUIExPR0VNRU5UIE5PTiBERUZJTklTCiAgICB0cmFuc2ZlcnRDYXJhY3RlcmlzdGlxTm9uRGVmaW5pKCkgewogICAgICB0aGlzLmNhcmFjdGVyaXN0aXF1ZUxvZ2VtZW50Tm9uRGVmaW5pZXMgPSB0aGlzLmlzVmFsZXVyQ2FyYWN0ZXJpc3RpcXVlTm9uRGVmaW5pczsKCiAgICAgIGlmICh0aGlzLmNhcmFjdGVyaXN0aXF1ZUxvZ2VtZW50Tm9uRGVmaW5pZXMubGVuZ3RoID4gMCkgewogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jYXJhY3RlcmlzdGlxdWVMb2dlbWVudE5vbkRlZmluaWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBpZiAodGhpcy5jYXJhY3RlcmlzdGlxdWVMb2dlbWVudE5vbkRlZmluaWVzW2ldLnZhbGV1clRleHRlID09ICJ2YWxldXIubm9uRGVmaW5pZSIpIHsKICAgICAgICAgICAgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5wcm9kdWl0TG9nZW1lbnQuY2FyYWN0ZXJpc3RpcXVlUHJvZHVpdExvZ2VtZW50TGlzdC5wdXNoKHRoaXMuY2FyYWN0ZXJpc3RpcXVlTG9nZW1lbnROb25EZWZpbmllc1tpXSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIC8vIEFQUEVMIERVIFNFUlZJQ0UgV0VCIFBFUk1FVFRBTlQgTEEgQ1JFQVRJT04gRCdVTiBQUk9EVUlUIFBST0RVSVQgTE9HRU1FTlQKICAgIGFzeW5jIGFjdGlvbkNyZWF0aW9uUHJvZHVpdExvZ2VtZW50KHByb2R1aXRMb2dlbWVudCkgewogICAgICB0aGlzLm92ZXJsYXkgPSB0cnVlOwogICAgICBhd2FpdCBheGlvcy5wb3N0KEFQSV9DUkVFUl9QUk9EVUlUX0xPR0VNRU5ULCBwcm9kdWl0TG9nZW1lbnQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICB0aGlzLnN1Y2Nlc3NNc2cgPSAiQ3LDqWF0aW9uIGR1IHByb2R1aXQgbG9nZW1lbnQgZWZmZWN0dcOpIjsKICAgICAgICAgICQoIi5hbGVydC1zdWNjZXNzIikuZmFkZUluKCk7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgiLmFsZXJ0LXN1Y2Nlc3MiKS5mYWRlT3V0KCk7CiAgICAgICAgICB9LCA0MDAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5lcnJvck1zZyA9ICJFcnJldXIgZGFucyBsYSBjcsOpYXRpb24gZHUgcHJvZHVpdCBsb2dlbWVudCI7CiAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlSW4oKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlT3V0KCk7CiAgICAgICAgICB9LCA0MDAwKTsKCiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlcyAhPSBudWxsKSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5tZXNzYWdlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgIHRoaXMubWVzc2FnZUxpc3QucHVzaChyZXNwb25zZS5kYXRhLm1lc3NhZ2VzW2ldLnN0YXR1cyArICIsIiArIHJlc3BvbnNlLmRhdGEubWVzc2FnZXNbaV0ubWVzc2FnZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlOwogICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVJbigpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZU91dCgpOwogICAgICAgIH0sIDQwMDApOwogICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICB0aGlzLm92ZXJsYXkgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8vIEFDVElPTiBERSBNT0RJRklDQVRJT04gREUgUFJPRFVJVCBMT0dFTUVOVAogICAgYXN5bmMgYWN0aW9uTW9kaWZpZXJQcm9kdWl0TG9nZW1lbnQocHJvZHVpdExvZ2VtZW50KSB7CiAgICAgIHRoaXMub3ZlcmxheSA9IHRydWU7CiAgICAgIGF3YWl0IGF4aW9zLnB1dChBUElfTU9ESUZJRVJfUFJPRFVJVF9MT0dFTUVOVCwgcHJvZHVpdExvZ2VtZW50KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgdGhpcy5zdWNjZXNzTXNnID0gIlByb2R1aXQgTG9nZW1lbnQgbW9kaWZpw6kgYXZlYyBzdWNjw6hzIjsKICAgICAgICAgICQoIi5hbGVydC1zdWNjZXNzIikuZmFkZUluKCk7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgiLmFsZXJ0LXN1Y2Nlc3MiKS5mYWRlT3V0KCk7CiAgICAgICAgICB9LCA0MDAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5lcnJvck1zZyA9ICJFcnJldXIgZGFucyBsYSBtb2RpZmljYXRpb24gZHUgcHJvZHVpdCBsb2dlbWVudCI7CiAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlSW4oKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlT3V0KCk7CiAgICAgICAgICB9LCA0MDAwKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlOwogICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVJbigpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZU91dCgpOwogICAgICAgIH0sIDQwMDApOwogICAgICB9KS5maW5hbGx5KCgpID0+IHsKICAgICAgICB0aGlzLm92ZXJsYXkgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8vQUpPVVQgREUgTk9VVkVMTEVTIElNQUdFUyBMT1JTIERFIExBIE1PRElGSUNBVElPTiBEJ1VOIFBST0RVSVQgTE9HRU1FTlQgCiAgICBhc3luYyBham91dGVySW1hZ2VzTGlzdFByb2R1aXRMb2dlbWVudChpbWFnZXNMaXN0KSB7CiAgICAgIGlmIChpbWFnZXNMaXN0Lmxlbmd0aCAhPSAwKSB7CiAgICAgICAgaW1hZ2VzTGlzdC5mb3JFYWNoKGVsZW1lbnQgPT4gewogICAgICAgICAgaWYgKGVsZW1lbnQuaWQgPT0gbnVsbCkgewogICAgICAgICAgICBpZiAodGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5wcm9kdWl0TG9nZW1lbnQuaWQgIT0gbnVsbCkgewogICAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRUcmFuc2ZlcnRNb2RlbC5kb2N1bWVudC5kZXNpZ25hdGlvbiA9IGVsZW1lbnQuZGVzaWduYXRpb247CiAgICAgICAgICAgICAgdGhpcy5kb2N1bWVudFRyYW5zZmVydE1vZGVsLmRvY3VtZW50LmRlc2NyaXB0aW9uID0gZWxlbWVudC5kZXNjcmlwdGlvbjsKICAgICAgICAgICAgICB0aGlzLmRvY3VtZW50VHJhbnNmZXJ0TW9kZWwuZG9jdW1lbnQuY29udGVudSA9IGVsZW1lbnQuY29udGVudTsKICAgICAgICAgICAgICB0aGlzLmRvY3VtZW50VHJhbnNmZXJ0TW9kZWwuZG9jdW1lbnQuZm9ybWF0LmlkID0gZWxlbWVudC5mb3JtYXQuaWQ7CiAgICAgICAgICAgICAgdGhpcy5kb2N1bWVudFRyYW5zZmVydE1vZGVsLmRvY3VtZW50LnR5cGVEb2N1bWVudC5pZCA9IGVsZW1lbnQudHlwZURvY3VtZW50LmlkOwogICAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRUcmFuc2ZlcnRNb2RlbC5lbnRpdHlJZCA9IHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LmlkOwogICAgICAgICAgICAgIHRoaXMuYWpvdXRlckRvY3VtZW50TWVkaWEodGhpcy5kb2N1bWVudFRyYW5zZmVydE1vZGVsKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAoKICAgIC8vIEVOVk9JIERVIEZPUk1VTEFJUkUgREUgQ1JFQVRJT04gT1UgTU9ESUZJQ0FUSU9OIERFIFBST0RVSVQgTE9HRU1FTlQgVkVSUyBMRSBNSURETEVXQVJFCiAgICBhc3luYyBjcmVlck1vZGlmaWVyUHJvZHVpdExvZ2VtZW50KCkgewogICAgICB0aGlzLnRyYW5zZmVydENhcmFjdGVyaXN0aXFOb25EZWZpbmkoKTsKICAgICAgdGhpcy5zZW5kQ2FyYWN0ZXJpc3RpcXVlRGVmaW5pZXMoKTsKCiAgICAgIGlmICh0aGlzLmlzQ3JlYXRpb24pIHsKICAgICAgICB0aGlzLmFjdGlvbkNyZWF0aW9uUHJvZHVpdExvZ2VtZW50KHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWN0aW9uTW9kaWZpZXJQcm9kdWl0TG9nZW1lbnQodGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbCk7CiAgICAgICAgdGhpcy5tb2RpZmllckltYWdlQ29uc3VsdGF0aW9uKCk7CiAgICAgICAgdGhpcy5tb2RpZmljYXRpb25JbWFnZXNMaXN0KCk7CiAgICAgICAgdGhpcy5tb2RpZmljYXRpb25WaWRlb3NMaXN0KCk7CiAgICAgIH0KICAgIH0sCgogICAgLy8gQUpPVVQgREUgRE9DVU1FTlQgKFZJREVPUyBFVCBJTUFHRVMpCiAgICBhc3luYyBham91dGVyRG9jdW1lbnRNZWRpYShkb2N1bWVudE1lZGlhKSB7CiAgICAgIGF3YWl0IGF4aW9zLnBvc3QoQVBJX0FKT1VURVJfRE9DVU1FTlQsIGRvY3VtZW50TWVkaWEpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmRhdGEgPT0gdHJ1ZSkgewogICAgICAgICAgdGhpcy5zdWNjZXNzTXNnID0gIk5PVVZFTExFIElNQUdFIENSRUUgQVZFQyBTVUNDRVMiOwogICAgICAgICAgJCgiLmFsZXJ0LXN1Y2Nlc3MiKS5mYWRlSW4oKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCIuYWxlcnQtc3VjY2VzcyIpLmZhZGVPdXQoKTsKICAgICAgICAgIH0sIDQwMDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmVycm9yTXNnID0gIklNUE9TU0lCTEUgRCdBSk9VVEVSIFVORSBJTUFHRSI7CiAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlSW4oKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlT3V0KCk7CiAgICAgICAgICB9LCA0MDAwKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvLyBNT0RJRklDQVRJT04gREVTIElNQUdFUyBMSVNUIERBTlMgCgogICAgLyptb2RpZmljYXRpb25JbWFnZXNMaXN0KCl7CiAgICBpZih0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlc0xpc3QubGVuZ3RoID4gMCl7CiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwuaW1hZ2VzTGlzdC5sZW5ndGg7IGkrKykgewogICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLnByZXZpZXdTdGF0ZUltYWdlc0xpc3QubGVuZ3RoOyBqKyspIHsKICAgICBpZiAodGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZXNMaXN0W2ldLmlkID09IHRoaXMucHJldmlld1N0YXRlSW1hZ2VzTGlzdFtqXS5pZCkgewogICAgICAgaWYgKCh0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlc0xpc3RbaV0uZGVzaWduYXRpb24gIT0gdGhpcy5wcmV2aWV3U3RhdGVJbWFnZXNMaXN0W2pdLmRlc2lnbmF0aW9uIAogICAgICAgICAgfHwgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZXNMaXN0W2ldLmRlc2NyaXB0aW9uICE9IHRoaXMucHJldmlld1N0YXRlSW1hZ2VzTGlzdFtqXS5kZXNjcmlwdGlvbikKICAgICAgICAgIAogICAgICAgICAgJiYgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZXNMaXN0W2ldLmNvbnRlbnUgIT0gdGhpcy5wcmV2aWV3U3RhdGVJbWFnZXNMaXN0W2pdLmNvbnRlbnUpIHsKICAgICAgICAgICB0aGlzLiRpc0xvYWRpbmcodHJ1ZSkKICAgICAgICAKICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgLnB1dChBUElfTU9ESUZJRVJfTUVUQURBVEFTX0RPQ1VNRU5ULCB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlc0xpc3RbaV0pCiAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlc0xpc3RbaV0udmVyc2lvbiA9IHJlc3BvbnNlLmRhdGEuZGF0YS52ZXJzaW9uCiAgICAgICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgICAgIC5wdXQoQVBJX01PRElGSUVSX0NPTlRFTlVfRE9DVU1FTlQsIHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwuaW1hZ2VzTGlzdFtpXSkKICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgIHRoaXMuc3VjY2Vzc01zZyA9ICJNb2RpZmljYXRpb24gZHUgY29udGVudSBldCBkZXMgbcOpdGFkYXRhcyDDqWZmZWN0dcOpZSIKICAgICAgICAgICAgICAgICAgICQoIi5teUFsZXJ0LXRvcCIpLmZhZGVJbigpOwogICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAkKCIubXlBbGVydC10b3AiKS5mYWRlT3V0KCk7IAogICAgICAgICAgICAgICAgICAgfSwgNDAwMCkKICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlCiAgICAgICAgICAgICAgICAgJCgiLm15QWxlcnQtYm90dG9tIikuZmFkZUluKCk7CiAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgJCgiLm15QWxlcnQtYm90dG9tIikuZmFkZU91dCgpOyAKICAgICAgICAgICAgICAgICB9LCA0MDAwKQogICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgICAgfSkKICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlCiAgICAgICAgICAgICAkKCIubXlBbGVydC1ib3R0b20iKS5mYWRlSW4oKTsKICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgJCgiLm15QWxlcnQtYm90dG9tIikuZmFkZU91dCgpOyAKICAgICAgICAgICAgIH0sIDQwMDApCiAgICAgICAgICAgfSkKICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICAgICB0aGlzLiRpc0xvYWRpbmcoZmFsc2UpIC8vIGhpZGUgdGhlIGxvYWRpbmcgc2NyZWVuCiAgICAgICAgICAgICAgICAKICAgICAgICAgIH0pCiAgICAgICB9CiAgICAgICBlbHNlIGlmICh0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlc0xpc3RbaV0uZGVzaWduYXRpb24gIT0gdGhpcy5wcmV2aWV3U3RhdGVJbWFnZXNMaXN0W2pdLmRlc2lnbmF0aW9uCiAgICAgICAgICAgICAgICB8fCB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlc0xpc3RbaV0uZGVzY3JpcHRpb24gIT0gdGhpcy5wcmV2aWV3U3RhdGVJbWFnZXNMaXN0W2pdLmRlc2NyaXB0aW9uKXsKICAgICAgICAgICB0aGlzLiRpc0xvYWRpbmcodHJ1ZSkKICAgICAgICAgICBheGlvcwogICAgICAgICAgIC5wdXQoQVBJX01PRElGSUVSX01FVEFEQVRBU19ET0NVTUVOVCwgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZXNMaXN0W2ldKQogICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgdGhpcy5lcnJvck1zZyA9ICJNb2RpZmljYXRpb24gZGVzIG1ldGFkYXRhcyBlZmZlY3R1w6llIgogICAgICAgICAgICAgICAkKCIubXlBbGVydC10b3AiKS5mYWRlSW4oKTsKICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICQoIi5teUFsZXJ0LXRvcCIpLmZhZGVPdXQoKTsgCiAgICAgICAgICAgICAgIH0sIDQwMDApCiAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICAgICB9KQogICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgdGhpcy5lcnJvck1zZyA9IGUKICAgICAgICAgICAgICQoIi5teUFsZXJ0LWJvdHRvbSIpLmZhZGVJbigpOwogICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAkKCIubXlBbGVydC1ib3R0b20iKS5mYWRlT3V0KCk7IAogICAgICAgICAgICAgfSwgNDAwMCkKICAgICAgICAgICB9KQogICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsKICAgICAgICAgICAgIHRoaXMuJGlzTG9hZGluZyhmYWxzZSkgLy8gaGlkZSB0aGUgbG9hZGluZyBzY3JlZW4KICAgICAgICAgICAgICAgIAogICAgICAgICAgfSkKICAgICAgICAKICAgICAgfQogICAgICAgZWxzZSBpZiAodGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZXNMaXN0W2ldLmNvbnRlbnUgIT0gdGhpcy5wcmV2aWV3U3RhdGVJbWFnZXNMaXN0W2pdLmNvbnRlbnUpewogICAgICAgICAgIHRoaXMuJGlzTG9hZGluZyh0cnVlKQogICAgICAgICAgIGF4aW9zCiAgICAgICAgICAgLnB1dChBUElfTU9ESUZJRVJfQ09OVEVOVV9ET0NVTUVOVCwgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZXNMaXN0W2ldKQogICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgdGhpcy5zdWNjZXNzTXNnID0gIklNQUdFIE1PRElGScOJRSBBVkVDIFNVQ0PDiFMiCiAgICAgICAgICAgICAgICQoIi5teUFsZXJ0LXRvcCIpLmZhZGVJbigpOwogICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgJCgiLm15QWxlcnQtdG9wIikuZmFkZU91dCgpOyAKICAgICAgICAgICAgICAgfSwgNDAwMCkKICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgICAgIH0pCiAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICAgICB0aGlzLmVycm9yTXNnID0gZQogICAgICAgICAgICAgJCgiLm15QWxlcnQtYm90dG9tIikuZmFkZUluKCk7CiAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICQoIi5teUFsZXJ0LWJvdHRvbSIpLmZhZGVPdXQoKTsgCiAgICAgICAgICAgICB9LCA0MDAwKQogICAgICAgICAgIH0pCiAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgICAgdGhpcy4kaXNMb2FkaW5nKGZhbHNlKSAvLyBoaWRlIHRoZSBsb2FkaW5nIHNjcmVlbgogICAgICAgICAgICAgICAgCiAgICAgICAgICB9KQogICAgICAgfQogICAgIH0KICAgIAogICAgfQogICAgfQogICAgdGhpcy5ham91dGVyTmV3SW1hZ2VzTGlzdCgpCiAgICB9CiAgICB9LCovCiAgICAvLyBTRVJWSUNFIFdFQiBQT1VSIEwnQUpPVVQgRCdVTiBET0NVTUVOVCAoSU1BR0UgREUgQ09OU1VMVEFUSU9OKQogICAgYXN5bmMgYWpvdXRlckRvY3VtZW50SW1hZ2VDb25zdWx0YXRpb24oZG9jdW1lbnRJbWFnZUNvbnN1bHRhdGlvbikgewogICAgICBhd2FpdCBheGlvcy5wb3N0KEFQSV9BSk9VVEVSX0RPQ1VNRU5ULCBkb2N1bWVudEltYWdlQ29uc3VsdGF0aW9uKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5kYXRhID09IHRydWUpIHsKICAgICAgICAgIHRoaXMuc3VjY2Vzc01zZyA9ICJOb3V2ZWxsZSBJbWFnZSBkZSBjb25zdWx0YXRpb24gYWpvdXTDqWUiOwogICAgICAgICAgJCgiLmFsZXJ0LXN1Y2Nlc3MiKS5mYWRlSW4oKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCIuYWxlcnQtc3VjY2VzcyIpLmZhZGVPdXQoKTsKICAgICAgICAgIH0sIDQwMDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmVycm9yTXNnID0gIkltcG9zc2libGUgZCdham91dGVyIHVuZSBpbWFnZSI7CiAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlSW4oKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlT3V0KCk7CiAgICAgICAgICB9LCA0MDAwKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlOwogICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVJbigpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZU91dCgpOwogICAgICAgIH0sIDQwMDApOwogICAgICB9KTsKICAgIH0sCgogICAgLy9NT0RJRklDQVRJT04gRFUgQ09OVEVOVSBEJ1VORSBJTUFHRSBERSBDT05TVUxUQVRJT04gRU4gTU9ESUZJQ0FUSU9OIAogICAgYXN5bmMgbW9kaWZpZXJDb250ZW51SW1hZ2VDb25zdWx0YXRpb24oaW1hZ2VDb25zdWx0YXRpb24pIHsKICAgICAgYXdhaXQgYXhpb3MucHV0KEFQSV9NT0RJRklFUl9DT05URU5VX0lNQUdFX0NPTlNVTFRBVElPTiwgaW1hZ2VDb25zdWx0YXRpb24pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICB0aGlzLnN1Y2Nlc3NNc2cgPSAiTW9kaWZpY2F0aW9uIGR1IGNvbnRlbnUiOwogICAgICAgICAgJCgiLmFsZXJ0LXN1Y2NlcyIpLmZhZGVJbigpOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICQoIi5hbGVydC1zdWNjZXMiKS5mYWRlT3V0KCk7CiAgICAgICAgICB9LCA0MDAwKTsKICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDQpIHsKICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSAiUGFzIGRlIGNvbnRlbnUiOwogICAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZUluKCk7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZU91dCgpOwogICAgICAgICAgfSwgNDAwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSAiTW9kaWZpY2F0aW9uIEltcG9zc2libGUiOwogICAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZUluKCk7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZU91dCgpOwogICAgICAgICAgfSwgNDAwMCk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICB0aGlzLmVycm9yTXNnID0gZTsKICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlSW4oKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVPdXQoKTsKICAgICAgICB9LCA0MDAwKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8vTU9ESUZJQ0FUSU9OIERFUyBNRVRBREFUQVMgRCdVTkUgSU1BR0UgREUgQ09OU1VMVEFUSU9OIEVOIE1PRElGSUNBVElPTiAKICAgIGFzeW5jIG1vZGlmaWVyTWV0YWRhdGFzSW1hZ2VDb25zdWx0YXRpb24oaW1hZ2VDb25zdWx0YXRpb24pIHsKICAgICAgYXdhaXQgYXhpb3MucHV0KEFQSV9NT0RJRklFUl9NRVRBREFUQVNfSU1BR0VfQ09OU1VMVEFUSU9OLCBpbWFnZUNvbnN1bHRhdGlvbikudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgIHRoaXMuc3VjY2Vzc01zZyA9ICJNb2RpZmljYXRpb24gw6lmZmVjdHXDqWUiOwogICAgICAgICAgJCgiLmFsZXJ0LXN1Y2NlcyIpLmZhZGVJbigpOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICQoIi5hbGVydC1zdWNjZXMiKS5mYWRlT3V0KCk7CiAgICAgICAgICB9LCA0MDAwKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5lcnJvck1zZyA9ICJNb2RpZmljYXRpb24gSW1wb3NzaWJsZSI7CiAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlSW4oKTsKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlT3V0KCk7CiAgICAgICAgICB9LCA0MDAwKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlOwogICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVJbigpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZU91dCgpOwogICAgICAgIH0sIDQwMDApOwogICAgICB9KTsKICAgIH0sCgogICAgLy9NT0RJRklFUiBMRVMgTUVUQURBVEFTIEVUIC8gT1UgTEUgQ09OVEVOVSBEJ1VORSBJTUFHRSBERSBDT05TVUxUQVRJT04KICAgIG1vZGlmaWVySW1hZ2VDb25zdWx0YXRpb24oKSB7CiAgICAgIGlmICh0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlQ29uc3VsdGF0aW9uICE9IG51bGwpIHsKICAgICAgICB0aGlzLmFqb3V0ZXJOb3V2ZWxsZUltYWdlQ29uc3VsdGF0aW9uKCk7CgogICAgICAgIGlmICh0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlQ29uc3VsdGF0aW9uLmlkICE9IG51bGwgJiYgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZUNvbnN1bHRhdGlvbi52ZXJzaW9uICE9IG51bGwpIHsKICAgICAgICAgIHZhciB2YXJpYWJsZSA9IHRoaXMucmV0dXJuRXRhdEltYWdlQ29uc3VsdGF0aW9uKCk7CgogICAgICAgICAgaWYgKHZhcmlhYmxlLmNvbnRlbnUgIT0gdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZUNvbnN1bHRhdGlvbi5jb250ZW51KSB7CiAgICAgICAgICAgIHRoaXMubW9kaWZpZXJDb250ZW51SW1hZ2VDb25zdWx0YXRpb24odGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZUNvbnN1bHRhdGlvbik7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHZhcmlhYmxlLmRlc2lnbmF0aW9uICE9IHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwuaW1hZ2VDb25zdWx0YXRpb24uZGVzaWduYXRpb24gfHwgdmFyaWFibGUuZGVzY3JpcHRpb24gIT0gdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZUNvbnN1bHRhdGlvbi5kZXNjcmlwdGlvbikgewogICAgICAgICAgICB0aGlzLm1vZGlmaWVyTWV0YWRhdGFzSW1hZ2VDb25zdWx0YXRpb24odGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZUNvbnN1bHRhdGlvbik7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCh2YXJpYWJsZS5kZXNpZ25hdGlvbiAhPSB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlQ29uc3VsdGF0aW9uLmRlc2lnbmF0aW9uIHx8IHZhcmlhYmxlLmRlc2NyaXB0aW9uICE9IHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwuaW1hZ2VDb25zdWx0YXRpb24uZGVzY3JpcHRpb24pICYmIHZhcmlhYmxlLmNvbnRlbnUgIT0gdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5jb250ZW51KSB7CiAgICAgICAgICAgIC8vQFRPRE8gOiAvL01PRElGSUNBVElPTiBERSBMQSBWRVJTSU9OIEFQUkVTIExBIE1PRElGSUNBVElPTiBERVMgTUVUQURBVEFTKFZPSVIgTU1DX1dFQikKICAgICAgICAgICAgdGhpcy5tb2RpZmllck1ldGFkYXRhc0ltYWdlQ29uc3VsdGF0aW9uKHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwuaW1hZ2VDb25zdWx0YXRpb24pOwogICAgICAgICAgICB0aGlzLm1vZGlmaWVyQ29udGVudUltYWdlQ29uc3VsdGF0aW9uKHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwuaW1hZ2VDb25zdWx0YXRpb24pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICAvLyBBSk9VVEVSIFVORSBOT1VWRUxMRSBERSBDT05TVUxBVElPTiBFTiBDQVMgREUgTU9ESUZJQ0FUSU9OIEQnVU4gUFJPRFVJVCBMT0dFTUVOVAogICAgYWpvdXRlck5vdXZlbGxlSW1hZ2VDb25zdWx0YXRpb24oKSB7CiAgICAgIGlmICh0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlQ29uc3VsdGF0aW9uLmlkID09IG51bGwpIHsKICAgICAgICBpZiAodGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5wcm9kdWl0TG9nZW1lbnQuaWQgIT0gbnVsbCAmJiB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC52ZXJzaW9uICE9IG51bGwpIHsKICAgICAgICAgIHRoaXMuZG9jdW1lbnRUcmFuc2ZlcnRNb2RlbC5kb2N1bWVudC5kZXNpZ25hdGlvbiA9IHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwuaW1hZ2VDb25zdWx0YXRpb24uZGVzaWduYXRpb247CiAgICAgICAgICB0aGlzLmRvY3VtZW50VHJhbnNmZXJ0TW9kZWwuZG9jdW1lbnQuZGVzY3JpcHRpb24gPSB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlQ29uc3VsdGF0aW9uLmRlc2NyaXB0aW9uOwogICAgICAgICAgdGhpcy5kb2N1bWVudFRyYW5zZmVydE1vZGVsLmRvY3VtZW50LmNvbnRlbnUgPSB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlQ29uc3VsdGF0aW9uLmNvbnRlbnU7CiAgICAgICAgICB0aGlzLmRvY3VtZW50VHJhbnNmZXJ0TW9kZWwuZG9jdW1lbnQuZm9ybWF0LmlkID0gdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZUNvbnN1bHRhdGlvbi5mb3JtYXQuaWQ7CiAgICAgICAgICB0aGlzLmRvY3VtZW50VHJhbnNmZXJ0TW9kZWwuZG9jdW1lbnQudHlwZURvY3VtZW50LmlkID0gdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZUNvbnN1bHRhdGlvbi50eXBlRG9jdW1lbnQuaWQ7CiAgICAgICAgICB0aGlzLmRvY3VtZW50VHJhbnNmZXJ0TW9kZWwuZW50aXR5SWQgPSB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5pZDsKCiAgICAgICAgICBpZiAodGhpcy5kb2N1bWVudFRyYW5zZmVydE1vZGVsLmRvY3VtZW50LmNvbnRlbnUgIT0gbnVsbCkgewogICAgICAgICAgICB0aGlzLmFqb3V0ZXJEb2N1bWVudEltYWdlQ29uc3VsdGF0aW9uKHRoaXMuZG9jdW1lbnRUcmFuc2ZlcnRNb2RlbCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIC8vIFNPVU1JU1NJT04gRFUgRk9STVVMQUlSRQogICAgc3VibWl0Rm9ybSgpIHsKICAgICAgdGhpcy4kdi4kdG91Y2goKTsKCiAgICAgIGlmICh0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLiRpbnZhbGlkKSB7CiAgICAgICAgdGhpcy5lcnJvck1zZyA9ICJFbnJlZ2lzdHJlbWVudCBFY2hvdcOpIjsKICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlSW4oKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVPdXQoKTsKICAgICAgICB9LCA0MDAwKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLiR2LmNhcmFjdGVyaXN0aXF1ZU9ibGlnYXRvaXJlTGlzdC4kaW52YWxpZCkgewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSAiVG91dGVzIGxlcyBjYXJhY3TDqXJpc3RpcXVlcyBvYmxpZ2F0b2lyZXMgZG9pdmVudCDDqnRyZSByZW5zZWlnbsOpZXMiOwogICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVJbigpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZU91dCgpOwogICAgICAgIH0sIDQwMDApOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY3JlZXJNb2RpZmllclByb2R1aXRMb2dlbWVudCgpOwogICAgICB9CiAgICB9LAoKICAgIC8vIE1ldGhvZGVzIHBlcm1ldHRhbnQgZGUgY2hvaXNpciB1bmUgbGlzdGVzIGRlIHZpZGVvcwogICAgcHJldmlld011bHRpVmlkZW86IGZ1bmN0aW9uIChldmVudCkgewogICAgICB2YXIgbXlGaWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ215VmlkZW9GaWxlJyk7CiAgICAgIHZhciBleHRlbnNpb24gPSBteUZpbGUudmFsdWUuc3BsaXQoJy4nKVsxXTsKICAgICAgdmFyIGlucHV0ID0gZXZlbnQudGFyZ2V0OwogICAgICB2YXIgY291bnQgPSBpbnB1dC5maWxlcy5sZW5ndGg7CiAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgIHZhciB2aWRlbyA9IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBkZXNpZ25hdGlvbjogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCwKICAgICAgICBjb250ZW51OiBudWxsLAogICAgICAgIGZvcm1hdDogewogICAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgICB2ZXJzaW9uOiBudWxsCiAgICAgICAgfSwKICAgICAgICB0eXBlRG9jdW1lbnQ6IHsKICAgICAgICAgIGlkOiAicmVmLmVsZW1lbnQudHlwZVZhbGV1ci52aWRlbyIKICAgICAgICB9LAogICAgICAgIHZlcnNpb246IG51bGwKICAgICAgfTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5mb3JtYXRzTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChleHRlbnNpb24gPT0gdGhpcy5mb3JtYXRzTGlzdFtpXS5kZXNpZ25hdGlvbikgewogICAgICAgICAgdmlkZW8uZm9ybWF0LmlkID0gdGhpcy5mb3JtYXRzTGlzdFtpXS5pZDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHZpZGVvLmRlc2lnbmF0aW9uID0gdGhpcy5nZXRGaWxlKG15RmlsZS52YWx1ZSk7CgogICAgICBpZiAoaW5wdXQuZmlsZXMpIHsKICAgICAgICB3aGlsZSAoY291bnQtLSkgewogICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGUgPT4gewogICAgICAgICAgICB2aWRlby5jb250ZW51ID0gZS50YXJnZXQucmVzdWx0OwogICAgICAgICAgICB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLnZpZGVvc0xpc3QucHVzaCh2aWRlbyk7CiAgICAgICAgICAgIHRoaXMucHJldmlld1ZpZGVvc0xpc3QucHVzaChlLnRhcmdldC5yZXN1bHQpOwogICAgICAgICAgfTsKCiAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dC5maWxlc1tpbmRleF0pOwogICAgICAgICAgaW5kZXgrKzsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvL0ZPTkNUSU9OIFBFUk1FVFRBTlQgTEEgU0VMRUNUSU9OIERFIFBMVVNJRVVSUyBJTUFHRVMgCiAgICBwcmV2aWV3TXVsdGlJbWFnZTogZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIHZhciBteUZpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlGaWxlJyk7CiAgICAgIHZhciBleHRlbnNpb24gPSBteUZpbGUudmFsdWUuc3BsaXQoJy4nKVsxXTsKICAgICAgdmFyIGlucHV0ID0gZXZlbnQudGFyZ2V0OwogICAgICB2YXIgY291bnQgPSBpbnB1dC5maWxlcy5sZW5ndGg7CiAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgIHZhciBpbWFnZSA9IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBkZXNpZ25hdGlvbjogbnVsbCwKICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCwKICAgICAgICBjb250ZW51OiBudWxsLAogICAgICAgIGZvcm1hdDogewogICAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgICB2ZXJzaW9uOiBudWxsCiAgICAgICAgfSwKICAgICAgICB0eXBlRG9jdW1lbnQ6IHsKICAgICAgICAgIGlkOiAicmVmLmVsZW1lbnQudHlwZVZhbGV1ci5pbWFnZSIKICAgICAgICB9LAogICAgICAgIHZlcnNpb246IG51bGwKICAgICAgfTsKICAgICAgdGhpcy5mb3JtYXRzTGlzdC5mb3JFYWNoKGVsZW1lbnQgPT4gewogICAgICAgIGlmIChleHRlbnNpb24gPT0gZWxlbWVudC5kZXNpZ25hdGlvbikgewogICAgICAgICAgaW1hZ2UuZm9ybWF0LmlkID0gZWxlbWVudC5pZDsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpbWFnZS5kZXNpZ25hdGlvbiA9IHRoaXMuZ2V0RmlsZShteUZpbGUudmFsdWUpOwoKICAgICAgaWYgKGlucHV0LmZpbGVzKSB7CiAgICAgICAgd2hpbGUgKGNvdW50LS0pIHsKICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBlID0+IHsKICAgICAgICAgICAgaW1hZ2UuY29udGVudSA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgICAgICAgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZXNMaXN0LnB1c2goaW1hZ2UpOwogICAgICAgICAgfTsKCiAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dC5maWxlc1tpbmRleF0pOwogICAgICAgICAgaW5kZXgrKzsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgLy9TVVBQUklNRVIgSU1BR0VTIExJU1QKICAgIGRlbGV0ZUltYWdlTGlzdChwb3NpdGlvbikgewogICAgICB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlc0xpc3Quc3BsaWNlKHBvc2l0aW9uLCAxKTsKICAgIH0sCgogICAgZGVsZXRlVmlkZW9MaXN0KHBvc2l0aW9uKSB7CiAgICAgIHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwudmlkZW9zTGlzdC5zcGxpY2UocG9zaXRpb24sIDEpOwogICAgfSwKCiAgICAvL1NVUFBSSU1FUiBVTkUgSU1BR0UgREUgQ09OU1VMVEFUSU9OCiAgICBkZWxldGVJbWFnZUNvbnN1bHRhdGlvbihpbWFnZUNvbnN1bHRhdGlvbikgewogICAgICBpZiAodGhpcy5pc0NyZWF0aW9uKSB7CiAgICAgICAgaW1hZ2VDb25zdWx0YXRpb24uY29udGVudSA9IG51bGw7CiAgICAgICAgaW1hZ2VDb25zdWx0YXRpb24uZGVzaWduYXRpb24gPSBudWxsOwogICAgICAgIGltYWdlQ29uc3VsdGF0aW9uLmRlc2NyaXB0aW9uID0gbnVsbDsKICAgICAgfQogICAgICAvKnRoaXMuJHN3YWwuZmlyZSh7IHRpdGxlOiAnQ29uZmlybWVyID8nLCB0ZXh0OiAiQ2V0dGUgYWN0aW9uIGVzdCBpcnLDqXZlcnNpYmxlIiwgaWNvbjogJ3dhcm5pbmcnLAogICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsIGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLCAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJywgY2FuY2VsQnV0dG9uVGV4dDogJ0FubnVsZXInLCBjb25maXJtQnV0dG9uVGV4dDogJ091aSAsc3VwcHJpbWVyIScKICAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkgewogICAgICAgICAgICAgIGF4aW9zLmRlbGV0ZShBUElfU1VQUFJJTUVSX0RPQ1VNRU5UK3RoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwuaW1hZ2VDb25zdWx0YXRpb24uaWQpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7ICAgCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzd2FsLmZpcmUoJ1N1cHByaW3DqSEnLCdJbWFnZSBkZSBjb25zdWx0YXRpb24gc3VwcHJpbcOpZSBhdmVjIHN1Y2PDqHMuJywnc3VjY2VzcycpCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlQ29uc3VsdGF0aW9uLmNvbnRlbnUgPSBudWxsCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlQ29uc3VsdGF0aW9uLmRlc2lnbmF0aW9uID0gbnVsbAogICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZUNvbnN1bHRhdGlvbi5kZXNpZ25hdGlvbiA9IG51bGwKICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgfSkuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKHsgaWNvbjogJ2Vycm9yJywgIHRpdGxlOiAnRXJyZXVyLi4uJyx0ZXh0OiBlIH0pCiAgICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgfSkuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7IGljb246ICdlcnJvcicsIHRpdGxlOiAnRXJyZXVyLi4uJywgIHRleHQ6IGUgfSkKICAgICAgfSkqLwoKICAgIH0sCgogICAgLy8gZm9uY3Rpb24gcGVybWV0dGFudCBkZSByZWN1cGVyZXIgbGUgZm9ybWF0IGR1IGRvY3VtZW50IChpbWFnZXMgb3UgdmlkZW9zKQogICAgZ2V0RmlsZShmaWxlUGF0aCkgewogICAgICByZXR1cm4gZmlsZVBhdGguc3Vic3RyKGZpbGVQYXRoLmxhc3RJbmRleE9mKCdcXCcpICsgMSkuc3BsaXQoJy4nKVswXTsKICAgIH0sCgogICAgLy9TRUxFQ1RJT04gREVTIERPQ1VNRU5UUyAoSU1BR0UgREUgQ09OU1VMQVRJT04gLCBJTUFHRSBMSVNUKQogICAgcGlja0ZpbGUoKSB7CiAgICAgIGxldCBpbnB1dCA9IHRoaXMuJHJlZnMuZmlsZUlucHV0OwogICAgICBsZXQgZmlsZSA9IGlucHV0LmZpbGVzOwogICAgICB2YXIgaW5wdXRGaWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0RmlsZScpOwogICAgICB2YXIgZXh0ZW5zaW9uID0gaW5wdXRGaWxlLnZhbHVlLnNwbGl0KCcuJylbMV07CiAgICAgIHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwuaW1hZ2VDb25zdWx0YXRpb24uZGVzaWduYXRpb24gPSB0aGlzLmdldEZpbGUoaW5wdXRGaWxlLnZhbHVlKTsKCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5mb3JtYXRzTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChleHRlbnNpb24gPT0gdGhpcy5mb3JtYXRzTGlzdFtpXS5kZXNpZ25hdGlvbikgewogICAgICAgICAgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZUNvbnN1bHRhdGlvbi5mb3JtYXQuaWQgPSB0aGlzLmZvcm1hdHNMaXN0W2ldLmlkOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGZpbGUgJiYgZmlsZVswXSkgewogICAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgICAgICByZWFkZXIub25sb2FkID0gZSA9PiB7CiAgICAgICAgICB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlQ29uc3VsdGF0aW9uLmNvbnRlbnUgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgfTsKCiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZVswXSk7CiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCBmaWxlWzBdKTsKICAgICAgfQogICAgfSwKCiAgICBzZWxlY3RJbWFnZSgpIHsKICAgICAgdGhpcy4kcmVmcy5maWxlSW5wdXQuY2xpY2soKTsKICAgIH0sCgogICAgZ2V0SW50ZWdlckxpc3QoaXRlbSkgewogICAgICB2YXIgbWluID0gaXRlbS5wcm9wcmlldGVQcm9kdWl0TG9nZW1lbnQubWluVmFsdWVJbnRlZ2VyRmlsdHJlOwogICAgICB2YXIgbWF4ID0gaXRlbS5wcm9wcmlldGVQcm9kdWl0TG9nZW1lbnQubWF4VmFsdWVJbnRlZ2VyRmlsdHJlOwogICAgICB2YXIgY29udGFpbmVyTGlzdCA9IFtdOwoKICAgICAgZm9yICh2YXIgaSA9IG1pbjsgaSA8PSBtYXg7IGkrKykgewogICAgICAgIHZhciB2YWxldXIgPSB7CiAgICAgICAgICBpbmRleDogbnVsbAogICAgICAgIH07CiAgICAgICAgdmFsZXVyLmluZGV4ID0gaS50b1N0cmluZygpOwogICAgICAgIGNvbnRhaW5lckxpc3QucHVzaCh2YWxldXIpOwogICAgICB9CgogICAgICByZXR1cm4gY29udGFpbmVyTGlzdDsKICAgIH0sCgogICAgLy9SRUNVUEVSRVIgTEEgTElTVEUgREVTIFJFRkVSRU5DRVMgVFlQRSBMT0dFTUVOVAogICAgYXN5bmMgZ2V0UmVmZXJlbmNlVHlwZUxvZ2VtZW50KCkgewogICAgICBhd2FpdCBheGlvcy5nZXQoQVBJX1JFRkVSRU5DRVNfUEFSX0ZBTUlMTEUoImZhbWlsbGVUeXBlTG9nZW1lbnQiKSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5yZWZlcmVuY2VMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICB0aGlzLmVycm9yTXNnID0gZTsKICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlSW4oKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVPdXQoKTsKICAgICAgICB9LCA0MDAwKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8vIFJFQ1VQRVJFUiBMQSBMSVNURSBERVMgRk9STUFUUyBERSBET0NVTUVOVFMgREVQVUlTIExFIE1JRERMRVdBUkUKICAgIGFzeW5jIGdldEZvcm1hdHNMaXN0KCkgewogICAgICBhd2FpdCBheGlvcy5nZXQoQVBJX09CVEVOSVJfRk9STUFUU19ET0NVTUVOVFMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuZm9ybWF0c0xpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlOwogICAgICAgICQoImFsZXJ0LWVycm9yIikuZmFkZUluKCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAkKCJhbGVydC1lcnJvciIpLmZhZGVPdXQoKTsKICAgICAgICB9LCA0MDAwKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8vIERFUFVJUyBMRSBNSURETEVXQVJFIFJFQ1VQRVJFUiBMQSBMSVNURSBERVMgVklMTEVTCiAgICBhc3luYyBnZXRWaWxsZXNMaXN0KCkgewogICAgICBhd2FpdCBheGlvcy5nZXQoQVBJX09CVEVOSVJfTElTVEVfVklMTEVTKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnZpbGxlc0xpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlOwogICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVJbigpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZU91dCgpOwogICAgICAgIH0sIDQwMDApOwogICAgICB9KTsKICAgIH0sCgogICAgLy8gUkVDVVBFUkVSIERFUFVJUyBMRSBNSURETEVXQVJFIExBIExJU1RFIERFUyBQUk9QUknDiFTDiVMgUFJPRFVJVFMgTE9HRU1FTlQgUE9VUiBMQSBDUkVBVElPTiBERVMgQ1JBUkNURVJJU1RJUVVFUyBEVSBQUk9EVUlUIExPR0VNRU5UCiAgICBhc3luYyBzZXJ2aWNlV2ViR2V0UHJvcHJpZXRlUHJvZHVpdExvZ2VtZW50TGlzdCgpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zdCByZXN1bHRhdHMgPSBhd2FpdCBheGlvcy5nZXQoQVBJX09CVEVOSVJfTElTVEVfUFJPUFJJRVRFUyk7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0YXRzLmRhdGEuZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgICAgdmFyIGNhcmFjdGVyaXN0aXEgPSB7CiAgICAgICAgICAgIHByb3ByaWV0ZVByb2R1aXRMb2dlbWVudDoge30sCiAgICAgICAgICAgIHZhbGV1clRleHRlOiBudWxsCiAgICAgICAgICB9OwogICAgICAgICAgY2FyYWN0ZXJpc3RpcS5wcm9wcmlldGVQcm9kdWl0TG9nZW1lbnQgPSByZXN1bHRhdHMuZGF0YS5kYXRhW2ldOwogICAgICAgICAgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5wcm9kdWl0TG9nZW1lbnQuY2FyYWN0ZXJpc3RpcXVlUHJvZHVpdExvZ2VtZW50TGlzdC5wdXNoKGNhcmFjdGVyaXN0aXEpOwoKICAgICAgICAgIGlmIChyZXN1bHRhdHMuZGF0YS5kYXRhW2ldLmVzdE9ibGlnYXRvaXJlID09IHRydWUpIHsKICAgICAgICAgICAgdGhpcy5jYXJhY3RlcmlzdGlxdWVPYmxpZ2F0b2lyZUxpc3QucHVzaChjYXJhY3RlcmlzdGlxKTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0YXRzLmRhdGEuZGF0YVtpXS5lc3RPYmxpZ2F0b2lyZSA9PSBmYWxzZSAmJiByZXN1bHRhdHMuZGF0YS5kYXRhW2ldLmVzdFVzdWVsbGVGaWx0cmUgPT0gdHJ1ZSkgewogICAgICAgICAgICB0aGlzLmNhcmFjdGVyaXN0aXF1ZVVzdWVsbGVMaXN0LnB1c2goY2FyYWN0ZXJpc3RpcSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmNhcmFjdGVyaXN0aXF1ZU9wdGlvbmVsbGVMaXN0LnB1c2goY2FyYWN0ZXJpc3RpcSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhpcy5lcnJvck1zZyA9IGU7CiAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZUluKCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlT3V0KCk7CiAgICAgICAgfSwgNDAwMCk7CiAgICAgIH0KICAgIH0sCgogICAgYXN5bmMgc2VydmljZVdlYkdldFByb3ByaWV0ZVByb2R1aXRMb2dlbWVudExpc3QyKCkgewogICAgICB0cnkgewogICAgICAgIGNvbnN0IHJlc3VsdGF0cyA9IGF3YWl0IGF4aW9zLmdldChBUElfT0JURU5JUl9MSVNURV9QUk9QUklFVEVTKTsKCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHRhdHMuZGF0YS5kYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgY2FyYWN0ZXJpc3RpcSA9IHsKICAgICAgICAgICAgcHJvcHJpZXRlUHJvZHVpdExvZ2VtZW50OiB7fSwKICAgICAgICAgICAgdmFsZXVyVGV4dGU6IG51bGwKICAgICAgICAgIH07CiAgICAgICAgICBjYXJhY3RlcmlzdGlxLnByb3ByaWV0ZVByb2R1aXRMb2dlbWVudCA9IHJlc3VsdGF0cy5kYXRhLmRhdGFbaV07CiAgICAgICAgICB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5jYXJhY3RlcmlzdGlxdWVQcm9kdWl0TG9nZW1lbnRMaXN0LnB1c2goY2FyYWN0ZXJpc3RpcSk7CgogICAgICAgICAgaWYgKHJlc3VsdGF0cy5kYXRhLmRhdGFbaV0udHlwZS5pZCA9PSAncmVmLmVsZW1lbnQudHlwZVZhbGV1ci5pbnRlZ2VyJykgewogICAgICAgICAgICB0aGlzLmNhcmFjdGVyaXN0aXF1ZUxvZ2VtZW50Tm9uRGVmaW5pZXMucHVzaChjYXJhY3RlcmlzdGlxKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAocmVzdWx0YXRzLmRhdGEuZGF0YVtpXS50eXBlLmlkID09ICdyZWYuZWxlbWVudC50eXBlVmFsZXVyLmRvdWJsZScpIHsKICAgICAgICAgICAgdGhpcy5jYXJhY3RlcmlzdGlxdWVMb2dlbWVudE5vbkRlZmluaWVzLnB1c2goY2FyYWN0ZXJpc3RpcSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgdGhpcy5lcnJvck1zZyA9IGU7CiAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZUluKCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlT3V0KCk7CiAgICAgICAgfSwgNDAwMCk7CiAgICAgIH0KICAgIH0sCgogICAgLy9PQlRFTklSIExBIExJU1RFIERFUyBQUk9HUkFNTUVTIElNTU9CSUxJRVJTCiAgICBhc3luYyBnZXRQcm9ncmFtbWVJbW1vYmlsaWVyTGlzdCgpIHsKICAgICAgYXdhaXQgYXhpb3MuZ2V0KEFQSV9PQlRFTklSX0xJU1RFX1BST0dSQU1NRV9JTU1PQklMSUVSKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnByb2dyYW1tZUltbW9iaWxpZXJMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICB0aGlzLmVycm9yTXNnID0gZTsKICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlSW4oKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVPdXQoKTsKICAgICAgICB9LCA0MDAwKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8vIFJFQ1VQRVJFUiBMJ0VUQVQgREUgTCdJTUFHRSBERSBDT05TVUxBVElPTiBFTiBNT0RJRklDQVRJT04KICAgIHJldHVybkV0YXRJbWFnZUNvbnN1bHRhdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMuZXRhdEltYWdlQ29uc3VsdGF0aW9uOwogICAgfSwKCiAgICAvLyBSRUNVUEVSRVIgSU1BR0UgREUgQ09OU1VMVEFUSU9OIEQnVU4gUFJPRFVJVCBMT0dFTUVOVAogICAgYXN5bmMgcmVjdXBlcmVySW1hZ2VDb25zdWx0YXRpb24ocHJvZHVpdExvZ2VtZW50KSB7CiAgICAgIGF3YWl0IGF4aW9zLmdldChBUElfT0JURU5JUl9JTUFHRV9DT05TVUxUQVRJT04ocHJvZHVpdExvZ2VtZW50LmlkLCAicmVmLmVsZW1lbnQudHlwZVZhbGV1ci5pbWFnZUNvbnN1bHRhdGlvbiIpKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSA9PSAiIikgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YSAhPSAiIikgewogICAgICAgICAgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZUNvbnN1bHRhdGlvbiA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgIHRoaXMuZXRhdEltYWdlQ29uc3VsdGF0aW9uLmRlc2lnbmF0aW9uID0gcmVzcG9uc2UuZGF0YS5kYXRhLmRlc2lnbmF0aW9uOwogICAgICAgICAgdGhpcy5ldGF0SW1hZ2VDb25zdWx0YXRpb24uY29udGVudSA9IHJlc3BvbnNlLmRhdGEuZGF0YS5jb250ZW51OwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgdGhpcy5lcnJvck1zZyA9IGU7CiAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZUluKCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlT3V0KCk7CiAgICAgICAgfSwgNDAwMCk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvL1JFQ1VQRVJBVElPTiBERVMgTUVUQURBVEFTIEVUIERFUyBDT05URU5VUyBERVMgRE9DVU1FTlRTIElNQUdFU0xJU1QKICAgIHJlY3VwZXJlck1ldGFkYXRhc0V0Q29udGVudURvY3VtZW50SW1hZ2UocHJvZHVpdExvZ2VtZW50KSB7CiAgICAgIGF4aW9zLmdldChBUElfT0JURU5JUl9NRVRBREFUQVNfRE9DVU1FTlQocHJvZHVpdExvZ2VtZW50LmlkLCAicmVmLmVsZW1lbnQudHlwZVZhbGV1ci5pbWFnZSIpKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5kYXRhLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLmltYWdlc0xpc3QgPSBbXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZXNMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwuaW1hZ2VzTGlzdC5sZW5ndGggIT0gMCkgewogICAgICAgICAgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5pbWFnZXNMaXN0LmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgICAgIGF4aW9zLmdldChBUElfT0JURU5JUl9DT05URU5VX0RPQ1VNRU5UKGVsZW1lbnQuaWQpKS50aGVuKHJlc3VsdCA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhLmRhdGEgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgZWxlbWVudC5jb250ZW51ID0gcmVzdWx0LmRhdGEuZGF0YTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlOwogICAgICAgICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVJbigpOwogICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZU91dCgpOwogICAgICAgICAgICAgIH0sIDQwMDApOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgdGhpcy5lcnJvck1zZyA9IGU7CiAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZUluKCk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlT3V0KCk7CiAgICAgICAgfSwgNDAwMCk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvLyBSRUNVUEVSQVRJT04gREVTIE1FVEFEQVRBUyBFVCBERVMgRE9DVU1FTlRTIFZJREVPU0xJU1QKICAgIGFzeW5jIHJlY3VwZXJlck1ldGFkYXRhc0V0Q29udGVudURvY3VtZW50VmlkZW8ocHJvZHVpdExvZ2VtZW50KSB7CiAgICAgIGF3YWl0IGF4aW9zLmdldChBUElfT0JURU5JUl9NRVRBREFUQVNfRE9DVU1FTlQocHJvZHVpdExvZ2VtZW50LmlkLCAicmVmLmVsZW1lbnQudHlwZVZhbGV1ci52aWRlbyIpKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5kYXRhLmxlbmd0aCA9PSAwIHx8IHJlc3BvbnNlLmRhdGEuZGF0YSAhPSBudWxsKSB7CiAgICAgICAgICB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLnZpZGVvc0xpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC52aWRlb3NMaXN0Lmxlbmd0aCAhPSAwKSB7CiAgICAgICAgICB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLnZpZGVvc0xpc3QuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICAgICAgYXhpb3MuZ2V0KEFQSV9PQlRFTklSX0NPTlRFTlVfRE9DVU1FTlQoZWxlbWVudC5pZCkpLnRoZW4ocmVzdWx0ID0+IHsKICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgIGVsZW1lbnQuY29udGVudSA9IHJlc3VsdC5kYXRhLmRhdGE7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgICB0aGlzLmVycm9yTXNnID0gZTsKICAgICAgICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlSW4oKTsKICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVPdXQoKTsKICAgICAgICAgICAgICB9LCA0MDAwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlOwogICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVJbigpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZU91dCgpOwogICAgICAgIH0sIDQwMDApOwogICAgICB9KTsKICAgIH0sCgogICAgLy8gTU9ESUZJQ0FUSU9OIEQnVU4gUFJPRFVJVCBMT0dFTUVOVAogICAgZWRpdGluZ1Byb2R1aXRMb2dlbWVudE1vZGUoKSB7CiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicHJvZHVjdCIpKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnN0IHByb2R1aXRMb2dlbWVudFNlbGVjdGVkID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicHJvZHVjdCIpKTsKICAgICAgICAgIGNvbnN0IHByb2R1aXRMb2dlbWVudFNlbGVjdGVkQ2FyYWN0ZXJpc3RpcXVlTGlzdCA9IHByb2R1aXRMb2dlbWVudFNlbGVjdGVkLmNhcmFjdGVyaXN0aXF1ZVByb2R1aXRMb2dlbWVudExpc3Q7CiAgICAgICAgICB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5pZCA9IHByb2R1aXRMb2dlbWVudFNlbGVjdGVkLmlkOwogICAgICAgICAgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5wcm9kdWl0TG9nZW1lbnQuZGVzaWduYXRpb24gPSBwcm9kdWl0TG9nZW1lbnRTZWxlY3RlZC5kZXNpZ25hdGlvbjsKICAgICAgICAgIHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LmRlc2NyaXB0aW9uID0gcHJvZHVpdExvZ2VtZW50U2VsZWN0ZWQuZGVzY3JpcHRpb247CiAgICAgICAgICB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5jb2RlID0gcHJvZHVpdExvZ2VtZW50U2VsZWN0ZWQuY29kZTsKICAgICAgICAgIHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LnByb2dyYW1tZUltbW9iaWxpZXIgPSBwcm9kdWl0TG9nZW1lbnRTZWxlY3RlZC5wcm9ncmFtbWVJbW1vYmlsaWVyOwogICAgICAgICAgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5wcm9kdWl0TG9nZW1lbnQuZXN0QWN0aXZlID0gcHJvZHVpdExvZ2VtZW50U2VsZWN0ZWQuZXN0QWN0aXZlOwogICAgICAgICAgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5wcm9kdWl0TG9nZW1lbnQuZXN0VmFsaWRlID0gcHJvZHVpdExvZ2VtZW50U2VsZWN0ZWQuZXN0VmFsaWRlOwogICAgICAgICAgdGhpcy5wcm9kdWl0TG9nZW1lbnRNb2RlbC5wcm9kdWl0TG9nZW1lbnQucHJpeCA9IHByb2R1aXRMb2dlbWVudFNlbGVjdGVkLnByaXg7CiAgICAgICAgICB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC52ZXJzaW9uID0gcHJvZHVpdExvZ2VtZW50U2VsZWN0ZWQudmVyc2lvbjsKICAgICAgICAgIGF4aW9zLmdldChBUElfT0JURU5JUl9MSVNURV9QUk9QUklFVEVTKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgICAgICAgdmFyIGNhcmFjdGVyaXN0aXEgPSB7CiAgICAgICAgICAgICAgICBpZDogbnVsbCwKICAgICAgICAgICAgICAgIHByb3ByaWV0ZVByb2R1aXRMb2dlbWVudDoge30sCiAgICAgICAgICAgICAgICB2YWxldXJUZXh0ZTogbnVsbCwKICAgICAgICAgICAgICAgIHZlcnNpb246IG51bGwKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIGNhcmFjdGVyaXN0aXEucHJvcHJpZXRlUHJvZHVpdExvZ2VtZW50ID0gZWxlbWVudDsKICAgICAgICAgICAgICB0aGlzLnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5jYXJhY3RlcmlzdGlxdWVQcm9kdWl0TG9nZW1lbnRMaXN0LnB1c2goY2FyYWN0ZXJpc3RpcSk7CiAgICAgICAgICAgICAgcHJvZHVpdExvZ2VtZW50U2VsZWN0ZWRDYXJhY3RlcmlzdGlxdWVMaXN0LmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICAgICAgICBpZiAoY2FyYWN0ZXJpc3RpcS5wcm9wcmlldGVQcm9kdWl0TG9nZW1lbnQuaWQgPT0gaXRlbS5wcm9wcmlldGVQcm9kdWl0TG9nZW1lbnQuaWQpIHsKICAgICAgICAgICAgICAgICAgY2FyYWN0ZXJpc3RpcSA9IGl0ZW07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGlmIChjYXJhY3RlcmlzdGlxLnByb3ByaWV0ZVByb2R1aXRMb2dlbWVudC5lc3RPYmxpZ2F0b2lyZSA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNhcmFjdGVyaXN0aXF1ZU9ibGlnYXRvaXJlTGlzdC5wdXNoKGNhcmFjdGVyaXN0aXEpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKGNhcmFjdGVyaXN0aXEucHJvcHJpZXRlUHJvZHVpdExvZ2VtZW50LmVzdE9ibGlnYXRvaXJlID09IGZhbHNlICYmIGNhcmFjdGVyaXN0aXEucHJvcHJpZXRlUHJvZHVpdExvZ2VtZW50LmVzdFVzdWVsbGVGaWx0cmUgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgdGhpcy5jYXJhY3RlcmlzdGlxdWVVc3VlbGxlTGlzdC5wdXNoKGNhcmFjdGVyaXN0aXEpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKGNhcmFjdGVyaXN0aXEucHJvcHJpZXRlUHJvZHVpdExvZ2VtZW50LnR5cGUuaWQgPT0gJ3JlZi5lbGVtZW50LnR5cGVWYWxldXIuaW50ZWdlcicpIHsKICAgICAgICAgICAgICAgIHRoaXMuY2FyYWN0ZXJpc3RpcXVlTG9nZW1lbnROb25EZWZpbmllcy5wdXNoKGNhcmFjdGVyaXN0aXEpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKGNhcmFjdGVyaXN0aXEucHJvcHJpZXRlUHJvZHVpdExvZ2VtZW50LnR5cGUuaWQgPT0gJ3JlZi5lbGVtZW50LnR5cGVWYWxldXIuZG91YmxlJykgewogICAgICAgICAgICAgICAgdGhpcy5jYXJhY3RlcmlzdGlxdWVMb2dlbWVudE5vbkRlZmluaWVzLnB1c2goY2FyYWN0ZXJpc3RpcSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoY2FyYWN0ZXJpc3RpcS52YWxldXJUZXh0ZSA9PSAndmFsZXVyLm5vbkRlZmluaWUnKSB7CiAgICAgICAgICAgICAgICB0aGlzLmNhcmFjdGVyaXN0aXF1ZUxvZ2VtZW50Tm9uRGVmaW5pZXMucHVzaChjYXJhY3RlcmlzdGlxKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5jYXJhY3RlcmlzdGlxdWVPcHRpb25lbGxlTGlzdC5wdXNoKGNhcmFjdGVyaXN0aXEpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMucmVjdXBlcmVySW1hZ2VDb25zdWx0YXRpb24ocHJvZHVpdExvZ2VtZW50U2VsZWN0ZWQpOwogICAgICAgICAgdGhpcy5yZWN1cGVyZXJNZXRhZGF0YXNFdENvbnRlbnVEb2N1bWVudEltYWdlKHByb2R1aXRMb2dlbWVudFNlbGVjdGVkKTsKICAgICAgICAgIHRoaXMucmVjdXBlcmVyTWV0YWRhdGFzRXRDb250ZW51RG9jdW1lbnRWaWRlbyhwcm9kdWl0TG9nZW1lbnRTZWxlY3RlZCk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgicHJvZHVjdCIpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJwcm9kdWN0Iik7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VydmljZVdlYkdldFByb3ByaWV0ZVByb2R1aXRMb2dlbWVudExpc3QoKTsKICAgICAgICB0aGlzLnNlcnZpY2VXZWJHZXRQcm9wcmlldGVQcm9kdWl0TG9nZW1lbnRMaXN0MigpOwogICAgICB9CiAgICB9CgogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIFZFUklGSUVSIFNJIE5PVVMgU09NTUVTIEVOIENSRUFUSU9OIE9VIEVOIE1PRElGSUNBVElPTgogICAgaXNDcmVhdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LmlkID09IG51bGw7CiAgICB9LAoKICAgIC8vIEdFU1RJT05TIERFUyBDT05UUkFJTlRFUyBERVMgQ0hBTVBTIEQnRU5UUkVFUyAoREVTSUdOQVRJT04gLCBERVNDUklQVElPTiApIERVIFBST0RVSVQgTE9HRU1FTlQKICAgIGRlc2lnbmF0aW9uUHJvZHVpdExvZ2VtZW50RXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5kZXNpZ25hdGlvbi4kZGlydHkpIHJldHVybiBlcnJvcnM7CiAgICAgICF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5kZXNpZ25hdGlvbi5tYXhMZW5ndGggJiYgZXJyb3JzLnB1c2goJ0xhIGRlc2lnbmF0aW9uIG5lIGRvaXQgcGFzIGTDqXBhc3NlciA2MDAgY2FyYWN0w6hyZXMnKTsKICAgICAgIXRoaXMuJHYucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LmRlc2lnbmF0aW9uLnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCdMYSBkw6lzaWduYXRpb24gZXN0IG9ibGlnYXRvaXJlLicpOwogICAgICAhdGhpcy4kdi5wcm9kdWl0TG9nZW1lbnRNb2RlbC5wcm9kdWl0TG9nZW1lbnQuZGVzaWduYXRpb24ubWluTGVuZ3RoICYmIGVycm9ycy5wdXNoKCdMYSBkw6lzaWduYXRpb24gZG9pdCBhdm9pciBhdSBtaW5pbXVtIDggY2FyYWN0w6hyZXMuJyk7CiAgICAgIHJldHVybiBlcnJvcnM7CiAgICB9LAoKICAgIGRlc2NyaXB0aW9uUHJvZHVpdExvZ2VtZW50RXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5kZXNjcmlwdGlvbi4kZGlydHkpIHJldHVybiBlcnJvcnM7CiAgICAgICF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5kZXNjcmlwdGlvbi5tYXhMZW5ndGggJiYgZXJyb3JzLnB1c2goJ0xhIGRlc2NyaXB0aW9uIG5lIGRvaXQgcGFzIGTDqXBhc3NlciA2MDAgY2FyYWN0w6hyZXMnKTsKICAgICAgIXRoaXMuJHYucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LmRlc2NyaXB0aW9uLnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCdMYSBkZXNjcmlwdGlvbiBlc3Qgb2JsaWdhdG9pcmUuJyk7CiAgICAgICF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5kZXNjcmlwdGlvbi5taW5MZW5ndGggJiYgZXJyb3JzLnB1c2goJ0xhIGRlc2NyaXB0aW9uIGRvaXQgYXZvaXIgcGx1cyBkZSAyMCBjYXJhY3TDqHJlcy4nKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0sCgogICAgcHJvZ3JhbW1lUHJvZHVpdExvZ2VtZW50RXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5wcm9ncmFtbWVJbW1vYmlsaWVyLmlkLiRkaXJ0eSkgcmV0dXJuIGVycm9yczsKICAgICAgIXRoaXMuJHYucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LnByb2dyYW1tZUltbW9iaWxpZXIuaWQucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goJ1ZvdXMgZGV2ZXogcmF0dGFjaGVyIHVuIHByb2dyYW1tZSBpbW1vYmlsaWVyLicpOwogICAgICByZXR1cm4gZXJyb3JzOwogICAgfSwKCiAgICBjb2RlUHJvZHVpdExvZ2VtZW50RXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5jb2RlLiRkaXJ0eSkgcmV0dXJuIGVycm9yczsKICAgICAgIXRoaXMuJHYucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LmNvZGUubWF4TGVuZ3RoICYmIGVycm9ycy5wdXNoKCdMZSBjb2RlIG5lIGRvaXQgcGFzIGTDqXBhc3NlciA2MDAgY2FyYWN0w6hyZXMnKTsKICAgICAgIXRoaXMuJHYucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LmNvZGUucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goJ0xlIGNvZGUgZXN0IG9ibGlnYXRvaXJlLicpOwogICAgICAhdGhpcy4kdi5wcm9kdWl0TG9nZW1lbnRNb2RlbC5wcm9kdWl0TG9nZW1lbnQuY29kZS5taW5MZW5ndGggJiYgZXJyb3JzLnB1c2goJ0xlIGNvZGUgZG9pdCBhdm9pciBwbHVzIGRlIDIwIGNhcmFjdMOocmVzLicpOwogICAgICByZXR1cm4gZXJyb3JzOwogICAgfSwKCiAgICBwcml4UHJvZHVpdExvZ2VtZW50RXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5wcml4LiRkaXJ0eSkgcmV0dXJuIGVycm9yczsKICAgICAgIXRoaXMuJHYucHJvZHVpdExvZ2VtZW50TW9kZWwucHJvZHVpdExvZ2VtZW50LnByaXgucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goJ0xlIHByaXggZHUgcHJvZHVpdCBsb2dlbWVudCBlc3Qgb2JsaWdhdG9pcmUuJyk7CiAgICAgICF0aGlzLiR2LnByb2R1aXRMb2dlbWVudE1vZGVsLnByb2R1aXRMb2dlbWVudC5wcml4Lm51bWVyaWMgJiYgZXJyb3JzLnB1c2goJ0VudHJlciB1biBtb250YW50IGNvcnJlY3QnKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0sCgogICAgaXNWYWxldXJDYXJhY3RlcmlzdGlxdWVOb25EZWZpbmlzKCkgewogICAgICB2YXIgdmFsZXVyQ2FyYWN0ZXJpc3RpcXVlTm9uRGVmaW5pcyA9IFtdOwoKICAgICAgaWYgKHRoaXMuY2FyYWN0ZXJpc3RpcXVlT3B0aW9uZWxsZUxpc3QubGVuZ3RoID4gMCkgewogICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmNhcmFjdGVyaXN0aXF1ZU9wdGlvbmVsbGVMaXN0Lmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgdmFyIGNhcmFjdGVyaXN0aXEgPSB7CiAgICAgICAgICAgIHByb3ByaWV0ZVByb2R1aXRMb2dlbWVudDoge30sCiAgICAgICAgICAgIHZhbGV1clRleHRlOiBudWxsCiAgICAgICAgICB9OwogICAgICAgICAgY2FyYWN0ZXJpc3RpcS5wcm9wcmlldGVQcm9kdWl0TG9nZW1lbnQgPSB0aGlzLmNhcmFjdGVyaXN0aXF1ZU9wdGlvbmVsbGVMaXN0W2luZGV4XS5wcm9wcmlldGVQcm9kdWl0TG9nZW1lbnQ7CiAgICAgICAgICBjYXJhY3RlcmlzdGlxLnZhbGV1clRleHRlID0gdGhpcy5jYXJhY3RlcmlzdGlxdWVPcHRpb25lbGxlTGlzdFtpbmRleF0udmFsZXVyVGV4dGU7CgogICAgICAgICAgaWYgKGNhcmFjdGVyaXN0aXEudmFsZXVyVGV4dGUgPT0gbnVsbCB8fCBjYXJhY3RlcmlzdGlxLnZhbGV1clRleHRlID09ICJmYWxzZSIpIHsKICAgICAgICAgICAgdmFsZXVyQ2FyYWN0ZXJpc3RpcXVlTm9uRGVmaW5pcy5wdXNoKGNhcmFjdGVyaXN0aXEpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHZhbGV1ckNhcmFjdGVyaXN0aXF1ZU5vbkRlZmluaXM7CiAgICB9CgogIH0sCgogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFByb2dyYW1tZUltbW9iaWxpZXJMaXN0KCk7CiAgICB0aGlzLmdldFJlZmVyZW5jZVR5cGVMb2dlbWVudCgpOwogICAgdGhpcy5nZXRWaWxsZXNMaXN0KCk7CiAgICB0aGlzLmdldEZvcm1hdHNMaXN0KCk7CiAgICB0aGlzLmVkaXRpbmdQcm9kdWl0TG9nZW1lbnRNb2RlKCk7CiAgfQoKfTs="},{"version":3,"mappings":";AAmWA;AACA;AACA;AACA;AACA;AACA;AACA;EACAA,oCADA;;EAEAC;IACA;MACAC,2BADA;MAEAC,kCAFA;MAGAC,8BAHA;MAIAC,iCAJA;MAKAC,cALA;MAMAC,eANA;MAOAC,iBAPA;MAQAC,sCARA;MAUAC;QACAC,iBADA;QAEAC,iBAFA;QAGAC;MAHA,CAVA;MAiBAC,gBAjBA;MAkBAC,cAlBA;MAmBAC,gBAnBA;MAoBAC,cApBA;MAwBAC;QACAC;UACAC,QADA;UAEAT,iBAFA;UAGAC,iBAHA;UAIAS,UAJA;UAKAC;YACAF,QADA;YAEAG;UAFA,CALA;UASAC,sCATA;UAUAD,aAVA;UAWAE,eAXA;UAYAC,eAZA;UAaAC;QAbA,CADA;QAgBAC,cAhBA;QAiBAC,cAjBA;QAkBAC;UACAV,QADA;UAEAT,iBAFA;UAGAC,iBAHA;UAIAC,aAJA;UAKAkB;YACAX,QADA;YAEAG;UAFA,CALA;UASAS;YACAZ;UADA,CATA;UAYAG;QAZA;MAlBA,CAxBA;MA0DAU;QACAC;UACAd,QADA;UAEAT,iBAFA;UAGAC,iBAHA;UAIAC,aAJA;UAKAsB,UALA;UAMAJ;YACAX,QADA;YAEAG;UAFA,CANA;UAUAS;YACAZ;UADA;QAVA,CADA;QAeAgB,8CAfA;QAgBAC;MAhBA;IA1DA;EA6EA,CAhFA;;EAkFAC;IAEApB;MAEAC;QACAR;UACA4B,QADA;UAEAC,uBAFA;UAGAC;QAHA,CADA;QAMA7B;UACA2B,QADA;UAEAC,uBAFA;UAGAC;QAHA,CANA;QAWAnB;UACAF;YACAmB;UADA;QADA,CAXA;QAgBAlB;UACAkB,QADA;UAEAC,uBAFA;UAGAC;QAHA,CAhBA;QAqBAd;UACAY,QADA;UAEAG;QAFA;MArBA;IAFA,CAFA;IAgCAvC;MACAoC,QADA;MAEAI;QACAC;UACAL;QADA;MADA;IAFA;EAhCA,CAlFA;EA4HAM;IAEA;IACAC;MACA;MACA;QACA;UACAC;QACA;MACA,CAJA;MAKA;IACA,CAXA;;IAcA;IACAC;MACA;;MAEA;QACA;UACA;YACA;UACA;QACA;MACA;IACA,CAzBA;;IA6BA;IAEA;MACA;MACA;QACA;UACA;UACAC;UACAC;YACAD;UACA,CAFA,EAEA,IAFA;QAIA,CAPA,MAOA;UAEA;UACAA;UACAC;YACAD;UACA,CAFA,EAEA,IAFA;;UAIA;YACA;cACA;YACA;UACA;QACA;MAEA,CAvBA,EAuBAE,KAvBA,CAuBAC;QACA;QACAH;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CA7BA,EA6BAI,OA7BA,CA6BA;QACA;MACA,CA/BA;IAgCA,CAjEA;;IAqEA;IAEA;MACA;MACA;QACA;UACA;UACAJ;UACAC;YACAD;UACA,CAFA,EAEA,IAFA;QAGA,CANA,MAOA;UACA;UACAA;UACAC;YACAD;UACA,CAFA,EAEA,IAFA;QAGA;MACA,CAfA,EAeAE,KAfA,CAeAC;QACA;QACAH;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CArBA,EAqBAI,OArBA,CAqBA;QACA;MACA,CAvBA;IAwBA,CAjGA;;IAqGA;IAEA;MACA;QACAzB;UACA;YACA;cAEA;cACA;cACA;cACA;cACA;cACA;cACA;YACA;UACA;QACA,CAbA;MAcA;IACA,CAxHA;;IA4HA;IAEA;MACA;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;QACA;QACA;QACA;MAEA;IAEA,CA3IA;;IAgJA;IAEA;MACA;QACA;UACA;UACAqB;UACAC;YACAD;UACA,CAFA,EAEA,IAFA;QAGA,CANA,MAOA;UACA;UACAA;UACAC;YACAD;UACA,CAFA,EAEA,IAFA;QAGA;MACA,CAfA;IAgBA,CAnKA;;IAuKA;;IACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;IAyFA;IAEA;MACA;QACA;UACA;UACAA;UACAC;YACAD;UACA,CAFA,EAEA,IAFA;QAGA,CANA,MAMA;UACA;UACAA;UACAC;YACAD;UACA,CAFA,EAEA,IAFA;QAGA;MACA,CAdA,EAcAE,KAdA,CAcAC;QACA;QACAH;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CApBA;IAqBA,CAvYA;;IA0YA;IAEA;MACA;QAEA;UACA;UACAA;UACAC;YACAD;UACA,CAFA,EAEA,IAFA;QAGA,CANA,MAMA;UACA;UACAA;UACAC;YACAD;UACA,CAFA,EAEA,IAFA;QAGA,CANA,MAMA;UACA;UACAA;UACAC;YACAD;UACA,CAFA,EAEA,IAFA;QAGA;MACA,CArBA,EAqBAE,KArBA,CAqBAC;QACA;QACAH;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAIA,CA5BA;IA6BA,CA1aA;;IA6aA;IAEA;MACA;QAEA;UACA;UACAA;UACAC;YACAD;UACA,CAFA,EAEA,IAFA;QAGA,CANA,MAMA;UACA;UACAA;UACAC;YACAD;UACA,CAFA,EAEA,IAFA;QAGA;MACA,CAfA,EAeAE,KAfA,CAeAC;QACA;QACAH;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAIA,CAtBA;IAuBA,CAvcA;;IA4cA;IAEAK;MAEA;QAEA;;QACA;UACA;;UAEA;YACA;UACA;;UAEA;YACA;UACA;;UAEA,4KACAC,qDADA,EACA;YACA;YACA;YACA;UACA;QACA;MACA;IACA,CAteA;;IA4eA;IAEAC;MAEA;QAEA;UAEA;UACA;UACA;UACA;UACA;UACA;;UAEA;YACA;UACA;QACA;MACA;IACA,CAhgBA;;IAqgBA;IAEAC;MAEA;;MACA;QACA;QACAR;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CANA,MAOA;QAEA;QAEAA;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CARA,MASA;QACA;MACA;IACA,CA7hBA;;IAiiBA;IAEAS;MAEA;MACA;MAEA;MACA;MACA;MAEA;QACAtC,QADA;QAEAT,iBAFA;QAGAC,iBAHA;QAIAC,aAJA;QAKAkB;UACAX,QADA;UAEAG;QAFA,CALA;QASAS;UACAZ;QADA,CATA;QAYAG;MAZA;;MAeA;QACA;UACAoC;QACA;MACA;;MACAA;;MAEA;QAEA;UACA;;UACAC;YACAD;YACA;YACA;UACA,CAJA;;UAKAC;UACAC;QACA;MACA;IACA,CA/kBA;IAmlBA;IAEAC;MACA;MACA;MACA;MACA;MACA;MAEA;QACA1C,QADA;QAEAT,iBAFA;QAGAC,iBAHA;QAIAC,aAJA;QAKAkB;UACAX,QADA;UAEAG;QAFA,CALA;QASAS;UACAZ;QADA,CATA;QAYAG;MAZA;MAeA;QACA;UACAwC;QACA;MACA,CAJA;MAMAA;;MAEA;QAEA;UAEA;;UAEAH;YACAG;YACA;UACA,CAHA;;UAIAH;UACAC;QAEA;MACA;IACA,CAloBA;;IAooBA;IAEAG;MACA;IACA,CAxoBA;;IA0oBAC;MACA;IACA,CA5oBA;;IA8oBA;IAEAC;MACA;QACApC;QACAA;QACAA;MACA;MAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;IAOA,CA/qBA;;IAkrBA;IAEAqC;MACA;IACA,CAtrBA;;IAwrBA;IAEAC;MAEA;MACA;MACA;MACA;MACA;;MAEA;QACA;UACA;QACA;MACA;;MAEA;QACA;;QACAR;UACA;QACA,CAFA;;QAIAA;QACA;MACA;IACA,CAjtBA;;IAmtBAS;MACA;IACA,CArtBA;;IAwtBAC;MACA;MACA;MACA;;MAEA;QACA;UACAT;QADA;QAGAU;QACAC;MACA;;MACA;IACA,CAruBA;;IAwuBA;IACA;MACA;QACA;MACA,CAFA,EAEArB,KAFA,CAEAC;QACA;QACAH;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CARA;IASA,CAnvBA;;IAsvBA;IAEA;MACA;QACA;MACA,CAFA,EAEAE,KAFA,CAEAC;QACA;QACAH;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CARA;IASA,CAlwBA;;IAowBA;IAEA;MACA;QACA;MACA,CAFA,EAEAE,KAFA,CAEAC;QACA;QACAH;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CARA;IASA,CAhxBA;;IAkxBA;IAEA;MAEA;QACA;;QAEA;UAEA;YACAwB,4BADA;YAEA7B;UAFA;UAKA8B;UACA;;UAEA;YACA;UACA,CAFA,MAEA;YACA;UACA,CAFA,MAEA;YACA;UACA;QACA;MAEA,CAtBA,CAsBA;QACA;QACAzB;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA;IACA,CAnzBA;;IAwzBA;MAEA;QACA;;QAEA;UACA;YACAwB,4BADA;YAEA7B;UAFA;UAKA8B;UACA;;UAEA;YACA;UACA;;UAEA;YACA;UACA;QACA;MACA,CApBA,CAoBA;QACA;QACAzB;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA;IACA,CAr1BA;;IAy1BA;IAEA;MACA;QACA;MACA,CAFA,EAEAE,KAFA,CAEAC;QACA;QACAH;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CARA;IASA,CAr2BA;;IAy2BA;IAEA0B;MACA;IACA,CA72BA;;IAi3BA;IAEA;MAEA,gHACAC,IADA,CACAC;QACA;UACA;QACA,CAFA,MAGA;UACA;UACA;UACA;QACA;MACA,CAVA,EAUA1B,KAVA,CAUAC;QACA;QACAH;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CAhBA;IAiBA,CAt4BA;;IA04BA;IAEA6B;MAEAC,8FACAH,IADA,CACAC;QAEA;UACA;QACA,CAFA,MAEA;UACA;QACA;;QAGA;UACA;YACAE;cACA;gBACAC;cACA;YACA,CAJA,EAIA7B,KAJA,CAIAC;cACA;cACAH;cACAC;gBACAD;cACA,CAFA,EAEA,IAFA;YAGA,CAVA;UAWA,CAZA;QAaA;MAEA,CA1BA,EA0BAE,KA1BA,CA0BAC;QACA;QACAH;QAEAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CAjCA;IAkCA,CAh7BA;;IAo7BA;IAEA;MAEA,oGACA2B,IADA,CACAC;QAEA;UACA;QACA;;QAEA;UACA;YACAE;cACA;gBACAC;cACA;YACA,CAJA,EAIA7B,KAJA,CAIAC;cACA;cACAH;cACAC;gBACAD;cACA,CAFA,EAEA,IAFA;YAGA,CAVA;UAWA,CAZA;QAaA;MACA,CAtBA,EAsBAE,KAtBA,CAsBAC;QACA;QACAH;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CA5BA;IA6BA,CAr9BA;;IA09BA;IAEAgC;MAEA;QAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UAEAF;YAEAF;cACA;gBACAzD,QADA;gBAEAqD,4BAFA;gBAGA7B,iBAHA;gBAIArB;cAJA;cAMAmD;cACA;cAEAQ;gBACA;kBACAR;gBACA;cACA,CAJA;;cAMA;gBACA;cACA;;cAEA;gBACA;cACA;;cAEA;gBACA;cACA;;cAGA;gBACA;cACA;;cAEA;gBACA;cACA,CAFA,MAIA;gBACA;cACA;YACA,CAxCA;UAyCA,CA3CA,EA2CAvB,KA3CA,CA2CAC;YACA+B;UACA,CA7CA;UA8CA;UACA;UACA;UAEAC;QACA,CAhEA,CAgEA;UACAA;QACA;MAEA,CAtEA,MAsEA;QACA;QACA;MACA;IACA;;EAxiCA,CA5HA;EAuqCAC;IACA;IACAC;MACA;IACA,CAJA;;IAMA;IAEAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CAfA;;IAiBAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CAxBA;;IA0BAC;MACA;MACA;MACA;MACA;IACA,CA/BA;;IAiCAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CAxCA;;IA0CAC;MACA;MACA;MACA;MACA;MACA;IACA,CAhDA;;IAmDAC;MACA;;MAEA;QAEA;UACA;YACAnB,4BADA;YAEA7B;UAFA;UAIA8B;UACAA;;UAEA;YACAmB;UACA;QACA;MACA;;MACA;IACA;;EAtEA,CAvqCA;;EAivCAC;IACA;IACA;IACA;IACA;IACA;EACA;;AAvvCA","names":["name","data","programmeImmobilierList","caracteristiqueObligatoireList","caracteristiqueUsuelleList","caracteristiqueOptionelleList","villesList","formatsList","referenceList","caracteristiqueLogementNonDefinies","etatImageConsultation","designation","description","contenu","successMsg","errorMsg","warningMsg","overlay","produitLogementModel","produitLogement","id","code","programmeImmobilier","version","caracteristiqueProduitLogementList","estValide","estActive","prix","imagesList","videosList","imageConsultation","format","typeDocument","documentTransfertModel","document","path","entityName","entityId","validations","required","minLength","maxLength","numeric","$each","valeurTexte","methods","sendCaracteristiqueDefinies","contains","transfertCaracteristiqNonDefini","$","setTimeout","catch","e","finally","modifierImageConsultation","variable","ajouterNouvelleImageConsultation","submitForm","previewMultiVideo","video","reader","index","previewMultiImage","image","deleteImageList","deleteVideoList","deleteImageConsultation","getFile","pickFile","selectImage","getIntegerList","valeur","containerList","proprieteProduitLogement","caracteristiq","returnEtatImageConsultation","then","response","recupererMetadatasEtContenuDocumentImage","axios","element","editingProduitLogementMode","produitLogementSelectedCaracteristiqueList","console","localStorage","computed","isCreation","designationProduitLogementErrors","descriptionProduitLogementErrors","programmeProduitLogementErrors","codeProduitLogementErrors","prixProduitLogementErrors","isValeurCaracteristiqueNonDefinis","valeurCaracteristiqueNonDefinis","mounted"],"sourceRoot":"src/components/espace_promoteur","sources":["CreerModifierProduitLogement.vue"],"sourcesContent":["<template>\n\n    <v-app>\n\n        <v-form @submit.prevent=\"submitForm\">\n\n            <v-card elevation=\"5\">\n\n                <v-card-title v-if=\"isCreation\"><span class=\"create_or_modify_title\">CREER UN PRODUIT LOGEMENT</span> </v-card-title>\n                <v-card-title v-else><span class=\"create_or_modify_title\">MODIFIER UN PRODUIT LOGEMENT</span> </v-card-title>\n\n                <v-card>\n                    <v-row>\n                        <v-card-subtitle>\n                            <v-icon>mdi-chevron-right</v-icon><span class=\"section\">INFORMATION(S) GNRALE(S)</span> \n                        </v-card-subtitle>\n                    </v-row>\n\n                    <v-container>\n                        <v-row>\n                            <v-col cols=\"6\">\n                                <v-text-field color=\"teal\" :error-messages=\"designationProduitLogementErrors\" \n                                    :counter=\"10\" label=\"Designation\" v-model.trim=\" $v.produitLogementModel.produitLogement.designation.$model\" \n                                    required>\n                                </v-text-field>\n                            </v-col>\n    \n                            <v-col cols=\"6\">\n                                <v-select color=\"teal\" :error-messages=\"programmeProduitLogementErrors\"\n                                    :items=\"programmeImmobilierList\" item-text=\"designation\" item-value=\"id\"\n                                    label=\"Programme Immobilier\" v-model=\"produitLogementModel.produitLogement.programmeImmobilier.id\"  required>\n                                </v-select>\n                            </v-col>\n    \n                            <v-col cols=\"12\">\n                                <v-textarea  color=\"teal\" :error-messages=\"descriptionProduitLogementErrors\" label=\"Description\"\n                                    v-model.trim=\" $v.produitLogementModel.produitLogement.description.$model\">\n                                    <template v-slot:label><div>Description</div></template>\n                                </v-textarea>\n                            </v-col>\n\n                            <v-col cols=\"6\">\n                                <v-text-field color=\"teal\" :error-messages=\"codeProduitLogementErrors\" \n                                    label=\"Code\" v-model.trim=\"$v.produitLogementModel.produitLogement.code.$model\" required>\n                                </v-text-field>\n                            </v-col>\n\n                            <v-col cols=\"6\">\n                                <v-text-field color=\"teal\" :error-messages=\"prixProduitLogementErrors\" \n                                    label=\"Prix\" suffix=\"FCFA\" v-model.number=\"$v.produitLogementModel.produitLogement.prix.$model\" required>\n                                </v-text-field>\n                            </v-col>\n                            \n                        </v-row>\n                    </v-container>\n                </v-card>\n\n                <p></p>\n\n                <v-card elevation=\"3\">\n\n                   <v-expansion-panels>\n                        <v-expansion-panel>\n                            <v-expansion-panel-header>\n                                <v-row>\n                                    <span class=\"section\"><v-icon>mdi-chevron-right</v-icon>CARACTERISTIQUES OBLIGATOIRES</span> \n                                </v-row>\n                            </v-expansion-panel-header>\n                            <v-expansion-panel-content>\n                                <v-container>\n                                    <v-row>\n                                        <v-col v-for=\"caracteristique in caracteristiqueObligatoireList\" :key=\"caracteristique.id\">\n                                            <v-text-field v-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.double'\" \n                                                color=\"teal\" :label=\"caracteristique.proprieteProduitLogement.designation\" \n                                                required v-model=\"caracteristique.valeurTexte\">\n                                            </v-text-field>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.reference'\" color=\"teal\" :error-messages=\"programmeProduitLogementErrors\"\n                                                :items=\"referenceList\" item-text=\"designation\" item-value=\"id\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.ville'\" color=\"teal\"\n                                                :items=\"villesList\" item-text=\"designation\" item-value=\"id\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.integer'\" color=\"teal\"\n                                                :items=\"getIntegerList(caracteristique)\" item-text=\"index\" item-value=\"index\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-checkbox dense v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.boolean'\" v-model=\"caracteristique.valeurTexte\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" color=\"teal\" true-value=\"true\" false-value=\"false\"\n                                            ></v-checkbox>\n                                            <v-text-field v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.string'\" \n                                                color=\"teal\" :label=\"caracteristique.proprieteProduitLogement.designation\" \n                                                required v-model=\"caracteristique.valeurTexte\">\n                                            </v-text-field>\n                                        </v-col>\n                                    </v-row>\n                                </v-container>\n                            </v-expansion-panel-content>\n                        </v-expansion-panel>\n                   </v-expansion-panels>                    \n                </v-card>\n\n                <p></p>\n\n                <v-card elevation=\"3\">\n                    <v-expansion-panels>\n                        <v-expansion-panel>\n                            <v-expansion-panel-header>\n                                <v-row>\n                                    <span class=\"section\"><v-icon>mdi-chevron-right</v-icon>CARACTERISTIQUES USUELLES</span> \n                                </v-row>\n                            </v-expansion-panel-header>\n                            <v-expansion-panel-content>\n                                <v-container>\n                                    <v-row>\n                                        <v-col v-for=\"caracteristique in caracteristiqueUsuelleList\" :key=\"caracteristique.id\">\n                                            <v-text-field v-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.double'\" \n                                                color=\"teal\" :label=\"caracteristique.proprieteProduitLogement.designation\" \n                                                required v-model=\"caracteristique.valeurTexte\">\n                                            </v-text-field>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.reference'\" color=\"teal\" :error-messages=\"programmeProduitLogementErrors\"\n                                                :items=\"referenceList\" item-text=\"designation\" item-value=\"id\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.ville'\" color=\"teal\"\n                                                :items=\"villesList\" item-text=\"designation\" item-value=\"id\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.integer'\" color=\"teal\"\n                                                :items=\"getIntegerList(caracteristique)\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-checkbox dense v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.boolean'\" v-model=\"caracteristique.valeurTexte\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" color=\"teal\" true-value=\"true\" false-value=\"false\"\n                                            ></v-checkbox>\n                                            <v-text-field v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.string'\" \n                                                color=\"teal\" :label=\"caracteristique.proprieteProduitLogement.designation\" \n                                                required v-model=\"caracteristique.valeurTexte\">\n                                            </v-text-field>\n                                        </v-col>\n                                    </v-row>\n                                </v-container>\n                            </v-expansion-panel-content>\n                        </v-expansion-panel>\n                    </v-expansion-panels>\n                </v-card>\n\n                <p></p>\n\n\n                <v-card elevation=\"3\">\n                    <v-expansion-panels>\n                        <v-expansion-panel>\n                            <v-expansion-panel-header>\n                                <v-row>\n                                    <span class=\"section\"><v-icon>mdi-chevron-right</v-icon>CARACTERISTIQUES OPTIONNELLES</span> \n                                </v-row>\n                            </v-expansion-panel-header>\n                            <v-expansion-panel-content>\n                                <v-container>\n                                    <v-row>\n                                        <v-col cols=\"4\" v-for=\"caracteristique in caracteristiqueOptionelleList\" :key=\"caracteristique.id\">\n                                            <v-text-field v-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.double'\" \n                                                color=\"teal\" :label=\"caracteristique.proprieteProduitLogement.designation\" \n                                                required v-model=\"caracteristique.valeurTexte\">\n                                            </v-text-field>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.reference'\" color=\"teal\" :error-messages=\"programmeProduitLogementErrors\"\n                                                :items=\"referenceList\" item-text=\"designation\" item-value=\"id\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.ville'\" color=\"teal\"\n                                                :items=\"villesList\" item-text=\"designation\" item-value=\"id\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-select v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.integer'\" color=\"teal\"\n                                                :items=\"getIntegerList(caracteristique)\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" v-model=\"caracteristique.valeurTexte\"  required>\n                                            </v-select>\n                                            <v-checkbox dense v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.boolean'\" v-model=\"caracteristique.valeurTexte\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" color=\"teal\" true-value=\"true\" false-value=\"false\"\n                                            ></v-checkbox>\n                                            <v-text-field v-else-if=\" caracteristique.proprieteProduitLogement.type.id ==='ref.element.typeValeur.string'\" \n                                                color=\"teal\" :label=\"caracteristique.proprieteProduitLogement.designation\" \n                                                required v-model=\"caracteristique.valeurTexte\">\n                                            </v-text-field>\n                                        </v-col>\n                                    </v-row>\n                                </v-container>\n                            </v-expansion-panel-content>\n                        </v-expansion-panel>\n                    </v-expansion-panels>\n                </v-card>\n\n                <p></p>\n\n                <v-card elevation=\"3\">\n                    <v-expansion-panels>\n                        <v-expansion-panel>\n                            <v-expansion-panel-header>\n                                <v-row>\n                                    <span class=\"section\"><v-icon>mdi-chevron-right</v-icon>CARACTERISTIQUES SPECIFIQUES AUX LOGEMENTS</span> \n                                </v-row>\n                            </v-expansion-panel-header>\n                            <v-expansion-panel-content>\n                                <v-container>\n                                    <v-row>\n                                        <v-col cols=\"4\" v-for=\"caracteristique in isValeurCaracteristiqueNonDefinis\" :key=\"caracteristique.id\">\n                                            <v-checkbox dense v-model=\"caracteristique.valeurTexte\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" color=\"teal\" true-value=\"true\" false-value=\"false\"\n                                            ></v-checkbox>\n                                        </v-col>\n\n                                        <v-col cols=\"4\" v-for=\"caracteristique in caracteristiqueLogementNonDefinies\" :key=\"caracteristique.id\">\n                                            <v-checkbox dense v-model=\"caracteristique.valeurTexte\"\n                                                :label=\"caracteristique.proprieteProduitLogement.designation\" color=\"teal\" true-value=\"true\" false-value=\"false\"\n                                            ></v-checkbox>\n                                        </v-col>\n                                    </v-row>\n                                </v-container>\n                            </v-expansion-panel-content>\n                        </v-expansion-panel>\n                    </v-expansion-panels>\n                </v-card>\n\n                <p></p>\n\n                <v-expansion-panels>\n                    <v-expansion-panel>\n                        <v-expansion-panel-header>\n                            <v-row>\n                                <span class=\"section\"><v-icon>mdi-chevron-right</v-icon>IMAGE DE CONSULTATION</span> \n                            </v-row>\n                        </v-expansion-panel-header>\n                        <v-expansion-panel-content>\n                            <v-container>\n                                <v-card class=\"mx-auto\" max-width=\"800\">\n                                    <v-spacer></v-spacer>\n                                    <v-btn icon color=\"grey\"><v-icon>mdi-upload</v-icon><input @change=\"pickFile\" type=\"file\" ref=\"fileInput\" id=\"inputFile\"></v-btn>\n                                    <v-btn icon color=\"grey\" @click=\"deleteImageConsultation(produitLogementModel.imageConsultation)\"><v-icon>mdi-close</v-icon></v-btn>\n                                    <v-img :src=\"produitLogementModel.imageConsultation.contenu\" height=\"300px\"></v-img>\n\n                                    <v-card-subtitle>\n                                        <v-text-field color=\"teal\" v-model=\"produitLogementModel.imageConsultation.designation\" label=\"designation\" :disabled=\"produitLogementModel.imageConsultation.contenu == null\"></v-text-field>\n                                    </v-card-subtitle>\n                                    \n                                </v-card>\n                            </v-container>\n                        </v-expansion-panel-content>\n                    </v-expansion-panel>\n                </v-expansion-panels>\n\n                <br>\n\n                <v-expansion-panels>\n                    <v-expansion-panel>\n                        <v-expansion-panel-header>\n                            <v-row>\n                                <span class=\"section\"><v-icon>mdi-chevron-right</v-icon>AUTRES IMAGES</span> \n                            </v-row>\n                        </v-expansion-panel-header>\n                        <v-expansion-panel-content>\n                            <v-spacer></v-spacer>\n                            <v-btn text color=\"primary\"><v-icon>mdi-upload</v-icon><input @change=\"previewMultiImage\" type=\"file\" accept=\"image/*\" multiple=\"multiple\" id=\"myFile\">AJOUTER DES IMAGES</v-btn>\n                            <v-container>\n                                <template v-if=\"produitLogementModel.imagesList.length\">\n                                    <v-container>\n                                        <v-row>\n                                            <v-col cols=\"4\" v-for=\"(image , i) in produitLogementModel.imagesList\" :key=\"i\">\n                                                <v-card class=\"mx-auto\" max-width=\"800\">\n                                                    <v-spacer></v-spacer>\n                                                    <v-btn icon color=\"grey\" @click=\"deleteImageList(i)\"><v-icon>mdi-close</v-icon></v-btn>\n\n                                                    <v-img :src=\"image.contenu\" height=\"200px\"></v-img>\n                                    \n                                                    <v-card-subtitle>\n                                                        <v-text-field v-model=\"image.designation\" label=\"designation\" :disabled=\"image.contenu == null\"></v-text-field>\n                                                    </v-card-subtitle>\n                                                </v-card>\n                                            </v-col>\n                                        </v-row>\n                                    </v-container>\n                                </template>\n                                \n                                \n                            </v-container>\n                        </v-expansion-panel-content>\n                    </v-expansion-panel>\n                </v-expansion-panels>\n\n                <br>\n\n                <v-expansion-panels>\n                    <v-expansion-panel>\n                        <v-expansion-panel-header>\n                            <v-row>\n                                <span class=\"section\"><v-icon>mdi-chevron-right</v-icon>VIDEOS</span> \n                            </v-row>\n                        </v-expansion-panel-header>\n                        <v-expansion-panel-content>\n                            <v-spacer></v-spacer>\n                            <v-btn text color=\"primary\"><v-icon>mdi-upload</v-icon><input type=\"file\" accept=\"video/*\" multiple=\"multiple\" @change=\"previewMultiVideo\" id=\"myVideoFile\">AJOUTER UNE VIDEO</v-btn>\n                            <v-container>\n                                <template v-if=\"produitLogementModel.videosList.length\">\n                                    <v-container>\n                                        <v-row>\n                                            <v-col cols=\"6\" v-for=\"(video , v) in produitLogementModel.videosList\" :key=\"v\">\n                                                <v-card class=\"mx-auto\" max-width=\"800\">\n                                                    <v-spacer></v-spacer>\n                                                    <v-btn icon color=\"grey\" @click=\"deleteVideoList(v)\"><v-icon>mdi-close</v-icon></v-btn>\n                                                    \n                                                    <v-card-subtitle>\n                                                        <v-text-field v-model=\"video.designation\" label=\"designation\" :disabled=\"video.contenu == null\"></v-text-field>\n                                                    </v-card-subtitle>\n                                                    <video :src=\"video.contenu\" controls width=\"450\" height=\"250\" autoplay loop preload=\"metadata\"></video>\n                                                </v-card>\n                                            </v-col>\n                                        </v-row>\n                                    </v-container>\n                                </template>\n                                \n                                \n                            </v-container>\n                        </v-expansion-panel-content>\n                    </v-expansion-panel>\n                </v-expansion-panels>\n\n            </v-card>\n\n            <p></p>\n\n            <br>\n\n            <v-row>\n\n                <v-col cols=\"5\"><v-btn type=\"button\" text>REINITIALISER</v-btn></v-col>\n\n                <v-col cols=\"\"><v-btn type=\"submit\" textn color=\"primary\"><v-icon>mdi-check</v-icon> CREER</v-btn></v-col>\n\n            </v-row>\n\n            \n\n        </v-form>\n\n        <v-alert class=\"myalert alert-success\" type=\"success\" width=\"350px\" dismissible>{{ successMsg }}</v-alert>\n        <v-alert class=\"myalert alert-warning\" type=\"warning\" width=\"350px\" dismissible>{{ warningMsg }}</v-alert>\n        <v-alert class=\"myalert alert-error\" type=\"error\" width=\"350px\" dismissible>{{ errorMsg }}</v-alert>\n        <v-overlay :value=\"overlay\"><v-progress-circular indeterminate size=\"64\"></v-progress-circular></v-overlay>\n \n    </v-app>\n\n</template>\n\n<script>\nimport { required, minLength, maxLength , numeric  } from \"vuelidate/lib/validators\";\nimport { API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER , API_OBTENIR_LISTE_PROPRIETES , API_OBTENIR_LISTE_VILLES , API_MODIFIER_CONTENU_IMAGE_CONSULTATION } from '../globalConfig/globalConfig';\nimport { API_OBTENIR_FORMATS_DOCUMENTS , API_REFERENCES_PAR_FAMILLE , API_CREER_PRODUIT_LOGEMENT , API_MODIFIER_METADATAS_IMAGE_CONSULTATION } from '../globalConfig/globalConfig';\nimport { API_OBTENIR_IMAGE_CONSULTATION , API_OBTENIR_METADATAS_DOCUMENT , API_OBTENIR_CONTENU_DOCUMENT , API_AJOUTER_DOCUMENT , API_MODIFIER_PRODUIT_LOGEMENT  } from '../globalConfig/globalConfig';\nimport axios from 'axios';\nimport $ from 'jquery';\n    export default {\n        name: 'CreerModifierProduitLogement',\n        data(){\n            return{\n                programmeImmobilierList:[],\n                caracteristiqueObligatoireList: [],\n                caracteristiqueUsuelleList: [],\n                caracteristiqueOptionelleList: [],\n                villesList:[],\n                formatsList:[],\n                referenceList:[],\n                caracteristiqueLogementNonDefinies : [] ,\n\n                etatImageConsultation:{\n                    designation : null,\n                    description : null,\n                    contenu : null\n                },\n\n\n                successMsg : null ,\n                errorMsg : null ,\n                warningMsg : null,\n                overlay: false,\n\n\n\n                produitLogementModel: {\n                    produitLogement: {\n                        id: null,\n                        designation: null,\n                        description: null,\n                        code: null,\n                        programmeImmobilier: {  \n                            id: null,\n                            version: null,\n                        },\n                        caracteristiqueProduitLogementList: [],\n                        version: null,\n                        estValide: null,\n                        estActive : null,\n                        prix : null\n                    },\n                    imagesList : [],\n                    videosList : [],\n                    imageConsultation: {\n                        id: null,\n                        designation: null,\n                        description: null,\n                        contenu: null,\n                        format: {\n                            id: null,\n                            version: null,\n                        },\n                        typeDocument:{\n                            id: \"ref.element.typeValeur.imageConsultation\"\n                        },\n                        version : null\n                    },\n                },\n\n                documentTransfertModel : {\n                    document : {\n                        id : null ,\n                        designation : null ,\n                        description : null ,\n                        contenu : null ,\n                        path : null ,\n                        format : {\n                            id: null,\n                            version: null,\n                        },\n                        typeDocument:{\n                            id: null\n                        },\n                    },\n                    entityName : \"ref.element.type.produitLogement\",\n                    entityId : null\n                },\n            }\n        },\n\n        validations: {\n\n            produitLogementModel: {\n\n                produitLogement: {\n                    designation: {\n                        required,\n                        minLength: minLength(4),\n                        maxLength: maxLength(50),\n                    },\n                    description: {\n                        required,\n                        minLength: minLength(6),\n                        maxLength: maxLength(650),\n                    },\n                    programmeImmobilier:{\n                        id:{\n                            required,\n                        }\n                    },\n                    code: {\n                        required,\n                        minLength: minLength(4),\n                        maxLength: maxLength(20),\n                    },\n                    prix : {\n                        required,\n                        numeric\n                    }\n                },\n            },\n\n            caracteristiqueObligatoireList:{\n                required , \n                $each : {\n                    valeurTexte : {\n                        required\n                    }\n                }\n            }\n        },\n\n        methods : {\n\n            //Envoie des caractristiques seulement renseigns vers le middleware\n            sendCaracteristiqueDefinies() {\n                var contains = [];\n                this.produitLogementModel.produitLogement.caracteristiqueProduitLogementList.forEach(element => {\n                    if (element.valeurTexte !== null && element.valeurTexte !== \"false\") {\n                        contains.push(element)\n                    }\n                });\n                this.produitLogementModel.produitLogement.caracteristiqueProduitLogementList = contains;\n            },\n\n\n            // DEFINIR LES CARACTERISTIQUES PRODUIT LOGEMENT NON DEFINIS\n            transfertCaracteristiqNonDefini(){\n                this.caracteristiqueLogementNonDefinies = this.isValeurCaracteristiqueNonDefinis;\n\n                if (this.caracteristiqueLogementNonDefinies.length > 0 ) {\n                    for (let i = 0; i < this.caracteristiqueLogementNonDefinies.length; i++) {\n                        if (this.caracteristiqueLogementNonDefinies[i].valeurTexte == \"valeur.nonDefinie\") {\n                            this.produitLogementModel.produitLogement.caracteristiqueProduitLogementList.push(this.caracteristiqueLogementNonDefinies[i]) \n                        }\n                    }\n                }\n            },\n\n\n\n            // APPEL DU SERVICE WEB PERMETTANT LA CREATION D'UN PRODUIT PRODUIT LOGEMENT\n\n            async actionCreationProduitLogement(produitLogement){\n                this.overlay = true\n                await axios.post(API_CREER_PRODUIT_LOGEMENT, produitLogement).then((response) => {\n                    if (response.status == 200) { \n                        this.successMsg = \"Cration du produit logement effectu\"\n                        $(\".alert-success\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-success\").fadeOut(); \n                        }, 4000)\n\n                    } else{\n\n                        this.errorMsg = \"Erreur dans la cration du produit logement\"\n                        $(\".alert-error\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-error\").fadeOut(); \n                        }, 4000)\n\n                        if (response.data.messages != null) {\n                            for (var i = 0; i < response.data.messages.length; i++) {\n                                this.messageList.push(response.data.messages[i].status + \",\" + response.data.messages[i].message);\n                            }\n                        }\n                    }\n\n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                }).finally(() => {\n                    this.overlay = false\n                })\n            },\n\n            \n\n            // ACTION DE MODIFICATION DE PRODUIT LOGEMENT\n\n            async actionModifierProduitLogement(produitLogement){\n                this.overlay = true\n                await axios.put(API_MODIFIER_PRODUIT_LOGEMENT, produitLogement).then((response) => {\n                    if (response.status == 200) {\n                        this.successMsg = \"Produit Logement modifi avec succs\"\n                        $(\".alert-success\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-success\").fadeOut(); \n                        }, 4000)\n                    } \n                    else{\n                        this.errorMsg = \"Erreur dans la modification du produit logement\"\n                        $(\".alert-error\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-error\").fadeOut(); \n                        }, 4000)\n                    }\n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                }).finally(() => {\n                    this.overlay = false\n                })\n            },\n\n\n\n            //AJOUT DE NOUVELLES IMAGES LORS DE LA MODIFICATION D'UN PRODUIT LOGEMENT \n\n            async ajouterImagesListProduitLogement(imagesList){\n                if (imagesList.length != 0) {\n                    imagesList.forEach(element => {\n                        if (element.id == null) {\n                            if (this.produitLogementModel.produitLogement.id != null) {\n\n                                this.documentTransfertModel.document.designation = element.designation;\n                                this.documentTransfertModel.document.description = element.description;\n                                this.documentTransfertModel.document.contenu = element.contenu;\n                                this.documentTransfertModel.document.format.id = element.format.id;\n                                this.documentTransfertModel.document.typeDocument.id = element.typeDocument.id;\n                                this.documentTransfertModel.entityId = this.produitLogementModel.produitLogement.id;\n                                this.ajouterDocumentMedia(this.documentTransfertModel)\n                            }\n                        }\n                    });\n                }\n            },\n\n\n\n            // ENVOI DU FORMULAIRE DE CREATION OU MODIFICATION DE PRODUIT LOGEMENT VERS LE MIDDLEWARE\n\n            async creerModifierProduitLogement() {\n                this.transfertCaracteristiqNonDefini();\n                this.sendCaracteristiqueDefinies();\n                if (this.isCreation) {\n                    this.actionCreationProduitLogement(this.produitLogementModel);\n                }else {\n                    this.actionModifierProduitLogement(this.produitLogementModel);\n                    this.modifierImageConsultation();\n                    this.modificationImagesList();\n                    this.modificationVideosList();\n\n                }\n\n            },\n\n\n\n\n            // AJOUT DE DOCUMENT (VIDEOS ET IMAGES)\n\n            async ajouterDocumentMedia(documentMedia){\n                await axios.post(API_AJOUTER_DOCUMENT , documentMedia ).then((response) => {\n                    if (response.data.data == true) {\n                        this.successMsg = \"NOUVELLE IMAGE CREE AVEC SUCCES\"\n                        $(\".alert-success\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-success\").fadeOut(); \n                        }, 4000)\n                    } \n                    else{\n                        this.errorMsg = \"IMPOSSIBLE D'AJOUTER UNE IMAGE\"\n                        $(\".alert-error\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-error\").fadeOut(); \n                        }, 4000)\n                    }\n                })\n            },\n\n\n\n            // MODIFICATION DES IMAGES LIST DANS \n            /*modificationImagesList(){\n\n      if(this.produitLogementModel.imagesList.length > 0){\n\n        for (let i = 0; i < this.produitLogementModel.imagesList.length; i++) {\n\n          for (let j = 0; j < this.previewStateImagesList.length; j++) {\n\n            if (this.produitLogementModel.imagesList[i].id == this.previewStateImagesList[j].id) {\n\n              if ((this.produitLogementModel.imagesList[i].designation != this.previewStateImagesList[j].designation \n                  || this.produitLogementModel.imagesList[i].description != this.previewStateImagesList[j].description)\n                  \n                  && this.produitLogementModel.imagesList[i].contenu != this.previewStateImagesList[j].contenu) {\n\n                  this.$isLoading(true)\n                \n                  axios\n\n                  .put(API_MODIFIER_METADATAS_DOCUMENT, this.produitLogementModel.imagesList[i])\n\n                  .then((response) => {\n                    \n                    if (response.status == 200) {\n\n                      this.produitLogementModel.imagesList[i].version = response.data.data.version\n\n                      axios\n\n                      .put(API_MODIFIER_CONTENU_DOCUMENT, this.produitLogementModel.imagesList[i])\n\n                      .then((response) => {\n\n                        if (response.status == 200) {\n\n                          this.successMsg = \"Modification du contenu et des mtadatas ffectue\"\n\n                          $(\".myAlert-top\").fadeIn();\n\n                          setTimeout(function(){\n\n                            $(\".myAlert-top\").fadeOut(); \n\n                          }, 4000)\n                          \n                        }\n\n                      })\n\n                      .catch((e) => {\n\n                        this.errorMsg = e\n\n                        $(\".myAlert-bottom\").fadeIn();\n\n                        setTimeout(function(){\n\n                          $(\".myAlert-bottom\").fadeOut(); \n\n                        }, 4000)\n\n                      })\n                      \n                    }\n\n                  })\n\n                  .catch((e) => {\n\n                    this.errorMsg = e\n\n                    $(\".myAlert-bottom\").fadeIn();\n\n                    setTimeout(function(){\n\n                      $(\".myAlert-bottom\").fadeOut(); \n\n                    }, 4000)\n\n                  })\n\n                  .finally(() => {\n\n                    this.$isLoading(false) // hide the loading screen\n                        \n                  })\n\n              }\n\n              else if (this.produitLogementModel.imagesList[i].designation != this.previewStateImagesList[j].designation\n                        || this.produitLogementModel.imagesList[i].description != this.previewStateImagesList[j].description){\n\n                  this.$isLoading(true)\n\n                  axios\n\n                  .put(API_MODIFIER_METADATAS_DOCUMENT, this.produitLogementModel.imagesList[i])\n\n                  .then((response) => {\n\n                    if (response.status == 200) {\n\n                      this.errorMsg = \"Modification des metadatas effectue\"\n\n                      $(\".myAlert-top\").fadeIn();\n\n                      setTimeout(function(){\n\n                        $(\".myAlert-top\").fadeOut(); \n\n                      }, 4000)\n                      \n                    }\n\n                  })\n\n                  .catch((e) => {\n\n                    this.errorMsg = e\n\n                    $(\".myAlert-bottom\").fadeIn();\n\n                    setTimeout(function(){\n\n                      $(\".myAlert-bottom\").fadeOut(); \n\n                    }, 4000)\n\n                  })\n\n                  .finally(() => {\n\n                    this.$isLoading(false) // hide the loading screen\n                        \n                  })\n                \n              }\n\n              else if (this.produitLogementModel.imagesList[i].contenu != this.previewStateImagesList[j].contenu){\n\n                  this.$isLoading(true)\n\n                  axios\n\n                  .put(API_MODIFIER_CONTENU_DOCUMENT, this.produitLogementModel.imagesList[i])\n\n                  .then((response) => {\n\n                    if (response.status == 200) {\n\n                      this.successMsg = \"IMAGE MODIFIE AVEC SUCCS\"\n\n                      $(\".myAlert-top\").fadeIn();\n\n                      setTimeout(function(){\n\n                        $(\".myAlert-top\").fadeOut(); \n\n                      }, 4000)\n                      \n                    }\n\n                  })\n\n                  .catch((e) => {\n\n                    this.errorMsg = e\n\n                    $(\".myAlert-bottom\").fadeIn();\n\n                    setTimeout(function(){\n\n                      $(\".myAlert-bottom\").fadeOut(); \n\n                    }, 4000)\n\n                  })\n\n                  .finally(() => {\n\n                    this.$isLoading(false) // hide the loading screen\n                        \n                  })\n\n              }\n\n            }\n            \n          }\n\n        }\n\n        this.ajouterNewImagesList()\n\n      }\n\n    },*/\n\n\n            // SERVICE WEB POUR L'AJOUT D'UN DOCUMENT (IMAGE DE CONSULTATION)\n\n            async ajouterDocumentImageConsultation(documentImageConsultation){\n                await axios.post(API_AJOUTER_DOCUMENT,documentImageConsultation).then((response) => {\n                    if (response.data.data == true) {  \n                        this.successMsg = \"Nouvelle Image de consultation ajoute\"\n                        $(\".alert-success\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-success\").fadeOut(); \n                        }, 4000)\n                    }else {\n                        this.errorMsg = \"Impossible d'ajouter une image\"\n                        $(\".alert-error\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-error\").fadeOut(); \n                        }, 4000)\n                    }\n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                })\n            },\n\n\n            //MODIFICATION DU CONTENU D'UNE IMAGE DE CONSULTATION EN MODIFICATION \n\n            async modifierContenuImageConsultation(imageConsultation){\n                await axios.put(API_MODIFIER_CONTENU_IMAGE_CONSULTATION,imageConsultation).then((response) => {\n\n                    if (response.status == 200) {\n                        this.successMsg = \"Modification du contenu\"\n                        $(\".alert-succes\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-succes\").fadeOut(); \n                        }, 4000)\n                    }else if (response.status == 204){\n                        this.errorMsg = \"Pas de contenu\"\n                        $(\".alert-error\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-error\").fadeOut(); \n                        }, 4000)\n                    }else{\n                        this.errorMsg = \"Modification Impossible\"\n                        $(\".alert-error\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-error\").fadeOut(); \n                        }, 4000)\n                    }\n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n\n                })\n            },\n\n\n            //MODIFICATION DES METADATAS D'UNE IMAGE DE CONSULTATION EN MODIFICATION \n\n            async modifierMetadatasImageConsultation(imageConsultation){\n                await axios.put(API_MODIFIER_METADATAS_IMAGE_CONSULTATION,imageConsultation).then((response) => {\n\n                    if (response.status == 200) {\n                        this.successMsg = \"Modification ffectue\"\n                        $(\".alert-succes\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-succes\").fadeOut(); \n                        }, 4000)\n                    }else{\n                        this.errorMsg = \"Modification Impossible\"\n                        $(\".alert-error\").fadeIn();\n                        setTimeout(function(){\n                            $(\".alert-error\").fadeOut(); \n                        }, 4000)\n                    }\n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n\n                })\n            },\n\n\n\n\n            //MODIFIER LES METADATAS ET / OU LE CONTENU D'UNE IMAGE DE CONSULTATION\n\n            modifierImageConsultation(){\n\n                if(this.produitLogementModel.imageConsultation != null){\n\n                    this.ajouterNouvelleImageConsultation();\n                    if(this.produitLogementModel.imageConsultation.id != null && this.produitLogementModel.imageConsultation.version != null){\n                        var variable = this.returnEtatImageConsultation();\n\n                        if (variable.contenu != this.produitLogementModel.imageConsultation.contenu) {\n                            this.modifierContenuImageConsultation(this.produitLogementModel.imageConsultation)\n                        }\n\n                        if (variable.designation != this.produitLogementModel.imageConsultation.designation || variable.description != this.produitLogementModel.imageConsultation.description){\n                            this.modifierMetadatasImageConsultation(this.produitLogementModel.imageConsultation)\n                        }\n\n                        if ((variable.designation != this.produitLogementModel.imageConsultation.designation || variable.description != this.produitLogementModel.imageConsultation.description)\n                            && variable.contenu != this.produitLogementModel.contenu) {\n                            //@TODO : //MODIFICATION DE LA VERSION APRES LA MODIFICATION DES METADATAS(VOIR MMC_WEB)\n                            this.modifierMetadatasImageConsultation(this.produitLogementModel.imageConsultation);\n                            this.modifierContenuImageConsultation(this.produitLogementModel.imageConsultation)\n                        }\n                    }\n                }\n            },\n\n\n\n\n\n            // AJOUTER UNE NOUVELLE DE CONSULATION EN CAS DE MODIFICATION D'UN PRODUIT LOGEMENT\n\n            ajouterNouvelleImageConsultation(){\n\n                if(this.produitLogementModel.imageConsultation.id == null){\n\n                    if (this.produitLogementModel.produitLogement.id != null && this.produitLogementModel.produitLogement.version != null) {\n\n                        this.documentTransfertModel.document.designation = this.produitLogementModel.imageConsultation.designation\n                        this.documentTransfertModel.document.description = this.produitLogementModel.imageConsultation.description\n                        this.documentTransfertModel.document.contenu = this.produitLogementModel.imageConsultation.contenu\n                        this.documentTransfertModel.document.format.id = this.produitLogementModel.imageConsultation.format.id\n                        this.documentTransfertModel.document.typeDocument.id = this.produitLogementModel.imageConsultation.typeDocument.id\n                        this.documentTransfertModel.entityId = this.produitLogementModel.produitLogement.id\n\n                        if (this.documentTransfertModel.document.contenu != null) {\n                            this.ajouterDocumentImageConsultation(this.documentTransfertModel)\n                        }\n                    }\n                }\n            },\n\n\n\n\n            // SOUMISSION DU FORMULAIRE\n\n            submitForm() {\n\n                this.$v.$touch();\n                if (this.$v.produitLogementModel.$invalid) {\n                    this.errorMsg = \"Enregistrement Echou\"\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                }\n                else if(this.$v.caracteristiqueObligatoireList.$invalid){\n\n                    this.errorMsg = \"Toutes les caractristiques obligatoires doivent tre renseignes\"\n\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                }\n                else{\n                    this.creerModifierProduitLogement();\n                }        \n            },\n\n\n            \n            // Methodes permettant de choisir une listes de videos\n\n            previewMultiVideo: function(event) {\n\n                var myFile = document.getElementById('myVideoFile')\n                var extension = myFile.value.split('.')[1]\n\n                var input = event.target;\n                var count = input.files.length;\n                var index = 0;\n\n                var video = {\n                    id : null , \n                    designation : null , \n                    description : null , \n                    contenu : null ,\n                    format : {\n                        id : null , \n                        version : null\n                    },\n                    typeDocument:{\n                        id: \"ref.element.typeValeur.video\"\n                    },\n                    version : null\n                };\n\n                for (let i = 0; i < this.formatsList.length; i++) {\n                    if (extension == this.formatsList[i].designation) {\n                        video.format.id = this.formatsList[i].id\n                    }\n                }\n                video.designation = this.getFile(myFile.value)\n\n                if (input.files) {\n\n                    while(count --) {\n                        var reader = new FileReader();\n                        reader.onload = (e) => {\n                            video.contenu = e.target.result\n                            this.produitLogementModel.videosList.push(video);\n                            this.previewVideosList.push(e.target.result)\n                        }\n                        reader.readAsDataURL(input.files[index]);\n                        index ++;\n                    }\n                }\n            },\n\n\n\n            //FONCTION PERMETTANT LA SELECTION DE PLUSIEURS IMAGES \n\n            previewMultiImage: function(event) {\n                var myFile = document.getElementById('myFile')\n                var extension = myFile.value.split('.')[1]\n                var input = event.target;\n                var count = input.files.length;\n                var index = 0;\n\n                var image = {\n                    id : null , \n                    designation : null , \n                    description : null , \n                    contenu : null ,\n                    format : {\n                        id : null , \n                        version : null\n                    },\n                    typeDocument:{\n                        id: \"ref.element.typeValeur.image\"\n                    },\n                    version : null\n                };\n\n                this.formatsList.forEach(element => {\n                if (extension == element.designation) {\n                        image.format.id = element.id\n                    } \n                });\n\n                image.designation = this.getFile(myFile.value)\n\n                if (input.files) {\n\n                    while(count --) {\n\n                    var reader = new FileReader();\n\n                    reader.onload = (e) => {\n                        image.contenu = e.target.result\n                        this.produitLogementModel.imagesList.push(image);\n                    }\n                    reader.readAsDataURL(input.files[index]);\n                    index ++;\n\n                    }\n                }\n            },\n\n            //SUPPRIMER IMAGES LIST\n\n            deleteImageList(position){\n                this.produitLogementModel.imagesList.splice(position , 1);\n            },\n\n            deleteVideoList(position){\n                this.produitLogementModel.videosList.splice(position , 1);\n            },\n\n            //SUPPRIMER UNE IMAGE DE CONSULTATION\n\n            deleteImageConsultation(imageConsultation){\n                if (this.isCreation){\n                    imageConsultation.contenu = null\n                    imageConsultation.designation = null\n                    imageConsultation.description = null\n                }\n\n                /*this.$swal.fire({ title: 'Confirmer ?', text: \"Cette action est irrversible\", icon: 'warning',\n\n                    showCancelButton: true, confirmButtonColor: '#3085d6',  cancelButtonColor: '#d33', cancelButtonText: 'Annuler', confirmButtonText: 'Oui ,supprimer!'\n        \n                }).then((result) => {\n\n                    if (result.isConfirmed) {\n                        axios.delete(API_SUPPRIMER_DOCUMENT+this.produitLogementModel.imageConsultation.id).then((response) => {\n                            if (response.status == 200) {   \n                                this.$swal.fire('Supprim!','Image de consultation supprime avec succs.','success')\n                                this.produitLogementModel.imageConsultation.contenu = null\n                                this.produitLogementModel.imageConsultation.designation = null\n                                this.produitLogementModel.imageConsultation.designation = null\n\n                            }\n\n                        }).catch((e) => {\n                            this.$swal.fire({ icon: 'error',  title: 'Erreur...',text: e })\n                        })\n                    }\n                }).catch((e) => {\n                    this.$swal.fire({ icon: 'error', title: 'Erreur...',  text: e })\n                })*/\n\n            },\n\n\n            // fonction permettant de recuperer le format du document (images ou videos)\n\n            getFile(filePath) {\n                return filePath.substr(filePath.lastIndexOf('\\\\') + 1).split('.')[0];\n            },\n\n            //SELECTION DES DOCUMENTS (IMAGE DE CONSULATION , IMAGE LIST)\n\n            pickFile () {\n\n                let input = this.$refs.fileInput\n                let file = input.files\n                var inputFile = document.getElementById('inputFile')\n                var extension = inputFile.value.split('.')[1]\n                this.produitLogementModel.imageConsultation.designation = this.getFile(inputFile.value);\n\n                for (let i = 0; i < this.formatsList.length; i++) {\n                    if (extension == this.formatsList[i].designation) {\n                        this.produitLogementModel.imageConsultation.format.id = this.formatsList[i].id\n                    }\n                }\n\n                if (file && file[0]) {\n                    let reader = new FileReader\n                    reader.onload = e => {\n                        this.produitLogementModel.imageConsultation.contenu = e.target.result\n                    }\n\n                    reader.readAsDataURL(file[0])\n                    this.$emit('input', file[0])\n                }\n            },\n\n            selectImage(){\n                this.$refs.fileInput.click()\n            },\n\n\n            getIntegerList(item) {\n                var min = item.proprieteProduitLogement.minValueIntegerFiltre;\n                var max = item.proprieteProduitLogement.maxValueIntegerFiltre;\n                var containerList = [];\n\n                for (var i = min; i <= max; i++) {\n                    var valeur = {\n                        index : null\n                    }\n                    valeur.index = i.toString() ;\n                    containerList.push(valeur);\n                }\n                return containerList;\n            },\n\n            \n            //RECUPERER LA LISTE DES REFERENCES TYPE LOGEMENT\n            async getReferenceTypeLogement() {\n                await axios.get(API_REFERENCES_PAR_FAMILLE(\"familleTypeLogement\")).then((response) => {\n                    this.referenceList = response.data.data;\n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                });\n            },\n\n\n            // RECUPERER LA LISTE DES FORMATS DE DOCUMENTS DEPUIS LE MIDDLEWARE\n\n            async getFormatsList(){\n                await axios.get(API_OBTENIR_FORMATS_DOCUMENTS).then((response) => {\n                    this.formatsList = response.data.data;\n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\"alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\"alert-error\").fadeOut(); \n                    }, 4000)\n                });\n            },\n\n            // DEPUIS LE MIDDLEWARE RECUPERER LA LISTE DES VILLES\n\n            async getVillesList() {\n                await axios.get(API_OBTENIR_LISTE_VILLES).then((response) => {\n                    this.villesList = response.data.data;\n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                });\n            },\n\n            // RECUPERER DEPUIS LE MIDDLEWARE LA LISTE DES PROPRITS PRODUITS LOGEMENT POUR LA CREATION DES CRARCTERISTIQUES DU PRODUIT LOGEMENT\n\n            async serviceWebGetProprieteProduitLogementList() {\n\n                try {\n                    const resultats = await axios.get(API_OBTENIR_LISTE_PROPRIETES);\n\n                    for (var i = 0; i < resultats.data.data.length; i++) {\n\n                        var caracteristiq = {\n                            proprieteProduitLogement: {},\n                            valeurTexte: null,\n                        };\n\n                        caracteristiq.proprieteProduitLogement = resultats.data.data[i];\n                        this.produitLogementModel.produitLogement.caracteristiqueProduitLogementList.push(caracteristiq);\n\n                        if (resultats.data.data[i].estObligatoire == true) {\n                            this.caracteristiqueObligatoireList.push(caracteristiq);\n                        } else if (resultats.data.data[i].estObligatoire == false && resultats.data.data[i].estUsuelleFiltre == true) {\n                            this.caracteristiqueUsuelleList.push(caracteristiq);\n                        } else{\n                            this.caracteristiqueOptionelleList.push(caracteristiq);\n                        }\n                    }\n\n                }catch (e) {\n                    this.errorMsg = e\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                }\n            },\n\n\n\n\n            async serviceWebGetProprieteProduitLogementList2() {\n\n                try {\n                    const resultats = await axios.get(API_OBTENIR_LISTE_PROPRIETES);\n\n                    for (var i = 0; i < resultats.data.data.length; i++) {\n                        var caracteristiq = {\n                            proprieteProduitLogement: {},\n                            valeurTexte: null,\n                        };\n\n                        caracteristiq.proprieteProduitLogement = resultats.data.data[i];\n                        this.produitLogementModel.produitLogement.caracteristiqueProduitLogementList.push(caracteristiq);\n\n                        if (resultats.data.data[i].type.id == 'ref.element.typeValeur.integer') {\n                            this.caracteristiqueLogementNonDefinies.push(caracteristiq);\n                        }\n\n                        if (resultats.data.data[i].type.id == 'ref.element.typeValeur.double') {\n                            this.caracteristiqueLogementNonDefinies.push(caracteristiq);\n                        }\n                    }\n                } catch (e) {\n                    this.errorMsg = e\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                }\n            },\n\n\n\n            //OBTENIR LA LISTE DES PROGRAMMES IMMOBILIERS\n\n            async getProgrammeImmobilierList() {\n                await axios.get(API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER).then((response) => {\n                    this.programmeImmobilierList = response.data.data;\n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                });\n            },\n\n\n\n            // RECUPERER L'ETAT DE L'IMAGE DE CONSULATION EN MODIFICATION\n\n            returnEtatImageConsultation(){\n                return this.etatImageConsultation\n            },\n\n\n            \n            // RECUPERER IMAGE DE CONSULTATION D'UN PRODUIT LOGEMENT\n\n            async recupererImageConsultation(produitLogement){\n\n                await axios.get(API_OBTENIR_IMAGE_CONSULTATION(produitLogement.id , \"ref.element.typeValeur.imageConsultation\"))\n                .then((response) => {\n                    if(response.data == \"\") {\n                        return\n                    }\n                    else if(response.data != \"\"){\n                        this.produitLogementModel.imageConsultation = response.data.data;\n                        this.etatImageConsultation.designation = response.data.data.designation;\n                        this.etatImageConsultation.contenu = response.data.data.contenu;\n                    }\n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                    $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                });\n            },\n\n\n\n            //RECUPERATION DES METADATAS ET DES CONTENUS DES DOCUMENTS IMAGESLIST\n\n            recupererMetadatasEtContenuDocumentImage(produitLogement){\n\n                axios.get(API_OBTENIR_METADATAS_DOCUMENT(produitLogement.id , \"ref.element.typeValeur.image\"))\n                .then((response)=>{\n\n                    if (response.data.data.length == 0) {\n                        this.produitLogementModel.imagesList = []\n                    }else{\n                        this.produitLogementModel.imagesList = response.data.data\n                    }\n\n\n                    if (this.produitLogementModel.imagesList.length != 0) {\n                        this.produitLogementModel.imagesList.forEach(element => {\n                            axios.get(API_OBTENIR_CONTENU_DOCUMENT(element.id)).then((result) => {\n                                if (result.data.data != null) {\n                                    element.contenu = result.data.data\n                                }\n                            }).catch((e) => {\n                                this.errorMsg = e\n                                $(\".alert-error\").fadeIn();\n                                setTimeout(function(){\n                                    $(\".alert-error\").fadeOut(); \n                                }, 4000)\n                            })\n                        });\n                    }\n                    \n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\".alert-error\").fadeIn();\n\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                })\n            },\n\n\n\n            // RECUPERATION DES METADATAS ET DES DOCUMENTS VIDEOSLIST\n\n            async recupererMetadatasEtContenuDocumentVideo(produitLogement){\n\n                await axios.get(API_OBTENIR_METADATAS_DOCUMENT(produitLogement.id , \"ref.element.typeValeur.video\"))\n                .then((response)=>{\n\n                    if (response.data.data.length == 0 || response.data.data != null) {\n                        this.produitLogementModel.videosList = response.data.data\n                    }\n\n                    if (this.produitLogementModel.videosList.length != 0) {\n                        this.produitLogementModel.videosList.forEach(element => {\n                            axios.get(API_OBTENIR_CONTENU_DOCUMENT(element.id)).then((result) => {\n                                if (result.status == 200) {\n                                    element.contenu = result.data.data\n                                }\n                            }).catch((e) => {\n                                this.errorMsg = e\n                                $(\".alert-error\").fadeIn();\n                                setTimeout(function(){\n                                    $(\".alert-error\").fadeOut(); \n                                }, 4000)\n                            })\n                        });\n                    }\n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\".alert-error\").fadeIn();\n                    setTimeout(function(){\n                        $(\".alert-error\").fadeOut(); \n                    }, 4000)\n                })\n            },\n\n\n\n\n            // MODIFICATION D'UN PRODUIT LOGEMENT\n\n            editingProduitLogementMode(){\n\n                if (localStorage.getItem(\"product\")) {\n\n                    try {\n                        const produitLogementSelected = JSON.parse(localStorage.getItem(\"product\"));\n                        const produitLogementSelectedCaracteristiqueList = produitLogementSelected.caracteristiqueProduitLogementList;\n                        this.produitLogementModel.produitLogement.id = produitLogementSelected.id;\n                        this.produitLogementModel.produitLogement.designation = produitLogementSelected.designation;\n                        this.produitLogementModel.produitLogement.description = produitLogementSelected.description;\n                        this.produitLogementModel.produitLogement.code = produitLogementSelected.code;\n                        this.produitLogementModel.produitLogement.programmeImmobilier = produitLogementSelected.programmeImmobilier;\n                        this.produitLogementModel.produitLogement.estActive = produitLogementSelected.estActive;\n                        this.produitLogementModel.produitLogement.estValide = produitLogementSelected.estValide;\n                        this.produitLogementModel.produitLogement.prix = produitLogementSelected.prix\n                        this.produitLogementModel.produitLogement.version = produitLogementSelected.version;\n\n                        axios.get(API_OBTENIR_LISTE_PROPRIETES).then((response) => {\n\n                            response.data.data.forEach(element => {\n                                var caracteristiq = {\n                                    id: null,\n                                    proprieteProduitLogement: {},\n                                    valeurTexte: null,\n                                    version: null,\n                                };\n                                caracteristiq.proprieteProduitLogement = element ;\n                                this.produitLogementModel.produitLogement.caracteristiqueProduitLogementList.push(caracteristiq);\n\n                                produitLogementSelectedCaracteristiqueList.forEach(item => {\n                                    if (caracteristiq.proprieteProduitLogement.id == item.proprieteProduitLogement.id) {\n                                        caracteristiq = item ;\n                                    }\n                                });\n\n                                if (caracteristiq.proprieteProduitLogement.estObligatoire == true){\n                                    this.caracteristiqueObligatoireList.push(caracteristiq);\n                                }\n\n                                if(caracteristiq.proprieteProduitLogement.estObligatoire == false && caracteristiq.proprieteProduitLogement.estUsuelleFiltre == true){\n                                    this.caracteristiqueUsuelleList.push(caracteristiq);\n                                }\n\n                                if (caracteristiq.proprieteProduitLogement.type.id == 'ref.element.typeValeur.integer'){\n                                    this.caracteristiqueLogementNonDefinies.push(caracteristiq);\n                                }\n\n\n                                if(caracteristiq.proprieteProduitLogement.type.id == 'ref.element.typeValeur.double'){\n                                    this.caracteristiqueLogementNonDefinies.push(caracteristiq);\n                                } \n\n                                if(caracteristiq.valeurTexte == 'valeur.nonDefinie'){\n                                    this.caracteristiqueLogementNonDefinies.push(caracteristiq)\n                                }\n\n                                else{\n                                    this.caracteristiqueOptionelleList.push(caracteristiq);\n                                }\n                            });\n                        }).catch((e) => {\n                            console.log(e)\n                        })\n                        this.recupererImageConsultation(produitLogementSelected);\n                        this.recupererMetadatasEtContenuDocumentImage(produitLogementSelected);\n                        this.recupererMetadatasEtContenuDocumentVideo(produitLogementSelected);\n\n                        localStorage.removeItem(\"product\");\n                    }catch (e) {\n                        localStorage.removeItem(\"product\");\n                    }\n\n                } else {\n                    this.serviceWebGetProprieteProduitLogementList();\n                    this.serviceWebGetProprieteProduitLogementList2()\n                }\n            }\n        },\n\n        computed:{\n            // VERIFIER SI NOUS SOMMES EN CREATION OU EN MODIFICATION\n            isCreation() {\n                return this.produitLogementModel.produitLogement.id == null;\n            },\n\n            // GESTIONS DES CONTRAINTES DES CHAMPS D'ENTREES (DESIGNATION , DESCRIPTION ) DU PRODUIT LOGEMENT\n\n            designationProduitLogementErrors(){\n                const errors = [];\n                if (!this.$v.produitLogementModel.produitLogement.designation.$dirty) return errors\n                !this.$v.produitLogementModel.produitLogement.designation.maxLength && errors.push('La designation ne doit pas dpasser 600 caractres')\n                !this.$v.produitLogementModel.produitLogement.designation.required && errors.push('La dsignation est obligatoire.')\n                !this.$v.produitLogementModel.produitLogement.designation.minLength && errors.push('La dsignation doit avoir au minimum 8 caractres.')\n                return errors\n            },\n\n            descriptionProduitLogementErrors(){\n                const errors = [];\n                if (!this.$v.produitLogementModel.produitLogement.description.$dirty) return errors\n                !this.$v.produitLogementModel.produitLogement.description.maxLength && errors.push('La description ne doit pas dpasser 600 caractres')\n                !this.$v.produitLogementModel.produitLogement.description.required && errors.push('La description est obligatoire.')\n                !this.$v.produitLogementModel.produitLogement.description.minLength && errors.push('La description doit avoir plus de 20 caractres.')\n                return errors \n            },\n\n            programmeProduitLogementErrors(){\n                const errors = [];\n                if (!this.$v.produitLogementModel.produitLogement.programmeImmobilier.id.$dirty) return errors\n                !this.$v.produitLogementModel.produitLogement.programmeImmobilier.id.required && errors.push('Vous devez rattacher un programme immobilier.')\n                return errors \n            },\n\n            codeProduitLogementErrors(){\n                const errors = [];\n                if (!this.$v.produitLogementModel.produitLogement.code.$dirty) return errors\n                !this.$v.produitLogementModel.produitLogement.code.maxLength && errors.push('Le code ne doit pas dpasser 600 caractres')\n                !this.$v.produitLogementModel.produitLogement.code.required && errors.push('Le code est obligatoire.')\n                !this.$v.produitLogementModel.produitLogement.code.minLength && errors.push('Le code doit avoir plus de 20 caractres.')\n                return errors \n            },\n\n            prixProduitLogementErrors(){\n                const errors = [];\n                if (!this.$v.produitLogementModel.produitLogement.prix.$dirty) return errors\n                !this.$v.produitLogementModel.produitLogement.prix.required && errors.push('Le prix du produit logement est obligatoire.')\n                !this.$v.produitLogementModel.produitLogement.prix.numeric && errors.push('Entrer un montant correct') \n                return errors \n            },\n\n\n            isValeurCaracteristiqueNonDefinis(){\n                var valeurCaracteristiqueNonDefinis = []\n\n                if (this.caracteristiqueOptionelleList.length > 0) {\n\n                    for (let index = 0; index < this.caracteristiqueOptionelleList.length; index++) {\n                        var caracteristiq = {\n                            proprieteProduitLogement : {},\n                            valeurTexte : null \n                        }\n                        caracteristiq.proprieteProduitLogement = this.caracteristiqueOptionelleList[index].proprieteProduitLogement\n                        caracteristiq.valeurTexte = this.caracteristiqueOptionelleList[index].valeurTexte\n                    \n                        if (caracteristiq.valeurTexte == null || caracteristiq.valeurTexte == \"false\") {\n                            valeurCaracteristiqueNonDefinis.push(caracteristiq)\n                        } \n                    }\n                }\n                return valeurCaracteristiqueNonDefinis ;\n            }\n\n        },\n\n        mounted(){\n            this.getProgrammeImmobilierList();\n            this.getReferenceTypeLogement();\n            this.getVillesList();\n            this.getFormatsList();\n            this.editingProduitLogementMode()\n        }\n    }\n</script>\n\n\n<style scoped>\n\n    .myalert{\n        display: none;\n        z-index: 1900;\n    }\n\n    .alert-success{\n        position: fixed;\n        top: 25px;\n        right:2%;\n        width: 25%;\n    }\n\n    .alert-error{\n        position: fixed;\n        top: 25px;\n        right:2%;\n        width: 25%;\n    }\n\n    .alert-warning{\n        position: fixed;\n        top: 25px;\n        right:2%;\n        width: 25%;\n    }\n\n\n    .create_or_modify_title{\n        color: #3867d6;\n    }\n\n    .section{\n        font-weight: bold;\n    }\n\n    input[type=file]{\n        position: absolute;\n        top: 0;\n        right: 0;\n        min-width: 100%;\n        min-height: 100%;\n        font-size: 100px;\n        text-align: right;\n        filter: alpha(opacity=0);\n        opacity: 0;\n        cursor: inherit;\n        display: block;\n    }\n\n</style>"]}]}