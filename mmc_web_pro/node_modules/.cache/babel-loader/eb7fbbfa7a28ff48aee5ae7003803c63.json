{"remainingRequest":"/home/kouevi/mmc_web_pro/node_modules/babel-loader/lib/index.js!/home/kouevi/mmc_web_pro/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/kouevi/mmc_web_pro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kouevi/mmc_web_pro/src/components/espace_promoteur/SelectionnerProgrammeImmobilier.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kouevi/mmc_web_pro/src/components/espace_promoteur/SelectionnerProgrammeImmobilier.vue","mtime":1665143276780},{"path":"/home/kouevi/mmc_web_pro/babel.config.js","mtime":1663945696927},{"path":"/home/kouevi/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmc_web_pro/node_modules/babel-loader/lib/index.js","mtime":1663945505798},{"path":"/home/kouevi/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmc_web_pro/node_modules/vue-loader/lib/index.js","mtime":1663945506422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7CmltcG9ydCB7IEFQSV9PQlRFTklSX0xJU1RFX1BST0dSQU1NRV9JTU1PQklMSUVSX1BBUl9QUk9NT1RFVVIsIEFQSV9TVVBQUklNRVJfUFJPR1JBTU1FX0lNTU9CSUxJRVIgfSBmcm9tICcuLi9nbG9iYWxDb25maWcvZ2xvYmFsQ29uZmlnJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTZWxlY3Rpb25uZXJQcm9ncmFtbWVJbW1vYmlsaWVyIiwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaDogJycsCiAgICAgIGRpYWxvZ0RlbGV0ZTogZmFsc2UsCiAgICAgIGhlYWRlcnM6IFt7CiAgICAgICAgdGV4dDogJ0NvZGUnLAogICAgICAgIHZhbHVlOiAnY29kZScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdEZXNpZ25hdGlvbicsCiAgICAgICAgdmFsdWU6ICdkZXNpZ25hdGlvbicKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdWaWxsZScsCiAgICAgICAgdmFsdWU6ICd2aWxsZS5kZXNpZ25hdGlvbicKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdWYWxpZGUnLAogICAgICAgIHZhbHVlOiAnZXN0VmFsaWRlJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0FjdGlvbnMnLAogICAgICAgIHZhbHVlOiAnYWN0aW9ucycsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH1dLAogICAgICB2YWxpZGF0ZVByb2dyYW1tZUltbW9iaWxpZXI6IHRydWUsCiAgICAgIHByb2dyYW1tZUltbW9iaWxpZXJMaXN0OiBbXQogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICAvLyBWQUxJREVSIFVOIFBST0dSQU1NRSBJTU1PQklMSUVSCiAgICB2YWxpZGVyUHJvZ3JhbW1lSW1tb2JpbGllcihwcm9ncmFtbWVJbW1vYmlsaWVyKSB7CiAgICAgIHZhciBwYXJzZWRQcm9ncmFtbWUgPSBKU09OLnN0cmluZ2lmeShwcm9ncmFtbWVJbW1vYmlsaWVyKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2dyYW1tZUltbW9iaWxpZXInLCBwYXJzZWRQcm9ncmFtbWUpOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbW9kZVZhbGlkYXRlJywgdGhpcy52YWxpZGF0ZVByb2dyYW1tZUltbW9iaWxpZXIpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9DcmVlck1vZGlmaWVyUHJvZ3JhbW1lSW1tb2JpbGllcicKICAgICAgfSk7CiAgICB9LAoKICAgIC8vTU9ESUZJQ0FUSU9OIEQnVU4gUFJPR1JBTU1FIElNTU9CSUxJRVIKICAgIG1vZGlmaWVyUHJvZ3JhbW1lSW1tb2JpbGllcihwcm9ncmFtbWVJbW1vYmlsaWVyKSB7CiAgICAgIGNvbnN0IHBhcnNlZFByb2dyYW1tZSA9IEpTT04uc3RyaW5naWZ5KHByb2dyYW1tZUltbW9iaWxpZXIpOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgicHJvZ3JhbW1lSW1tb2JpbGllciIsIHBhcnNlZFByb2dyYW1tZSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL0NyZWVyTW9kaWZpZXJQcm9ncmFtbWVJbW1vYmlsaWVyIgogICAgICB9KTsKICAgIH0sCgogICAgLy8gU1VQUFJJTUVSIFVOIFBST0dSQU1NRSBJTU1PQklMSUVSCiAgICBzdXBwcmltZXJQcm9ncmFtbWVJbW1vYmlsaWVyKHByb2dyYW1tZUltbW9iaWxpZXIpIHsKICAgICAgdGhpcy4kc3dhbC5maXJlKHsKICAgICAgICB0aXRsZTogJ0NvbmZpcm1lciA/JywKICAgICAgICB0ZXh0OiAiQ2V0dGUgYWN0aW9uIGVzdCBpcnLDqXZlcnNpYmxlIiwKICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdBbm51bGVyJywKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ091aSAsc3VwcHJpbWVyIScKICAgICAgfSkudGhlbihyZXN1bHQgPT4gewogICAgICAgIGlmIChyZXN1bHQuaXNDb25maXJtZWQpIHsKICAgICAgICAgIGF4aW9zLmRlbGV0ZShBUElfU1VQUFJJTUVSX1BST0dSQU1NRV9JTU1PQklMSUVSKHByb2dyYW1tZUltbW9iaWxpZXIuaWQpKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YSA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKCdTdXBwcmltw6khJywgJ0xlIHByb2dyYW1tZSBpbW1vYmlsaWVyLCBhIGJpZW4gZXRlIHN1cHByaW3DqS4nLCAnc3VjY2VzcycpOwogICAgICAgICAgICAgIHRoaXMuT2J0ZW5pckxpc3RlUHJvZ3JhbW1lSW1tb2JpbGllcigpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSgnRXJyZXVyIScsICdFY2hlYyBkZSBsYSBzdXBwcmVzc2lvbiBkdSBwcm9ncmFtbWUgaW1tb2JpbGllci4nLCAnZXJyb3InKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgICB0aXRsZTogJ0VycmV1ci4uLicsCiAgICAgICAgICAgICAgdGV4dDogZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8vIE5BVklHQVRJT04gVkVSUyBMQSBQQUdFIERFIENSRUFUSU9OIEQnVU4gTk9VVkVMIFBST0dSQU1NRSBJTU1PQklMSUVSCiAgICBjcmVlck5vdXZlYXVQcm9ncmFtbWVJbW1vYmlsaWVyKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogIi9DcmVlck1vZGlmaWVyUHJvZ3JhbW1lSW1tb2JpbGllciIKICAgICAgfSk7CiAgICB9LAoKICAgIC8vIE9CVEVOSVIgTEEgTElTVEUgREVTIFBST0dSQU1NRVMgSU1NT0JJTElFUlMgUEFSIFBST01PVEVVUgogICAgYXN5bmMgT2J0ZW5pckxpc3RlUHJvZ3JhbW1lSW1tb2JpbGllcigpIHsKICAgICAgYXdhaXQgYXhpb3MuZ2V0KEFQSV9PQlRFTklSX0xJU1RFX1BST0dSQU1NRV9JTU1PQklMSUVSX1BBUl9QUk9NT1RFVVIoInByb21vdGV1cjAxIikpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMucHJvZ3JhbW1lSW1tb2JpbGllckxpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlOwogICAgICAgICQoIi5teUFsZXJ0LWJvdHRvbSIpLmZhZGVJbigpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgJCgiLm15QWxlcnQtYm90dG9tIikuZmFkZU91dCgpOwogICAgICAgIH0sIDQwMDApOwogICAgICB9KTsKICAgIH0KCiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuT2J0ZW5pckxpc3RlUHJvZ3JhbW1lSW1tb2JpbGllcigpOwogIH0KCn07"},{"version":3,"mappings":";AA2DA;AAEA;AAEA;AAEA;EAEAA,uCAFA;;EAIAC;IAEA;MAEAC,UAFA;MAIAC,mBAJA;MAMAC,UAEA;QAAAC;QAAAC;MAAA,CAFA,EAIA;QAAAD;QAAAC;MAAA,CAJA,EAMA;QAAAD;QAAAC;MAAA,CANA,EAQA;QAAAD;QAAAC;MAAA,CARA,EAUA;QAAAD;QAAAC;QAAAC;MAAA,CAVA,CANA;MAoBAC,iCApBA;MAsBAC;IAtBA;EA0BA,CAhCA;;EAmCAC;IAEA;IAEAC;MAEA;MAEAC;MAEAA;MAEA;QAAAC;MAAA;IAEA,CAdA;;IAiBA;IAEAC;MAEA;MAEAF;MAEA;QAAAC;MAAA;IAEA,CA3BA;;IA+BA;IAEAE;MAEA;QAAAC;QAAAX;QAAAY;QAAAC;QAEAC,6BAFA;QAEAC,yBAFA;QAEAC,2BAFA;QAEAC;MAFA,GAIAC,IAJA,CAIAC;QAEA;UAEAC,yEAEAF,IAFA,CAEAG;YAEA;cAEA;cAEA;YAEA,CANA,MAMA;cAEA;YAEA;UAEA,CAhBA,EAgBAC,KAhBA,CAgBAC;YAEA;cAAAX;cAAAD;cAAAX;YAAA;UAEA,CApBA;QAsBA;MAEA,CAhCA;IAkCA,CArEA;;IA2EA;IAEAwB;MAEA;QAAAhB;MAAA;IAEA,CAjFA;;IAqFA;IAEA;MAEA,qFAEAU,IAFA,CAEAG;QAEA;MAEA,CANA,EAQAC,KARA,CAQAC;QAEA;QAEAE;QAEAC;UAEAD;QAEA,CAJA,EAIA,IAJA;MAMA,CApBA;IAsBA;;EA/GA,CAnCA;;EAwJAE;IAEA;EAEA;;AA5JA","names":["name","data","search","dialogDelete","headers","text","value","sortable","validateProgrammeImmobilier","programmeImmobilierList","methods","validerProgrammeImmobilier","localStorage","path","modifierProgrammeImmobilier","supprimerProgrammeImmobilier","title","icon","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","then","result","axios","response","catch","e","creerNouveauProgrammeImmobilier","$","setTimeout","mounted"],"sourceRoot":"src/components/espace_promoteur","sources":["SelectionnerProgrammeImmobilier.vue"],"sourcesContent":["<template>\n\n    <div>\n\n        <v-container> \n          \n            <v-btn text color=\"blue\" @click=\"creerNouveauProgrammeImmobilier\"> \n\n                <v-icon>mdi-plus</v-icon>NOUVEAU PROGRAMME\n\n            </v-btn>\n\n\n\n            <v-spacer></v-spacer>\n\n            <v-card>\n\n                <v-card-title>PROGRAMMES IMMOBILIERS\n                        \n                <v-spacer></v-spacer>\n\n                <v-text-field v-model=\"search\" append-icon=\"mdi-magnify\" label=\"Search\" single-line hide-details></v-text-field></v-card-title>\n\n                <v-data-table :headers=\"headers\" :loading=\"programmeImmobilierList.length < 0\" :items=\"programmeImmobilierList\" :search=\"search\">\n\n                    <template v-slot:[`item.estValide`]=\"{ item }\">\n\n                        <v-chip v-if=\"item.estValide == true\" color=\"green\" text-color=\"white\" class=\"mr-2\">valide</v-chip>\n                        \n                        <v-chip v-else-if=\"item.estValide == false\" color=\"red\" text-color=\"white\" class=\"mr-2\">Non valide</v-chip>\n                        \n                        <v-chip v-else color=\"blue\" text-color=\"white\" class=\"mr-2\">Aucune décision</v-chip>\n\n                    </template>\n\n                    <template v-slot:[`item.actions`]=\"{ item }\">\n\n                        <v-icon title=\"editer\" color=\"blue\" small class=\"mr-2\" @click=\"modifierProgrammeImmobilier(item)\">mdi-pencil</v-icon>\n                        \n                        <v-icon title=\"valider\" color=\"green\" small class=\"mr-2\" @click=\"validateProgrammeImmobilier(item)\">mdi-sync</v-icon>\n\n                        <v-icon title=\"supprimer\" color=\"red\" small class=\"mr-2\" @click=\"supprimerProgrammeImmobilier(item)\">mdi-delete</v-icon>\n\n                    </template>\n\n                </v-data-table>\n\n            </v-card>\n\n        </v-container>\n        \n    </div>\n    \n</template>\n\n\n<script>\n\n    import axios from \"axios\";\n\n    import $ from 'jquery'\n\n    import { API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER_PAR_PROMOTEUR, API_SUPPRIMER_PROGRAMME_IMMOBILIER } from '../globalConfig/globalConfig';\n\n    export default {\n        \n        name : \"SelectionnerProgrammeImmobilier\",\n\n        data(){\n\n            return{\n\n                search:'',\n\n                dialogDelete: false,\n\n                headers:[\n\n                    { text : 'Code' , value: 'code' },\n\n                    { text : 'Designation' , value : 'designation' },\n\n                    { text : 'Ville'  , value : 'ville.designation'},\n\n                    { text : 'Valide' , value : 'estValide' },\n\n                    { text : 'Actions' , value : 'actions' , sortable : false }\n\n                ],\n\n                validateProgrammeImmobilier : true,\n\n                programmeImmobilierList: [],\n\n            }\n\n        },\n\n        \n        methods: {\n\n            // VALIDER UN PROGRAMME IMMOBILIER\n\n            validerProgrammeImmobilier(programmeImmobilier){\n\n                var parsedProgramme = JSON.stringify(programmeImmobilier);\n\n                localStorage.setItem('programmeImmobilier', parsedProgramme);\n\n                localStorage.setItem('modeValidate' , this.validateProgrammeImmobilier)\n\n                this.$router.push({ path: '/CreerModifierProgrammeImmobilier'});\n\n            },\n\n\n            //MODIFICATION D'UN PROGRAMME IMMOBILIER\n\n            modifierProgrammeImmobilier(programmeImmobilier) {\n\n                const parsedProgramme = JSON.stringify(programmeImmobilier);\n\n                localStorage.setItem(\"programmeImmobilier\", parsedProgramme);\n\n                this.$router.push({ path: \"/CreerModifierProgrammeImmobilier\" });\n\n            },\n\n\n\n            // SUPPRIMER UN PROGRAMME IMMOBILIER\n\n            supprimerProgrammeImmobilier(programmeImmobilier){\n\n                this.$swal.fire({title: 'Confirmer ?',text: \"Cette action est irréversible\",icon: 'warning',showCancelButton: true,\n\n                    confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',cancelButtonText: 'Annuler',confirmButtonText: 'Oui ,supprimer!'\n\n                }).then((result) =>{\n\n                    if(result.isConfirmed){\n\n                        axios.delete(API_SUPPRIMER_PROGRAMME_IMMOBILIER(programmeImmobilier.id))\n\n                        .then(response => {\n                        \n                        if (response.data.data == true) {\n\n                            this.$swal.fire('Supprimé!','Le programme immobilier, a bien ete supprimé.','success')\n\n                            this.ObtenirListeProgrammeImmobilier();\n                            \n                        } else {\n\n                            this.$swal.fire('Erreur!' , 'Echec de la suppression du programme immobilier.' , 'error')\n                            \n                        }\n                        \n                        }).catch(e => {\n\n                            this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n\n                        })\n\n                    }\n\n                })\n     \n            },\n\n            \n            \n\n\n            // NAVIGATION VERS LA PAGE DE CREATION D'UN NOUVEL PROGRAMME IMMOBILIER\n            \n            creerNouveauProgrammeImmobilier() {\n\n                this.$router.push({ path: \"/CreerModifierProgrammeImmobilier\" });\n\n            },\n\n            \n            \n            // OBTENIR LA LISTE DES PROGRAMMES IMMOBILIERS PAR PROMOTEUR\n\n            async ObtenirListeProgrammeImmobilier(){\n\n                await axios.get(API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER_PAR_PROMOTEUR(\"promoteur01\"))\n\n                .then((response) => {\n\n                    this.programmeImmobilierList = response.data.data;\n\n                })\n\n                .catch((e) => {\n\n                    this.errorMsg = e\n\n                    $(\".myAlert-bottom\").fadeIn();\n\n                    setTimeout(function(){\n\n                        $(\".myAlert-bottom\").fadeOut(); \n\n                    }, 4000)\n\n                });\n\n            }\n    \n        },\n\n\n\n        mounted() {\n\n            this.ObtenirListeProgrammeImmobilier()\n\n        },\n\n    }\n</script>\n\n\n<style scoped>\n\n\n</style>"]}]}