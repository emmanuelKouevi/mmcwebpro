{"remainingRequest":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/babel-loader/lib/index.js!/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kouevi/mmcwebpro/mmc_web_pro/src/components/espace_client/simulationLogementFinancementImmobilier/TransformerSimulationFinancement.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/src/components/espace_client/simulationLogementFinancementImmobilier/TransformerSimulationFinancement.vue","mtime":1669306274531},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/babel.config.js","mtime":1663945696927},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/babel-loader/lib/index.js","mtime":1663945505798},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/vue-loader/lib/index.js","mtime":1663945506422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBOYXZpZ2F0aW9uQmFyIGZyb20gJy4uLy4uL2xheW91dC9uYXZpZ2F0aW9uQmFyLnZ1ZSc7CmltcG9ydCBGb290ZXJCYXIgZnJvbSAnLi4vLi4vbGF5b3V0L2Zvb3RlckJhci52dWUnOwppbXBvcnQgeyByZXF1aXJlZCwgbWluTGVuZ3RoLCBtYXhMZW5ndGgsIG51bWVyaWMgfSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgJCBmcm9tICdqcXVlcnknOwppbXBvcnQgeyBBUElfUkVDSEVSQ0hFUl9MT0dFTUVOVF9QQVJfSUQsIEFQSV9SRUZFUkVOQ0VTX1BBUl9GQU1JTExFLCBBUElfT0JURU5JUl9NT0RFX0ZJTkFOQ0VNRU5UX1BBUl9QUk9HUkFNTUVfSU1NT0JJTElFUiwgQVBJX09CVEVOSVJfTElTVEVfVFlQRVNfRE9DVU1FTlRfREVNQU5ERV9SRVNFUlZBVElPTl9QQVJfUFJPR1JBTU1FX0lNTU9CSUxJRVIgfSBmcm9tICcuLi8uLi9nbG9iYWxDb25maWcvZ2xvYmFsQ29uZmlnJzsKaW1wb3J0IHsgUkVGX0VMRU1FTlRfVkFMRVVSX0NPTVBUQU5ULCBSRUZfRUxFTUVOVF9WQUxFVVJfQ1JFRElUX0JBTkNBSVJFIH0gZnJvbSAnLi4vLi4vZ2xvYmFsQ29uZmlnL2dsb2JhbENvbmZpZyc7CmltcG9ydCB7IEFQSV9SRUNIRVJDSEVSX1NJTVVMQVRJT05fRklOQU5DRU1FTlRfUEFSX0lELCBBUElfT0JURU5JUl9MSVNURV9WSUxMRVMsIEFQSV9PQlRFTklSX0xJU1RFX0VGSVMsIEFQSV9PQlRFTklSX0ZPUk1BVFNfRE9DVU1FTlRTLCBBUElfT0JURU5JUl9MSVNURV9DQVJBQ1RFUklTVElRVUVTX0RFTUFOREVfUkVTRVJWQVRJT05fUEFSX1BST0dSQU1NRV9JTU1PQklMSUVSIH0gZnJvbSAnLi4vLi4vZ2xvYmFsQ29uZmlnL2dsb2JhbENvbmZpZyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVHJhbnNmb3JtZXJTaW11bGF0aW9uRmluYW5jZW1lbnQnLAogIGNvbXBvbmVudHM6IHsKICAgIE5hdmlnYXRpb25CYXIsCiAgICBGb290ZXJCYXIKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3VjY2Vzc01zZzogbnVsbCwKICAgICAgZXJyb3JNc2c6IG51bGwsCiAgICAgIHdhcm5pbmdNc2c6IG51bGwsCiAgICAgIG92ZXJsYXk6IGZhbHNlLAogICAgICBkaWFsb2dGaW5hbmNlbWVudDogZmFsc2UsCiAgICAgIGRpYWxvZ1BsYW5GaW5hbmNlbWVudENob29zZWQ6IGZhbHNlLAogICAgICBlNjogMSwKICAgICAgbXlMb2dlbWVudDoge30sCiAgICAgIGNhcmFjdGVyaXN0aXF1ZURlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50TGlzdDogW10sCiAgICAgIHJlZmVyZW5jZUFjdGl2aXRlTGlzdDogW10sCiAgICAgIHZpbGxlc0xpc3Q6IFtdLAogICAgICB0eXBlRmluYW5jZW1lbnRMaXN0OiBbXSwKICAgICAgZm9ybWF0TGlzdDogW10sCiAgICAgIG1vZGVGaW5hbmNlbWVudExpc3Q6IFtdLAogICAgICB2YWxldXJDYXJhY3RlcmlzdGlxdWVEZW1hbmRlUmVzZXJ2YXRpb25MaXN0OiBbXSwKICAgICAgdmFsZXVyVHlwZURvY3VtZW50RGVtYW5kZVJlc2VydmF0aW9uTGlzdDogW10sCiAgICAgIGlzU2hvd0RpYWxvZ0FkZGluZ0ZpbmFuY2VtZW50UGxhbjogZmFsc2UsCiAgICAgIHBlcmlvZGljaXRlTGlzdDogW10sCiAgICAgIGVmaUxpc3Q6IFtdLAogICAgICB0eXBlRmluYW5jZW1lbnRJZDogbnVsbCwKICAgICAgZmFtaWxsZVR5cGVEb2N1bWVudFJlc2VydmF0aW9uTGlzdDogW10sCiAgICAgIHR5cGVEb2N1bWVudERlbWFuZGVSZXNlcnZhdGlvbkxpc3Q6IFtdLAogICAgICBkZW1hbmRlUmVzZXJ2YXRpb25Mb2dlbWVudFRyYW5zZmVydE1vZGVsOiB7CiAgICAgICAgZGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnQ6IHsKICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgZGVzaWduYXRpb246IG51bGwsCiAgICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCwKICAgICAgICAgIGVzdFZhbGlkZVBhclByb21vdGV1cjogbnVsbCwKICAgICAgICAgIGVzdFZhbGlkZVBhckVmaTogbnVsbCwKICAgICAgICAgIG1vdGlmUmVmdXNQYXJQcm9tb3RldXI6IG51bGwsCiAgICAgICAgICBtb3RpZlJlZnVzUGFyRWZpOiBudWxsLAogICAgICAgICAgLy9jb3V0UmVzZXJ2YXRpb24gOiBudWxsICwKICAgICAgICAgIHVzZXI6IHsKICAgICAgICAgICAgaWQ6ICdmYWFkYzE1Zi0yODA4LTQ0ZTAtOTRjYy1kMGJkODQxYmNmNTknCiAgICAgICAgICB9LAogICAgICAgICAgbG9nZW1lbnQ6IHt9LAogICAgICAgICAgZXRhcGVMaXN0OiBbXSwKICAgICAgICAgIGV0YXBlRW5Db3Vyczoge30KICAgICAgICB9LAogICAgICAgIGZpbmFuY2VtZW50TGlzdDogW10sCiAgICAgICAgdmFsZXVyQ2FyYWN0ZXJpc3RpcXVlTGlzdDogW10sCiAgICAgICAgZG9jdW1lbnREZW1hbmRlUmVzZXJ2YXRpb25MaXN0OiBbXQogICAgICB9LAogICAgICBmaW5hbmNlbWVudFRyYW5zZmVydENvbXB0YW50TW9kZWw6IHsKICAgICAgICB0eXBlUGxhbkZpbmFuY2VtZW50SWQ6IG51bGwsCiAgICAgICAgZmluYW5jZW1lbnRDb21wdGFudDogewogICAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgICBkZXNpZ25hdGlvbjogbnVsbCwKICAgICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLAogICAgICAgICAgZGF0ZUV0SGV1cmU6IG51bGwsCiAgICAgICAgICBtb250YW50OiBudWxsLAogICAgICAgICAgbW9kZUZpbmFuY2VtZW50OiB7CiAgICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgICB0eXBlRmluYW5jZW1lbnQ6IHsKICAgICAgICAgICAgICBpZDogbnVsbAogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICBmaW5hbmNlbWVudFRyYW5zZmVydENyZWRpdEJhbmNhaXJlTW9kZWw6IHsKICAgICAgICB0eXBlUGxhbkZpbmFuY2VtZW50SWQ6IG51bGwsCiAgICAgICAgZmluYW5jZW1lbnRDcmVkaXRJbW1vYmlsaWVyOiB7CiAgICAgICAgICBpZDogbnVsbCwKICAgICAgICAgIGRlc2lnbmF0aW9uOiBudWxsLAogICAgICAgICAgZGVzY3JpcHRpb246IG51bGwsCiAgICAgICAgICBtb250YW50OiBudWxsLAogICAgICAgICAgbWVuc3VhbGl0ZVByb3Bvc2U6IG51bGwsCiAgICAgICAgICBtZW5zdWFsaXTDqUVmZmVjdGlmOiBudWxsLAogICAgICAgICAgZHVyZWVFZmZlY3RpZjogbnVsbCwKICAgICAgICAgIHJldmVudU5ldDogbnVsbCwKICAgICAgICAgIG1vZGVGaW5hbmNlbWVudDogewogICAgICAgICAgICBpZDogbnVsbCwKICAgICAgICAgICAgdHlwZUZpbmFuY2VtZW50OiB7CiAgICAgICAgICAgICAgaWQ6IG51bGwKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgZmluYW5jZW1lbnRUcmFuc2ZlcnRDb21wdGFudFBhbGxpZXJNb2RlbDogewogICAgICAgIHR5cGVQbGFuRmluYW5jZW1lbnRJZDogbnVsbCwKICAgICAgICBmaW5hbmNlbWVudENvbXB0YW50UGFsbGllclN1clNpdHVhdGlvbjogewogICAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgICBkZXNjcmlwdGlvbjogbnVsbCwKICAgICAgICAgIGRlc2lnbmF0aW9uOiBudWxsLAogICAgICAgICAgbW9udGFudDogbnVsbCwKICAgICAgICAgIGRhdGVFdEhldXJlOiBudWxsLAogICAgICAgICAgcGFsbGllckNvbXB0YW50U3VyU2l0dWF0aW9uTGlzdDogW10KICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZpbmFuY2VtZW50VHJhbnNmZXJ0VGVtcGVyYW1lbnRNb2RlbDogewogICAgICAgIHR5cGVQbGFuRmluYW5jZW1lbnRJZDogbnVsbCwKICAgICAgICBmaW5hbmNlbWVudFRlbXBlcmFtZW50OiB7CiAgICAgICAgICBpZDogbnVsbCwKICAgICAgICAgIGRlc2lnbmF0aW9uOiBudWxsLAogICAgICAgICAgZGVzY3JpcHRpb246IG51bGwsCiAgICAgICAgICBtb250YW50OiBudWxsLAogICAgICAgICAgZGF0ZUV0SGV1cmU6IG51bGwsCiAgICAgICAgICBub21icmVQZXJpb2RlUHJvcG9zZTogbnVsbCwKICAgICAgICAgIG5vbWJyZVBlcmlvZGVFZmZlY3RpZjogbnVsbCwKICAgICAgICAgIG1vZGVUZW1wZXJhbWVudDogewogICAgICAgICAgICBpZDogbnVsbCwKICAgICAgICAgICAgYXBwb3J0UGVyc29ubmVsOiBudWxsLAogICAgICAgICAgICBwZXJpb2RpY2l0ZTogbnVsbCwKICAgICAgICAgICAgbm9tYnJlUGVyaW9kZU1heGk6IG51bGwsCiAgICAgICAgICAgIGRhdGVEZWJ1dDogbnVsbCwKICAgICAgICAgICAgZGVsYWlSZWxhbmNlOiBudWxsLAogICAgICAgICAgICB0YXV4QWNvbXB0ZU1pbmk6IG51bGwKICAgICAgICAgIH0sCiAgICAgICAgICBlY2hlYW5jZUZpbmFuY2VtZW50VGVtcGVyYW1lbnRMaXN0OiBbXQogICAgICAgIH0KICAgICAgfSwKICAgICAgZWNoZWFuY2VGaW5hbmNlbWVudFRlbXBlcmFtZW50OiB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgbnVtZXJvUGVyaW9kZTogbnVsbCwKICAgICAgICBtb250YW50OiBudWxsCiAgICAgIH0sCiAgICAgIGNvbXB0YW50U3VyU2l0dWF0aW9uUGFsbGllckxpc3Q6IFtdLAogICAgICBtZXNzYWdlTGlzdDogW10sCiAgICAgIHBhbGxpZXJDb21wdGFudFN1clNpdHVhdGlvbk1vZGVsOiB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgZGVzaWduYXRpb246IG51bGwKICAgICAgfSwKICAgICAgZmluYW5jZW1lbnRMaXN0VG9TaG93aW5nOiBbXQogICAgfTsKICB9LAoKICB2YWxpZGF0aW9uczogewogICAgZGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnRUcmFuc2ZlcnRNb2RlbDogewogICAgICBkZW1hbmRlUmVzZXJ2YXRpb25Mb2dlbWVudDogewogICAgICAgIGRlc2lnbmF0aW9uOiB7CiAgICAgICAgICByZXF1aXJlZCwKICAgICAgICAgIG1pbkxlbmd0aDogbWluTGVuZ3RoKDYpLAogICAgICAgICAgbWF4TGVuZ3RoOiBtYXhMZW5ndGgoMzAwKQogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246IHsKICAgICAgICAgIHJlcXVpcmVkLAogICAgICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoNiksCiAgICAgICAgICBtYXhMZW5ndGg6IG1heExlbmd0aCg2MDApCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZmluYW5jZW1lbnRUcmFuc2ZlcnRDb21wdGFudE1vZGVsOiB7CiAgICAgIGZpbmFuY2VtZW50Q29tcHRhbnQ6IHsKICAgICAgICBkZXNpZ25hdGlvbjogewogICAgICAgICAgcmVxdWlyZWQsCiAgICAgICAgICBtaW5MZW5ndGg6IG1pbkxlbmd0aCg0KSwKICAgICAgICAgIG1heExlbmd0aDogbWF4TGVuZ3RoKDQwKQogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246IHsKICAgICAgICAgIHJlcXVpcmVkLAogICAgICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoNCksCiAgICAgICAgICBtYXhMZW5ndGg6IG1heExlbmd0aCg0MCkKICAgICAgICB9LAogICAgICAgIG1vbnRhbnQ6IHsKICAgICAgICAgIHJlcXVpcmVkLAogICAgICAgICAgbnVtZXJpYwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGZpbmFuY2VtZW50VHJhbnNmZXJ0Q3JlZGl0QmFuY2FpcmVNb2RlbDogewogICAgICBmaW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXI6IHsKICAgICAgICBkZXNpZ25hdGlvbjogewogICAgICAgICAgcmVxdWlyZWQsCiAgICAgICAgICBtaW5MZW5ndGg6IG1pbkxlbmd0aCg0KSwKICAgICAgICAgIG1heExlbmd0aDogbWF4TGVuZ3RoKDQwKQogICAgICAgIH0sCiAgICAgICAgZGVzY3JpcHRpb246IHsKICAgICAgICAgIHJlcXVpcmVkLAogICAgICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoNCksCiAgICAgICAgICBtYXhMZW5ndGg6IG1heExlbmd0aCg0MCkKICAgICAgICB9LAogICAgICAgIG1vbnRhbnQ6IHsKICAgICAgICAgIHJlcXVpcmVkLAogICAgICAgICAgbnVtZXJpYwogICAgICAgIH0sCiAgICAgICAgbWVuc3VhbGl0ZVByb3Bvc2U6IHsKICAgICAgICAgIHJlcXVpcmVkLAogICAgICAgICAgbnVtZXJpYwogICAgICAgIH0sCiAgICAgICAgcmV2ZW51TmV0OiB7CiAgICAgICAgICByZXF1aXJlZCwKICAgICAgICAgIG51bWVyaWMKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBmaW5hbmNlbWVudFRyYW5zZmVydENvbXB0YW50UGFsbGllck1vZGVsOiB7CiAgICAgIGZpbmFuY2VtZW50Q29tcHRhbnRQYWxsaWVyU3VyU2l0dWF0aW9uOiB7CiAgICAgICAgZGVzaWduYXRpb246IHsKICAgICAgICAgIHJlcXVpcmVkLAogICAgICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoNCksCiAgICAgICAgICBtYXhMZW5ndGg6IG1heExlbmd0aCgyMCkKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiB7CiAgICAgICAgICByZXF1aXJlZCwKICAgICAgICAgIG1pbkxlbmd0aDogbWluTGVuZ3RoKDQpLAogICAgICAgICAgbWF4TGVuZ3RoOiBtYXhMZW5ndGgoMjApCiAgICAgICAgfSwKICAgICAgICBtb250YW50OiB7CiAgICAgICAgICByZXF1aXJlZAogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGZpbmFuY2VtZW50VHJhbnNmZXJ0VGVtcGVyYW1lbnRNb2RlbDogewogICAgICBmaW5hbmNlbWVudFRlbXBlcmFtZW50OiB7CiAgICAgICAgZGVzaWduYXRpb246IHsKICAgICAgICAgIHJlcXVpcmVkLAogICAgICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoNCksCiAgICAgICAgICBtYXhMZW5ndGg6IG1heExlbmd0aCgyMCkKICAgICAgICB9LAogICAgICAgIGRlc2NyaXB0aW9uOiB7CiAgICAgICAgICByZXF1aXJlZCwKICAgICAgICAgIG1pbkxlbmd0aDogbWluTGVuZ3RoKDQpLAogICAgICAgICAgbWF4TGVuZ3RoOiBtYXhMZW5ndGgoMjApCiAgICAgICAgfSwKICAgICAgICBtb250YW50OiB7CiAgICAgICAgICByZXF1aXJlZAogICAgICAgIH0sCiAgICAgICAgbm9tYnJlUGVyaW9kZVByb3Bvc2U6IHsKICAgICAgICAgIHJlcXVpcmVkCiAgICAgICAgfSwKICAgICAgICBub21icmVQZXJpb2RlRWZmZWN0aWY6IHsKICAgICAgICAgIHJlcXVpcmVkCiAgICAgICAgfSwKICAgICAgICBtb2RlVGVtcGVyYW1lbnQ6IHsKICAgICAgICAgIGFwcG9ydFBlcnNvbm5lbDogewogICAgICAgICAgICByZXF1aXJlZAogICAgICAgICAgfSwKICAgICAgICAgIG5vbWJyZVBlcmlvZGVNYXhpOiB7CiAgICAgICAgICAgIHJlcXVpcmVkCiAgICAgICAgICB9LAogICAgICAgICAgZGF0ZURlYnV0OiB7CiAgICAgICAgICAgIHJlcXVpcmVkCiAgICAgICAgICB9LAogICAgICAgICAgZGVsYWlSZWxhbmNlOiB7CiAgICAgICAgICAgIHJlcXVpcmVkCiAgICAgICAgICB9LAogICAgICAgICAgdGF1eEFjb21wdGVNaW5pOiB7CiAgICAgICAgICAgIHJlcXVpcmVkCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZWNoZWFuY2VGaW5hbmNlbWVudFRlbXBlcmFtZW50OiB7CiAgICAgIG51bWVyb1BlcmlvZGU6IHsKICAgICAgICByZXF1aXJlZAogICAgICB9LAogICAgICBtb250YW50OiB7CiAgICAgICAgcmVxdWlyZWQKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy9UUkFOU0ZPUk1FUiBVTkUgU0lNVUxBVElPTiBERSBGSU5BTkNFTUVOVCBJTU1PQklMSUVSIEVOIERFTUFOREUgREUgUkVTRVJWQVRJT04KICAgIGFzeW5jIHRyYW5zZm9ybWVyU2ltdWxhdGlvbkVuRGVtZW5kZVJlc2VydmF0aW9uKCkge30sCgogICAgLy8gU0VMRUNUSU9OIERFIERPQ1VNRU5UUyBJTlBVVAogICAgcGlja0RvY3VtZW50Rm9yUmVzZXJ2YXRpb24ocG9zaXRpb24pIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50VHJhbnNmZXJ0TW9kZWwuZG9jdW1lbnREZW1hbmRlUmVzZXJ2YXRpb25MaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGkgPT0gcG9zaXRpb24pIHsKICAgICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgICAgdmFyIGV4dGVuc2lvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBvc2l0aW9uKS5maWxlc1swXS5uYW1lLnNwbGl0KCcuJylbMV07CiAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwb3NpdGlvbikuZmlsZXNbMF0pOwoKICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBlID0+IHsKICAgICAgICAgICAgdGhpcy5kZW1hbmRlUmVzZXJ2YXRpb25Mb2dlbWVudFRyYW5zZmVydE1vZGVsLmRvY3VtZW50RGVtYW5kZVJlc2VydmF0aW9uTGlzdFtwb3NpdGlvbl0uZG9jdW1lbnQuY29udGVudSA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgICAgICAgdGhpcy5mb3JtYXRMaXN0LmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuZXh0ZW5zaW9uLnNwbGl0KCcuJylbMV0gPT0gZXh0ZW5zaW9uKSB7CiAgICAgICAgICAgICAgICB0aGlzLmRlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50VHJhbnNmZXJ0TW9kZWwuZG9jdW1lbnREZW1hbmRlUmVzZXJ2YXRpb25MaXN0W3Bvc2l0aW9uXS5kb2N1bWVudC5mb3JtYXQgPSBlbGVtZW50OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICAvL09CVEVOSVIgTElTVEUgREVTIENBUkFDVEVSSVNUSVFVRVMgRVQgVFlQRVMgRE9DVU1FTlRTIFJFU0VSVkFUSU9OIFBBUiBMT0dFTUVOVAogICAgYXN5bmMgb2J0ZW5pckNhcmFjdGVyaXN0aXFFdFR5cGVEb2N1bWVudChsb2dlbWVudCkgewogICAgICBpZiAobG9nZW1lbnQgIT0gbnVsbCkgewogICAgICAgIHRoaXMuZ2V0TW9kZUZpbmFuY2VtZW50TGlzdFBhclByb2dyYW1tZShsb2dlbWVudC5wcm9kdWl0TG9nZW1lbnQucHJvZ3JhbW1lSW1tb2JpbGllci5pZCk7CiAgICAgICAgdGhpcy5vYnRlbmlyTGlzdHR5cGVGaW5hbmNlbWVudChsb2dlbWVudC5wcm9kdWl0TG9nZW1lbnQucHJvZ3JhbW1lSW1tb2JpbGllci5pZCk7CiAgICAgICAgdGhpcy5nZXRDYXJhY3RlcmlzdGlxdWVSZXNlcnZhdGlvblBhclByb2dyYW1tZUltbW9iaWxpZXIobG9nZW1lbnQucHJvZHVpdExvZ2VtZW50LnByb2dyYW1tZUltbW9iaWxpZXIuaWQpOwogICAgICAgIHRoaXMuZ2V0VHlwZURvY3VtZW50RGVtYW5kZVJlc2VydmF0aW9uTGlzdEJ5UHJvZ3JhbW1lSW1tb2JpbGllcihsb2dlbWVudC5wcm9kdWl0TG9nZW1lbnQucHJvZ3JhbW1lSW1tb2JpbGllci5pZCk7CiAgICAgIH0KICAgIH0sCgogICAgLy8gT0JURU5JUiBJTkZPUyBMT0dFTUVOVCBQQVIgU09OIElECiAgICBhc3luYyBnZXRJbmZvTG9nZW1lbnRGcm9tSWQoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgIT0gdW5kZWZpbmVkIHx8IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCAhPSBudWxsKSB7CiAgICAgICAgYXdhaXQgYXhpb3MuZ2V0KEFQSV9SRUNIRVJDSEVSX0xPR0VNRU5UX1BBUl9JRCh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMubXlMb2dlbWVudCA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgIHRoaXMuZGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnRUcmFuc2ZlcnRNb2RlbC5kZW1hbmRlUmVzZXJ2YXRpb25Mb2dlbWVudC5sb2dlbWVudC5pZCA9IHRoaXMubXlMb2dlbWVudC5pZDsKICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZ2V0TW9kZUZpbmFuY2VtZW50TGlzdFBhclByb2dyYW1tZSh0aGlzLm15TG9nZW1lbnQucHJvZHVpdExvZ2VtZW50LnByb2dyYW1tZUltbW9iaWxpZXIuaWQpOwogICAgICB0aGlzLm9idGVuaXJMaXN0dHlwZUZpbmFuY2VtZW50KHRoaXMubXlMb2dlbWVudC5wcm9kdWl0TG9nZW1lbnQucHJvZ3JhbW1lSW1tb2JpbGllci5pZCk7CiAgICAgIHRoaXMuZ2V0Q2FyYWN0ZXJpc3RpcXVlUmVzZXJ2YXRpb25QYXJQcm9ncmFtbWVJbW1vYmlsaWVyKHRoaXMubXlMb2dlbWVudC5wcm9kdWl0TG9nZW1lbnQucHJvZ3JhbW1lSW1tb2JpbGllci5pZCk7CiAgICAgIHRoaXMuZ2V0VHlwZURvY3VtZW50RGVtYW5kZVJlc2VydmF0aW9uTGlzdEJ5UHJvZ3JhbW1lSW1tb2JpbGllcih0aGlzLm15TG9nZW1lbnQucHJvZHVpdExvZ2VtZW50LnByb2dyYW1tZUltbW9iaWxpZXIuaWQpOwogICAgfSwKCiAgICAvLyBPQlRFTklSIExBIExJU1RFIERFUyBUWVBFUyBERSBET0NVTUVOVFMgREUgREVNQU5ERSBERSBSRVNFUlZBVElPTiBQQVIgUFJPR1JBTU1FIElNTU9CSUxJRVIKICAgIGFzeW5jIGdldFR5cGVEb2N1bWVudERlbWFuZGVSZXNlcnZhdGlvbkxpc3RCeVByb2dyYW1tZUltbW9iaWxpZXIocHJvZ3JhbW1lSW1tb2JpbGllcl9pZCkgewogICAgICBheGlvcy5nZXQoQVBJX09CVEVOSVJfTElTVEVfVFlQRVNfRE9DVU1FTlRfREVNQU5ERV9SRVNFUlZBVElPTl9QQVJfUFJPR1JBTU1FX0lNTU9CSUxJRVIocHJvZ3JhbW1lSW1tb2JpbGllcl9pZCkpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMudHlwZURvY3VtZW50RGVtYW5kZVJlc2VydmF0aW9uTGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICB0aGlzLnR5cGVEb2N1bWVudERlbWFuZGVSZXNlcnZhdGlvbkxpc3QuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICAgIHZhciBkb2N1bWVudERlbWFuZGVEZVJlc2VydmF0aW9uTG9nZW1lbnQgPSB7CiAgICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgICBkb2N1bWVudDogewogICAgICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgICAgIGRlc2lnbmF0aW9uOiBudWxsLAogICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLAogICAgICAgICAgICAgIGNvbnRlbnU6IG51bGwsCiAgICAgICAgICAgICAgcGF0aDogbnVsbCwKICAgICAgICAgICAgICBmb3JtYXQ6IHsKICAgICAgICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgICAgICAgdmVyc2lvbjogbnVsbAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgdHlwZURvY3VtZW50OiB7CiAgICAgICAgICAgICAgICBpZDogbnVsbAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICAvKnR5cGVEb2N1bWVudERlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50IDogewogICAgICAgICAgICAgICAgaWQgOiBudWxsICwgCiAgICAgICAgICAgICAgICB0eXBlRG9jdW1lbnQgOiB7fSwKICAgICAgICAgICAgICAgIHByb2dyYW1tZUltbW9iaWxpZXIgOiB7CiAgICAgICAgICAgICAgICAgICAgaWQgOiBudWxsICwgCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgZXN0T2Jsb2dhdG9pcmUgOiBudWxsLAogICAgICAgICAgICB9Ki8KCiAgICAgICAgICB9OwogICAgICAgICAgZG9jdW1lbnREZW1hbmRlRGVSZXNlcnZhdGlvbkxvZ2VtZW50LmRvY3VtZW50LnR5cGVEb2N1bWVudCA9IGVsZW1lbnQudHlwZURvY3VtZW50OyAvL2RvY3VtZW50RGVtYW5kZURlUmVzZXJ2YXRpb25Mb2dlbWVudC50eXBlRG9jdW1lbnREZW1hbmRlUmVzZXJ2YXRpb25Mb2dlbWVudC50eXBlRG9jdW1lbnQgPSBlbGVtZW50LnR5cGVEb2N1bWVudDsKICAgICAgICAgIC8vZG9jdW1lbnREZW1hbmRlRGVSZXNlcnZhdGlvbkxvZ2VtZW50LnR5cGVEb2N1bWVudERlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50LnByb2dyYW1tZUltbW9iaWxpZXIuaWQgPSBlbGVtZW50LnByb2dyYW1tZUltbW9iaWxpZXIuaWQ7CgogICAgICAgICAgdGhpcy5kZW1hbmRlUmVzZXJ2YXRpb25Mb2dlbWVudFRyYW5zZmVydE1vZGVsLmRvY3VtZW50RGVtYW5kZVJlc2VydmF0aW9uTGlzdC5wdXNoKGRvY3VtZW50RGVtYW5kZURlUmVzZXJ2YXRpb25Mb2dlbWVudCk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB9KTsKICAgIH0sCgogICAgLy8gT1VWRVJUVVJFIEQnVU4gRE9DVU1FTlQgREFOUyBVTiBBVVRSRSBPTkdMRVQKICAgIG9wZW5JbWFnZU9yRG9jdW1lbnRQZGYoc291cmNlKSB7CiAgICAgIHdpbmRvdy5vcGVuKHNvdXJjZSk7CiAgICB9LAoKICAgIC8vIFJFQ1VQRVJFUiBMQSBMSVNURSBERVMgUkVGRVJFTkNFIEZBTUlMTEVTIERFIFRZUEUgRE9DVU1FTlQKICAgIGFzeW5jIGdldFJlZmVyZW5jZUZhbWlsbGVUeXBlRG9jdW1lbnQoKSB7CiAgICAgIGF3YWl0IGF4aW9zLmdldChBUElfUkVGRVJFTkNFU19QQVJfRkFNSUxMRSgicmVmLmZhbWlsbGUuZGVtYW5kZVJlc2VydmF0aW9uLnR5cGVEb2N1bWVudCIpKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmZhbWlsbGVUeXBlRG9jdW1lbnRSZXNlcnZhdGlvbkxpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB9KTsKICAgIH0sCgogICAgLy8gUkVDVVBSRVIgTEEgTElTVEUgREUgVE9VUyBMRVMgVFlQRVMgREUgRklOQU5DRU1FTlRTIERJU1BPTklCTEVTCiAgICBhc3luYyBvYnRlbmlyTGlzdHR5cGVGaW5hbmNlbWVudChwcm9ncmFtbWVJbW1vYmlsaWVyX2lkKSB7CiAgICAgIGF3YWl0IGF4aW9zLmdldChBUElfT0JURU5JUl9NT0RFX0ZJTkFOQ0VNRU5UX1BBUl9QUk9HUkFNTUVfSU1NT0JJTElFUihwcm9ncmFtbWVJbW1vYmlsaWVyX2lkKSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy50eXBlRmluYW5jZW1lbnRMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICB0aGlzLmVycm9yTXNnID0gZTsKICAgICAgICAkKCIuYWxlcnQtZXJyb3IiKS5mYWRlSW4oKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVPdXQoKTsKICAgICAgICB9LCA0MDAwKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8vIFJFQ1VQRVJFUiBMQSBMSVNURSBERVMgTU9ERVMgREUgRklOQU5DRU1FTlQgUEFSIFBST0dSQU1NRSBJTU1PQklMSUVSCiAgICBhc3luYyBnZXRNb2RlRmluYW5jZW1lbnRMaXN0UGFyUHJvZ3JhbW1lKHByb2dyYW1tZUltbW9iaWxpZXJfaWQpIHsKICAgICAgYXdhaXQgYXhpb3MuZ2V0KEFQSV9PQlRFTklSX01PREVfRklOQU5DRU1FTlRfUEFSX1BST0dSQU1NRV9JTU1PQklMSUVSKHByb2dyYW1tZUltbW9iaWxpZXJfaWQpKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLm1vZGVGaW5hbmNlbWVudExpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlOwogICAgICAgICQoIi5hbGVydC1lcnJvciIpLmZhZGVJbigpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgJCgiLmFsZXJ0LWVycm9yIikuZmFkZU91dCgpOwogICAgICAgIH0sIDQwMDApOwogICAgICB9KTsKICAgIH0sCgogICAgLy8gVkVSSUZJQ0FUSU9OIERFUyBGSU5BTkNFTUVOVAogICAgY2hlY2tNb2RlRmluYW5jZW1lbnQoKSB7CiAgICAgIGlmICh0aGlzLnR5cGVGaW5hbmNlbWVudElkID09IFJFRl9FTEVNRU5UX1ZBTEVVUl9DT01QVEFOVCkgewogICAgICAgIGlmICh0aGlzLiR2LmZpbmFuY2VtZW50VHJhbnNmZXJ0Q29tcHRhbnRNb2RlbC5maW5hbmNlbWVudENvbXB0YW50LiRpbnZhbGlkKSB7CiAgICAgICAgICB0aGlzLmVycm9yTXNnID0gIkVycmV1ciBsb3JzIGRlIGxhIHZhbGlkYXRpb24gZGUgdm90cmUgcGxhbiBkZSBmaW5hbmNlbWVudDogQ09NUFRBTlQiOwogICAgICAgICAgJCgiLm15QWxlcnQtYm90dG9tIikuZmFkZUluKCk7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgiLm15QWxlcnQtYm90dG9tIikuZmFkZU91dCgpOwogICAgICAgICAgfSwgNDAwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMudHlwZUZpbmFuY2VtZW50SWQgPT0gUkVGX0VMRU1FTlRfVkFMRVVSX0NSRURJVF9CQU5DQUlSRSkgewogICAgICAgIGlmICh0aGlzLiR2LmZpbmFuY2VtZW50VHJhbnNmZXJ0Q3JlZGl0QmFuY2FpcmVNb2RlbC5maW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXIuJGludmFsaWQpIHsKICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSAiRXJyZXVyIGxvcnMgZGUgbGEgdmFsaWRhdGlvbiBkZSB2b3RyZSBwbGFuIGRlIGZpbmFuY2VtZW50OiBDUkVESVQgQkFOQ0FJUkUiOwogICAgICAgICAgJCgiLm15QWxlcnQtYm90dG9tIikuZmFkZUluKCk7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgJCgiLm15QWxlcnQtYm90dG9tIikuZmFkZU91dCgpOwogICAgICAgICAgfSwgNDAwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHRoaXMudHlwZUZpbmFuY2VtZW50SWQgPT0gbnVsbCkgewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSAnRXJyZXVyIDogQXUgbW9pbnMgdW4gcGxhbiBkZSBmaW5hbmNlbWVudCBkb2l0IGV0cmUgY2hvaXNpICEhJzsKICAgICAgICAkKCIubXlBbGVydC1ib3R0b20iKS5mYWRlSW4oKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICQoIi5teUFsZXJ0LWJvdHRvbSIpLmZhZGVPdXQoKTsKICAgICAgICB9LCA0MDAwKTsKICAgICAgfQogICAgfSwKCiAgICAvL1ZBTElEQVRJT04gREVTIFBMQU4gREUgRklOQU5DRU1FTlRTIERBTlMgTEEgTElTVEUgREVTIFBMQU4gREUgRklOQU5DRU1FTlRTCiAgICB2YWxpZGVyUGxhbkZpbmFuY2VtZW50KHBsYW5GaW5hbmNlbWVudENvbXB0YW50VHJhbnNmZXJ0LCBwbGFuRmluYW5jZW1lbnRDcmVkaXRJbW1vYmlsaWVyVHJhbnNmZXJ0KSB7CiAgICAgIHZhciBmaW5hbmNlbWVudENvbXB0YW50VHJhbnNmZXJ0ID0gewogICAgICAgIHR5cGVQbGFuSWQ6IG51bGwsCiAgICAgICAgZmluYW5jZW1lbnRDb21wdGFudDogewogICAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgICBkZXNpZ25hdGlvbjogbnVsbCwKICAgICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLAogICAgICAgICAgZGF0ZUV0SGV1cmU6IG51bGwsCiAgICAgICAgICBtb250YW50OiBudWxsLAogICAgICAgICAgbW9kZUZpbmFuY2VtZW50OiB7CiAgICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgICB0eXBlRmluYW5jZW1lbnQ6IHsKICAgICAgICAgICAgICBpZDogbnVsbAogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwogICAgICB2YXIgZmluYW5jZW1lbnRDcmVkaXRUcmFuc2ZlcnQgPSB7CiAgICAgICAgdHlwZVBsYW5JZDogbnVsbCwKICAgICAgICBmaW5hbmNlbWVudENyZWRpdDogewogICAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgICBkZXNpZ25hdGlvbjogbnVsbCwKICAgICAgICAgIGRlc2NyaXB0aW9uOiBudWxsLAogICAgICAgICAgZGF0ZUV0SGV1cmU6IG51bGwsCiAgICAgICAgICBtb250YW50OiBudWxsLAogICAgICAgICAgbWVuc3VhbGl0ZVByb3Bvc2U6IG51bGwsCiAgICAgICAgICBtZW5zdWFsaXRlRWZmZWN0aWY6IG51bGwsCiAgICAgICAgICBkdXJlZUVmZmVjdGlmOiBudWxsLAogICAgICAgICAgcmV2ZW51TmV0OiBudWxsLAogICAgICAgICAgbW9kZUZpbmFuY2VtZW50OiB7CiAgICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgICB0eXBlRmluYW5jZW1lbnQ6IHsKICAgICAgICAgICAgICBpZDogbnVsbAogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwogICAgICB2YXIgcmVzcG9uc2UgPSB0aGlzLmNoZWNrTW9kZUZpbmFuY2VtZW50KCk7CgogICAgICBpZiAodGhpcy50eXBlRmluYW5jZW1lbnRJZCA9PSBSRUZfRUxFTUVOVF9WQUxFVVJfQ09NUFRBTlQgJiYgcmVzcG9uc2UgPT0gdHJ1ZSkgewogICAgICAgIGZpbmFuY2VtZW50Q29tcHRhbnRUcmFuc2ZlcnQudHlwZVBsYW5JZCA9IFJFRl9FTEVNRU5UX1ZBTEVVUl9DT01QVEFOVDsKICAgICAgICBmaW5hbmNlbWVudENvbXB0YW50VHJhbnNmZXJ0LmZpbmFuY2VtZW50Q29tcHRhbnQuaWQgPSBwbGFuRmluYW5jZW1lbnRDb21wdGFudFRyYW5zZmVydC5maW5hbmNlbWVudENvbXB0YW50LmlkOwogICAgICAgIGZpbmFuY2VtZW50Q29tcHRhbnRUcmFuc2ZlcnQuZmluYW5jZW1lbnRDb21wdGFudC5kZXNpZ25hdGlvbiA9IHBsYW5GaW5hbmNlbWVudENvbXB0YW50VHJhbnNmZXJ0LmZpbmFuY2VtZW50Q29tcHRhbnQuZGVzaWduYXRpb247CiAgICAgICAgZmluYW5jZW1lbnRDb21wdGFudFRyYW5zZmVydC5maW5hbmNlbWVudENvbXB0YW50LmRlc2NyaXB0aW9uID0gcGxhbkZpbmFuY2VtZW50Q29tcHRhbnRUcmFuc2ZlcnQuZmluYW5jZW1lbnRDb21wdGFudC5kZXNjcmlwdGlvbjsKICAgICAgICBmaW5hbmNlbWVudENvbXB0YW50VHJhbnNmZXJ0LmZpbmFuY2VtZW50Q29tcHRhbnQuZGF0ZUV0SGV1cmUgPSBwbGFuRmluYW5jZW1lbnRDb21wdGFudFRyYW5zZmVydC5maW5hbmNlbWVudENvbXB0YW50LmRhdGVEZWJ1dDsKICAgICAgICBmaW5hbmNlbWVudENvbXB0YW50VHJhbnNmZXJ0LmZpbmFuY2VtZW50Q29tcHRhbnQubW9udGFudCA9IHBsYW5GaW5hbmNlbWVudENvbXB0YW50VHJhbnNmZXJ0LmZpbmFuY2VtZW50Q29tcHRhbnQubW9udGFudDsKCiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMubW9kZUZpbmFuY2VtZW50TGlzdC5sZW5ndGg7IGluZGV4KyspIHsKICAgICAgICAgIGlmICh0aGlzLm1vZGVGaW5hbmNlbWVudExpc3RbaW5kZXhdLnR5cGVGaW5hbmNlbWVudC5pZCA9PSBSRUZfRUxFTUVOVF9WQUxFVVJfQ09NUFRBTlQpIHsKICAgICAgICAgICAgZmluYW5jZW1lbnRDb21wdGFudFRyYW5zZmVydC5maW5hbmNlbWVudENvbXB0YW50Lm1vZGVGaW5hbmNlbWVudC5pZCA9IHRoaXMubW9kZUZpbmFuY2VtZW50TGlzdFtpbmRleF0uaWQ7CiAgICAgICAgICAgIGZpbmFuY2VtZW50Q29tcHRhbnRUcmFuc2ZlcnQuZmluYW5jZW1lbnRDb21wdGFudC5tb2RlRmluYW5jZW1lbnQudHlwZUZpbmFuY2VtZW50LmlkID0gdGhpcy5tb2RlRmluYW5jZW1lbnRMaXN0W2luZGV4XS50eXBlRmluYW5jZW1lbnQuaWQ7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLmRlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50VHJhbnNmZXJ0TW9kZWwuZmluYW5jZW1lbnRMaXN0LnB1c2goZmluYW5jZW1lbnRDb21wdGFudFRyYW5zZmVydC5maW5hbmNlbWVudENvbXB0YW50KTsKICAgICAgICB0aGlzLmZpbmFuY2VtZW50TGlzdFRvU2hvd2luZy5wdXNoKGZpbmFuY2VtZW50Q29tcHRhbnRUcmFuc2ZlcnQpOwogICAgICAgIHRoaXMudHlwZUZpbmFuY2VtZW50SWQgPSBudWxsOwogICAgICAgIHBsYW5GaW5hbmNlbWVudENvbXB0YW50VHJhbnNmZXJ0LmZpbmFuY2VtZW50Q29tcHRhbnQuZGVzaWduYXRpb24gPSBudWxsOwogICAgICAgIHBsYW5GaW5hbmNlbWVudENvbXB0YW50VHJhbnNmZXJ0LmZpbmFuY2VtZW50Q29tcHRhbnQuZGVzY3JpcHRpb24gPSBudWxsOwogICAgICAgIHBsYW5GaW5hbmNlbWVudENvbXB0YW50VHJhbnNmZXJ0LmZpbmFuY2VtZW50Q29tcHRhbnQubW9udGFudCA9IG51bGw7CiAgICAgICAgcGxhbkZpbmFuY2VtZW50Q29tcHRhbnRUcmFuc2ZlcnQuZmluYW5jZW1lbnRDb21wdGFudC5kYXRlRGVidXQgPSBudWxsOwogICAgICAgIHRoaXMuaXNTaG93RGlhbG9nQWRkaW5nRmluYW5jZW1lbnRQbGFuID0gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnR5cGVGaW5hbmNlbWVudElkID09IFJFRl9FTEVNRU5UX1ZBTEVVUl9DUkVESVRfQkFOQ0FJUkUgJiYgcmVzcG9uc2UgPT0gdHJ1ZSkgewogICAgICAgIGZpbmFuY2VtZW50Q3JlZGl0VHJhbnNmZXJ0LnR5cGVQbGFuSWQgPSBSRUZfRUxFTUVOVF9WQUxFVVJfQ1JFRElUX0JBTkNBSVJFOwogICAgICAgIGZpbmFuY2VtZW50Q3JlZGl0VHJhbnNmZXJ0LmZpbmFuY2VtZW50Q3JlZGl0LmlkID0gcGxhbkZpbmFuY2VtZW50Q3JlZGl0SW1tb2JpbGllclRyYW5zZmVydC5maW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXIuaWQ7CiAgICAgICAgZmluYW5jZW1lbnRDcmVkaXRUcmFuc2ZlcnQuZmluYW5jZW1lbnRDcmVkaXQuZGVzaWduYXRpb24gPSBwbGFuRmluYW5jZW1lbnRDcmVkaXRJbW1vYmlsaWVyVHJhbnNmZXJ0LmZpbmFuY2VtZW50Q3JlZGl0SW1tb2JpbGllci5kZXNpZ25hdGlvbjsKICAgICAgICBmaW5hbmNlbWVudENyZWRpdFRyYW5zZmVydC5maW5hbmNlbWVudENyZWRpdC5kZXNjcmlwdGlvbiA9IHBsYW5GaW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXJUcmFuc2ZlcnQuZmluYW5jZW1lbnRDcmVkaXRJbW1vYmlsaWVyLmRlc2NyaXB0aW9uOwogICAgICAgIGZpbmFuY2VtZW50Q3JlZGl0VHJhbnNmZXJ0LmZpbmFuY2VtZW50Q3JlZGl0LmRhdGVFdEhldXJlID0gcGxhbkZpbmFuY2VtZW50Q3JlZGl0SW1tb2JpbGllclRyYW5zZmVydC5maW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXIuZGF0ZUV0SGV1cmU7CiAgICAgICAgZmluYW5jZW1lbnRDcmVkaXRUcmFuc2ZlcnQuZmluYW5jZW1lbnRDcmVkaXQubW9udGFudCA9IHBsYW5GaW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXJUcmFuc2ZlcnQuZmluYW5jZW1lbnRDcmVkaXRJbW1vYmlsaWVyLm1vbnRhbnQudG9TdHJpbmcoKTsKICAgICAgICBmaW5hbmNlbWVudENyZWRpdFRyYW5zZmVydC5maW5hbmNlbWVudENyZWRpdC5tZW5zdWFsaXRlUHJvcG9zZSA9IHBsYW5GaW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXJUcmFuc2ZlcnQuZmluYW5jZW1lbnRDcmVkaXRJbW1vYmlsaWVyLm1lbnN1YWxpdGVQcm9wb3NlOwogICAgICAgIGZpbmFuY2VtZW50Q3JlZGl0VHJhbnNmZXJ0LmZpbmFuY2VtZW50Q3JlZGl0Lm1lbnN1YWxpdGVFZmZlY3RpZiA9IHBsYW5GaW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXJUcmFuc2ZlcnQuZmluYW5jZW1lbnRDcmVkaXRJbW1vYmlsaWVyLm1lbnN1YWxpdGVFZmZlY3RpZjsKICAgICAgICBmaW5hbmNlbWVudENyZWRpdFRyYW5zZmVydC5maW5hbmNlbWVudENyZWRpdC5kdXJlZUVmZmVjdGlmID0gcGxhbkZpbmFuY2VtZW50Q3JlZGl0SW1tb2JpbGllclRyYW5zZmVydC5maW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXIuZHVyZWVFZmZlY3RpZjsKICAgICAgICBmaW5hbmNlbWVudENyZWRpdFRyYW5zZmVydC5maW5hbmNlbWVudENyZWRpdC5yZXZlbnVOZXQgPSBwbGFuRmluYW5jZW1lbnRDcmVkaXRJbW1vYmlsaWVyVHJhbnNmZXJ0LmZpbmFuY2VtZW50Q3JlZGl0SW1tb2JpbGllci5yZXZlbnVOZXQ7CgogICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLm1vZGVGaW5hbmNlbWVudExpc3QubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgICBpZiAodGhpcy5tb2RlRmluYW5jZW1lbnRMaXN0W2luZGV4XS50eXBlRmluYW5jZW1lbnQuaWQgPT0gUkVGX0VMRU1FTlRfVkFMRVVSX0NSRURJVF9CQU5DQUlSRSkgewogICAgICAgICAgICBmaW5hbmNlbWVudENyZWRpdFRyYW5zZmVydC5maW5hbmNlbWVudENyZWRpdC5tb2RlRmluYW5jZW1lbnQuaWQgPSB0aGlzLm1vZGVGaW5hbmNlbWVudExpc3RbaW5kZXhdLmlkOwogICAgICAgICAgICBmaW5hbmNlbWVudENyZWRpdFRyYW5zZmVydC5maW5hbmNlbWVudENyZWRpdC5tb2RlRmluYW5jZW1lbnQudHlwZUZpbmFuY2VtZW50LmlkID0gdGhpcy5tb2RlRmluYW5jZW1lbnRMaXN0W2luZGV4XS50eXBlRmluYW5jZW1lbnQuaWQ7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICB0aGlzLmRlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50VHJhbnNmZXJ0TW9kZWwuZmluYW5jZW1lbnRMaXN0LnB1c2goZmluYW5jZW1lbnRDcmVkaXRUcmFuc2ZlcnQuZmluYW5jZW1lbnRDcmVkaXQpOwogICAgICAgIHRoaXMuZmluYW5jZW1lbnRMaXN0VG9TaG93aW5nLnB1c2goZmluYW5jZW1lbnRDcmVkaXRUcmFuc2ZlcnQpOwogICAgICAgIHRoaXMudHlwZUZpbmFuY2VtZW50SWQgPSBudWxsOwogICAgICAgIHBsYW5GaW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXJUcmFuc2ZlcnQuZmluYW5jZW1lbnRDcmVkaXRJbW1vYmlsaWVyLmRlc2lnbmF0aW9uID0gbnVsbDsKICAgICAgICBwbGFuRmluYW5jZW1lbnRDcmVkaXRJbW1vYmlsaWVyVHJhbnNmZXJ0LmZpbmFuY2VtZW50Q3JlZGl0SW1tb2JpbGllci5kZXNjcmlwdGlvbiA9IG51bGw7CiAgICAgICAgcGxhbkZpbmFuY2VtZW50Q3JlZGl0SW1tb2JpbGllclRyYW5zZmVydC5maW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXIubW9udGFudCA9IG51bGw7CiAgICAgICAgcGxhbkZpbmFuY2VtZW50Q3JlZGl0SW1tb2JpbGllclRyYW5zZmVydC5maW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXIubWVuc3VhbGl0ZVByb3Bvc2UgPSBudWxsOwogICAgICAgIHBsYW5GaW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXJUcmFuc2ZlcnQuZmluYW5jZW1lbnRDcmVkaXRJbW1vYmlsaWVyLnJldmVudU5ldCA9IG51bGw7CiAgICAgICAgdGhpcy5pc1Nob3dEaWFsb2dBZGRpbmdGaW5hbmNlbWVudFBsYW4gPSBmYWxzZTsKICAgICAgfQoKICAgICAgdGhpcy5kaWFsb2dGaW5hbmNlbWVudCA9IGZhbHNlOwogICAgfSwKCiAgICAvLyBSRUNVUEVSRVIgTEEgTElTVEUgREVTIEVGSVMgREVQVUlTIExFIE1JRERMRVdBUkUKICAgIGFzeW5jIG9idGVuaXJFZmlMaXN0KCkgewogICAgICBhd2FpdCBheGlvcy5nZXQoQVBJX09CVEVOSVJfTElTVEVfRUZJUykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5lZmlMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICB0aGlzLmVycm9yTXNnID0gZTsKICAgICAgICAkKCIubXlBbGVydC1ib3R0b20iKS5mYWRlSW4oKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICQoIi5teUFsZXJ0LWJvdHRvbSIpLmZhZGVPdXQoKTsKICAgICAgICB9LCA0MDAwKTsKICAgICAgfSk7CiAgICB9LAoKICAgIHJldHVyblRydWVMYWJlbEZvclR5cGVEb2N1bWVudERlbWFuZGVSZXNlcnZhdGlvbihkb2N1bWVudERlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50KSB7CiAgICAgIHZhciBkZXNpZ25hdGlvbjsgLy8gT24gZmFpdCBkJ2Fib3JkIHVuZSByZWNoZXJjaGUgZHUgZG9jdW1lbnQKCiAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnR5cGVEb2N1bWVudERlbWFuZGVSZXNlcnZhdGlvbkxpc3QubGVuZ3RoOyBpbmRleCsrKSB7CiAgICAgICAgaWYgKHRoaXMudHlwZURvY3VtZW50RGVtYW5kZVJlc2VydmF0aW9uTGlzdFtpbmRleF0udHlwZURvY3VtZW50LmlkID09IGRvY3VtZW50RGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnQuZG9jdW1lbnQudHlwZURvY3VtZW50LmlkKSB7CiAgICAgICAgICBmb3IgKGxldCBjb3VudCA9IDA7IGNvdW50IDwgdGhpcy5mYW1pbGxlVHlwZURvY3VtZW50UmVzZXJ2YXRpb25MaXN0Lmxlbmd0aDsgY291bnQrKykgewogICAgICAgICAgICBpZiAodGhpcy50eXBlRG9jdW1lbnREZW1hbmRlUmVzZXJ2YXRpb25MaXN0W2luZGV4XS50eXBlRG9jdW1lbnQuaWQgPT0gdGhpcy5mYW1pbGxlVHlwZURvY3VtZW50UmVzZXJ2YXRpb25MaXN0W2NvdW50XS5pZCkgewogICAgICAgICAgICAgIGRlc2lnbmF0aW9uID0gdGhpcy5mYW1pbGxlVHlwZURvY3VtZW50UmVzZXJ2YXRpb25MaXN0W2NvdW50XS5kZXNpZ25hdGlvbjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGRlc2lnbmF0aW9uOwogICAgfSwKCiAgICAvLyBSRUNVUEVSRVIgTEEgTElTVEUgREVTIENBUkFDVEVSSVNUSVFVRVMgREUgREVNQU5ERSBERSBSRVNFUlZBVElPTlMgUEFSIFBST0dSQU1NRSBJTU1PQklMSUVSCgogICAgLyoqCiAgICAgKiBPbiBjcmVlIMOgIHBhcnRpciBkZXMgY2FyYWN0w6lyaXN0aXF1ZXMgZGUgZGVtYW5kZXMgcmVzZXJ2YXRpb25zIHByb3ZlbmFudCBkdSBtaWRkbGV3YXJlIAogICAgICogZGVzIHZhbGV1ciBjYXJhY3RlcmlzdGlxdWUgZGUgZGVtYW5kZSBkZSByZXNlcnZhdGlvbnMKICAgICovCiAgICBhc3luYyBnZXRDYXJhY3RlcmlzdGlxdWVSZXNlcnZhdGlvblBhclByb2dyYW1tZUltbW9iaWxpZXIocHJvZ3JhbW1lSW1tb2JpbGllcl9pZCkgewogICAgICBhd2FpdCBheGlvcy5nZXQoQVBJX09CVEVOSVJfTElTVEVfQ0FSQUNURVJJU1RJUVVFU19ERU1BTkRFX1JFU0VSVkFUSU9OX1BBUl9QUk9HUkFNTUVfSU1NT0JJTElFUihwcm9ncmFtbWVJbW1vYmlsaWVyX2lkKSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgcmVzcG9uc2UuZGF0YS5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgICB2YXIgdmFsZXVyQ2FyYWN0ZXJpc3RpcXVlRGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnQgPSB7CiAgICAgICAgICAgIGlkOiBudWxsLAogICAgICAgICAgICBkZXNpZ25hdGlvbjogbnVsbCwKICAgICAgICAgICAgdmFsZXVyVGV4dGU6IG51bGwsCiAgICAgICAgICAgIGNhcmFjdGVyaXN0aXF1ZURlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50OiB7fQogICAgICAgICAgfTsKICAgICAgICAgIHZhbGV1ckNhcmFjdGVyaXN0aXF1ZURlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50LmNhcmFjdGVyaXN0aXF1ZURlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50ID0gZWxlbWVudDsKICAgICAgICAgIHRoaXMuZGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnRUcmFuc2ZlcnRNb2RlbC52YWxldXJDYXJhY3RlcmlzdGlxdWVMaXN0LnB1c2godmFsZXVyQ2FyYWN0ZXJpc3RpcXVlRGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnQpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICB0aGlzLmVycm9yTXNnID0gZTsKICAgICAgICAkKCIubXlBbGVydC1ib3R0b20iKS5mYWRlSW4oKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICQoIi5teUFsZXJ0LWJvdHRvbSIpLmZhZGVPdXQoKTsKICAgICAgICB9LCA0MDAwKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8vIFJFQ1VQRVJFUiBMQSBMSVNURSBERVMgUkVGRVJFTkNFUyAoQUNUSVZJVEUgREUgTCdBQ1FVRVJFVVIpCiAgICBhc3luYyBnZXRSZWZlcmVuY2VMaXN0QWN0aXZpdGUoKSB7CiAgICAgIGF3YWl0IGF4aW9zLmdldChBUElfUkVGRVJFTkNFU19QQVJfRkFNSUxMRSgicmVmLmZhbWlsbGUuYWN0aXZpdGVBY3F1ZXJldXIiKSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5yZWZlcmVuY2VBY3Rpdml0ZUxpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB9KTsKICAgIH0sCgogICAgLy8gUkVDVVBFUkVSIExBIExJU1RFIERFUyBWSUxMRVMgREVQVUlTIExFIE1JRERMRVdBUkUKICAgIGFzeW5jIG9idGVuaXJMaXN0ZVZpbGxlcygpIHsKICAgICAgYXdhaXQgYXhpb3MuZ2V0KEFQSV9PQlRFTklSX0xJU1RFX1ZJTExFUykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy52aWxsZXNMaXN0ID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8vIFJFQ1VQRVJFUiBERVBVSVMgTEUgTUlERExFV0FSRSBMQSBMSVNURSBERVMgRk9STUFUUyBESVNQT05JQkxFUwogICAgYXN5bmMgZ2V0Rm9ybWF0TGlzdEF2YWlsYWJsZSgpIHsKICAgICAgYXdhaXQgYXhpb3MuZ2V0KEFQSV9PQlRFTklSX0ZPUk1BVFNfRE9DVU1FTlRTKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmZvcm1hdExpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICB9KTsKICAgIH0sCgogICAgLy9SRUNVUEVSRVIgTEVTIElORk9STUFUSU9OUyBERSBMQSBTSU1VTEFUSU9OIERFIEZJTkFOQ0VNRU5UIFNFTEVDVElPTk7DiUUKICAgIGFzeW5jIGVkaXRpbmdTaW11bGF0aW9uRm9yVHJhbnNmb3JtYXRpb24oKSB7CiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic2ltdWxhdGlvbiIpKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnN0IHNpbXVsYXRpb25FZGl0aW5nID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgic2ltdWxhdGlvbiIpKTsKICAgICAgICAgIGNvbnN0IHNpbXVsYXRpb25GaW5hbmNlbWVudElkID0gc2ltdWxhdGlvbkVkaXRpbmcuaWQ7CiAgICAgICAgICBhd2FpdCBheGlvcy5nZXQoQVBJX1JFQ0hFUkNIRVJfU0lNVUxBVElPTl9GSU5BTkNFTUVOVF9QQVJfSUQoc2ltdWxhdGlvbkZpbmFuY2VtZW50SWQpKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgdGhpcy5kZW1hbmRlUmVzZXJ2YXRpb25Mb2dlbWVudFRyYW5zZmVydE1vZGVsLmRlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50LmRlc2lnbmF0aW9uID0gcmVzcG9uc2UuZGF0YS5kYXRhLmRlc2lnbmF0aW9uOwogICAgICAgICAgICB0aGlzLmRlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50VHJhbnNmZXJ0TW9kZWwuZGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnQuZGVzY3JpcHRpb24gPSByZXNwb25zZS5kYXRhLmRhdGEuZGVzY3JpcHRpb247CiAgICAgICAgICAgIHRoaXMuZGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnRUcmFuc2ZlcnRNb2RlbC5kZW1hbmRlUmVzZXJ2YXRpb25Mb2dlbWVudC5sb2dlbWVudCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5sb2dlbWVudDsKICAgICAgICAgICAgdGhpcy5kZW1hbmRlUmVzZXJ2YXRpb25Mb2dlbWVudFRyYW5zZmVydE1vZGVsLmZpbmFuY2VtZW50TGlzdCA9IHJlc3BvbnNlLmRhdGEuZGF0YS5maW5hbmNlbWVudExpc3Q7CiAgICAgICAgICAgIHRoaXMub2J0ZW5pckNhcmFjdGVyaXN0aXFFdFR5cGVEb2N1bWVudCh0aGlzLmRlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50VHJhbnNmZXJ0TW9kZWwuZGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnQubG9nZW1lbnQpOwogICAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgfSk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgic2ltdWxhdGlvbiIpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgic2ltdWxhdGlvbiIpOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICBwYXRoOiAnL1NlbGVjdGlvbm5lclNpbXVsYXRpb25GaW5hbmNlbWVudEltbW9iaWxpZXInCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KCiAgfSwKICBjb21wdXRlZDogewogICAgLy8gR0VTVElPTlMgREVTIENPTlRSQUlOVEVTIERFUyBDSEFNUFMgRCdFTlRSRUVTIChERVNJR05BVElPTiAsIERFU0NSSVBUSU9OICkgREUgTEEgREVNQU5ERSBERSBSRVNFUlZBVElPTgogICAgZGVzaWduYXRpb25FcnJvcnMoKSB7CiAgICAgIGNvbnN0IGVycm9ycyA9IFtdOwogICAgICBpZiAoIXRoaXMuJHYuZGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnRUcmFuc2ZlcnRNb2RlbC5kZW1hbmRlUmVzZXJ2YXRpb25Mb2dlbWVudC5kZXNpZ25hdGlvbi4kZGlydHkpIHJldHVybiBlcnJvcnM7CiAgICAgICF0aGlzLiR2LmRlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50VHJhbnNmZXJ0TW9kZWwuZGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnQuZGVzaWduYXRpb24ubWF4TGVuZ3RoICYmIGVycm9ycy5wdXNoKCdMYSBkZXNpZ25hdGlvbiBuZSBkb2l0IHBhcyBkw6lwYXNzZXIgNjAwIGNhcmFjdMOocmVzJyk7CiAgICAgICF0aGlzLiR2LmRlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50VHJhbnNmZXJ0TW9kZWwuZGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnQuZGVzaWduYXRpb24ucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goJ0xhIGTDqXNpZ25hdGlvbiBlc3Qgb2JsaWdhdG9pcmUuJyk7CiAgICAgICF0aGlzLiR2LmRlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50VHJhbnNmZXJ0TW9kZWwuZGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnQuZGVzaWduYXRpb24ucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goJ0xhIGTDqXNpZ25hdGlvbiBkb2l0IGF2b2lyIGF1IG1pbmltdW0gOCBjYXJhY3TDqHJlcy4nKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0sCgogICAgZGVzY3JpcHRpb25FcnJvcnMoKSB7CiAgICAgIGNvbnN0IGVycm9ycyA9IFtdOwogICAgICBpZiAoIXRoaXMuJHYuZGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnRUcmFuc2ZlcnRNb2RlbC5kZW1hbmRlUmVzZXJ2YXRpb25Mb2dlbWVudC5kZXNjcmlwdGlvbi4kZGlydHkpIHJldHVybiBlcnJvcnM7CiAgICAgICF0aGlzLiR2LmRlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50VHJhbnNmZXJ0TW9kZWwuZGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnQuZGVzY3JpcHRpb24ubWF4TGVuZ3RoICYmIGVycm9ycy5wdXNoKCdMYSBkZXNjcmlwdGlvbiBuZSBkb2l0IHBhcyBkw6lwYXNzZXIgNjAwIGNhcmFjdMOocmVzJyk7CiAgICAgICF0aGlzLiR2LmRlbWFuZGVSZXNlcnZhdGlvbkxvZ2VtZW50VHJhbnNmZXJ0TW9kZWwuZGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnQuZGVzY3JpcHRpb24ucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goJ0xhIGRlc2NyaXB0aW9uIGVzdCBvYmxpZ2F0b2lyZS4nKTsKICAgICAgIXRoaXMuJHYuZGVtYW5kZVJlc2VydmF0aW9uTG9nZW1lbnRUcmFuc2ZlcnRNb2RlbC5kZW1hbmRlUmVzZXJ2YXRpb25Mb2dlbWVudC5kZXNjcmlwdGlvbi5taW5MZW5ndGggJiYgZXJyb3JzLnB1c2goJ0xhIGRlc2NyaXB0aW9uIGRvaXQgYXZvaXIgcGx1cyBkZSAyMCBjYXJhY3TDqHJlcy4nKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0sCgogICAgLy8gQ09OVFJBSU5URVMgRklOQU5DRU1FTlQgQ09NUFRBTlQKICAgIGRlc2lnbmF0aW9uQ29tcHRhbnRFcnJvcnMoKSB7CiAgICAgIGNvbnN0IGVycm9ycyA9IFtdOwogICAgICBpZiAoIXRoaXMuJHYuZmluYW5jZW1lbnRUcmFuc2ZlcnRDb21wdGFudE1vZGVsLmZpbmFuY2VtZW50Q29tcHRhbnQuZGVzaWduYXRpb24uJGRpcnR5KSByZXR1cm4gZXJyb3JzOwogICAgICAhdGhpcy4kdi5maW5hbmNlbWVudFRyYW5zZmVydENvbXB0YW50TW9kZWwuZmluYW5jZW1lbnRDb21wdGFudC5kZXNpZ25hdGlvbi5tYXhMZW5ndGggJiYgZXJyb3JzLnB1c2goJ0xhIGRlc2NyaXB0aW9uIG5lIGRvaXQgcGFzIGTDqXBhc3NlciA2MDAgY2FyYWN0w6hyZXMnKTsKICAgICAgIXRoaXMuJHYuZmluYW5jZW1lbnRUcmFuc2ZlcnRDb21wdGFudE1vZGVsLmZpbmFuY2VtZW50Q29tcHRhbnQuZGVzaWduYXRpb24ucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goJ0xhIGRlc2NyaXB0aW9uIGVzdCBvYmxpZ2F0b2lyZS4nKTsKICAgICAgIXRoaXMuJHYuZmluYW5jZW1lbnRUcmFuc2ZlcnRDb21wdGFudE1vZGVsLmZpbmFuY2VtZW50Q29tcHRhbnQuZGVzaWduYXRpb24ubWluTGVuZ3RoICYmIGVycm9ycy5wdXNoKCdMYSBkZXNjcmlwdGlvbiBkb2l0IGF2b2lyIHBsdXMgZGUgMjAgY2FyYWN0w6hyZXMuJyk7CiAgICAgIHJldHVybiBlcnJvcnM7CiAgICB9LAoKICAgIGRlc2NyaXB0aW9uQ29tcHRhbnRFcnJvcnMoKSB7CiAgICAgIGNvbnN0IGVycm9ycyA9IFtdOwogICAgICBpZiAoIXRoaXMuJHYuZmluYW5jZW1lbnRUcmFuc2ZlcnRDb21wdGFudE1vZGVsLmZpbmFuY2VtZW50Q29tcHRhbnQuZGVzY3JpcHRpb24uJGRpcnR5KSByZXR1cm4gZXJyb3JzOwogICAgICAhdGhpcy4kdi5maW5hbmNlbWVudFRyYW5zZmVydENvbXB0YW50TW9kZWwuZmluYW5jZW1lbnRDb21wdGFudC5kZXNjcmlwdGlvbi5tYXhMZW5ndGggJiYgZXJyb3JzLnB1c2goJ0xhIGRlc2NyaXB0aW9uIG5lIGRvaXQgcGFzIGTDqXBhc3NlciA2MDAgY2FyYWN0w6hyZXMnKTsKICAgICAgIXRoaXMuJHYuZmluYW5jZW1lbnRUcmFuc2ZlcnRDb21wdGFudE1vZGVsLmZpbmFuY2VtZW50Q29tcHRhbnQuZGVzY3JpcHRpb24ucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goJ0xhIGRlc2NyaXB0aW9uIGVzdCBvYmxpZ2F0b2lyZS4nKTsKICAgICAgIXRoaXMuJHYuZmluYW5jZW1lbnRUcmFuc2ZlcnRDb21wdGFudE1vZGVsLmZpbmFuY2VtZW50Q29tcHRhbnQuZGVzY3JpcHRpb24ubWluTGVuZ3RoICYmIGVycm9ycy5wdXNoKCdMYSBkZXNjcmlwdGlvbiBkb2l0IGF2b2lyIHBsdXMgZGUgMjAgY2FyYWN0w6hyZXMuJyk7CiAgICAgIHJldHVybiBlcnJvcnM7CiAgICB9LAoKICAgIG1vbnRhbnRDb21wdGFudEVycm9ycygpIHsKICAgICAgY29uc3QgZXJyb3JzID0gW107CiAgICAgIGlmICghdGhpcy4kdi5maW5hbmNlbWVudFRyYW5zZmVydENvbXB0YW50TW9kZWwuZmluYW5jZW1lbnRDb21wdGFudC5tb250YW50LiRkaXJ0eSkgcmV0dXJuIGVycm9yczsKICAgICAgIXRoaXMuJHYuZmluYW5jZW1lbnRUcmFuc2ZlcnRDb21wdGFudE1vZGVsLmZpbmFuY2VtZW50Q29tcHRhbnQubW9udGFudC5yZXF1aXJlZCAmJiBlcnJvcnMucHVzaCgnTGUgbW9udGFudCBlc3Qgb2JsaWdhdG9pcmUuJyk7CiAgICAgICF0aGlzLiR2LmZpbmFuY2VtZW50VHJhbnNmZXJ0Q29tcHRhbnRNb2RlbC5maW5hbmNlbWVudENvbXB0YW50Lm1vbnRhbnQubnVtZXJpYyAmJiBlcnJvcnMucHVzaCgnRW50cmVyIHVuIG1vbnRhbnQgY29ycmVjdCcpOwogICAgICByZXR1cm4gZXJyb3JzOwogICAgfSwKCiAgICAvL0NPTlRSQUlOVEVTIENSRURJVCBCQU5DQUlSRVMKICAgIGRlc2lnbmF0aW9uQ3JlZGl0QmFuY2FpcmVFcnJvcnMoKSB7CiAgICAgIGNvbnN0IGVycm9ycyA9IFtdOwogICAgICBpZiAoIXRoaXMuJHYuZmluYW5jZW1lbnRUcmFuc2ZlcnRDcmVkaXRCYW5jYWlyZU1vZGVsLmZpbmFuY2VtZW50Q3JlZGl0SW1tb2JpbGllci5kZXNpZ25hdGlvbi4kZGlydHkpIHJldHVybiBlcnJvcnM7CiAgICAgICF0aGlzLiR2LmZpbmFuY2VtZW50VHJhbnNmZXJ0Q3JlZGl0QmFuY2FpcmVNb2RlbC5maW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXIuZGVzaWduYXRpb24ubWF4TGVuZ3RoICYmIGVycm9ycy5wdXNoKCdMYSBkZXNjcmlwdGlvbiBuZSBkb2l0IHBhcyBkw6lwYXNzZXIgNjAwIGNhcmFjdMOocmVzJyk7CiAgICAgICF0aGlzLiR2LmZpbmFuY2VtZW50VHJhbnNmZXJ0Q3JlZGl0QmFuY2FpcmVNb2RlbC5maW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXIuZGVzaWduYXRpb24ucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goJ0xhIGRlc2NyaXB0aW9uIGVzdCBvYmxpZ2F0b2lyZS4nKTsKICAgICAgIXRoaXMuJHYuZmluYW5jZW1lbnRUcmFuc2ZlcnRDcmVkaXRCYW5jYWlyZU1vZGVsLmZpbmFuY2VtZW50Q3JlZGl0SW1tb2JpbGllci5kZXNpZ25hdGlvbi5taW5MZW5ndGggJiYgZXJyb3JzLnB1c2goJ0xhIGRlc2NyaXB0aW9uIGRvaXQgYXZvaXIgcGx1cyBkZSAyMCBjYXJhY3TDqHJlcy4nKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0sCgogICAgZGVzY3JpcHRpb25DcmVkaXRCYW5jYWlyZUVycm9ycygpIHsKICAgICAgY29uc3QgZXJyb3JzID0gW107CiAgICAgIGlmICghdGhpcy4kdi5maW5hbmNlbWVudFRyYW5zZmVydENyZWRpdEJhbmNhaXJlTW9kZWwuZmluYW5jZW1lbnRDcmVkaXRJbW1vYmlsaWVyLmRlc2NyaXB0aW9uLiRkaXJ0eSkgcmV0dXJuIGVycm9yczsKICAgICAgIXRoaXMuJHYuZmluYW5jZW1lbnRUcmFuc2ZlcnRDcmVkaXRCYW5jYWlyZU1vZGVsLmZpbmFuY2VtZW50Q3JlZGl0SW1tb2JpbGllci5kZXNjcmlwdGlvbi5tYXhMZW5ndGggJiYgZXJyb3JzLnB1c2goJ0xhIGRlc2NyaXB0aW9uIG5lIGRvaXQgcGFzIGTDqXBhc3NlciA2MDAgY2FyYWN0w6hyZXMnKTsKICAgICAgIXRoaXMuJHYuZmluYW5jZW1lbnRUcmFuc2ZlcnRDcmVkaXRCYW5jYWlyZU1vZGVsLmZpbmFuY2VtZW50Q3JlZGl0SW1tb2JpbGllci5kZXNjcmlwdGlvbi5yZXF1aXJlZCAmJiBlcnJvcnMucHVzaCgnTGEgZGVzY3JpcHRpb24gZXN0IG9ibGlnYXRvaXJlLicpOwogICAgICAhdGhpcy4kdi5maW5hbmNlbWVudFRyYW5zZmVydENyZWRpdEJhbmNhaXJlTW9kZWwuZmluYW5jZW1lbnRDcmVkaXRJbW1vYmlsaWVyLmRlc2NyaXB0aW9uLm1pbkxlbmd0aCAmJiBlcnJvcnMucHVzaCgnTGEgZGVzY3JpcHRpb24gZG9pdCBhdm9pciBwbHVzIGRlIDIwIGNhcmFjdMOocmVzLicpOwogICAgICByZXR1cm4gZXJyb3JzOwogICAgfSwKCiAgICBtb250YW50Q3JlZGl0QmFuY2FpcmVFcnJvcnMoKSB7CiAgICAgIGNvbnN0IGVycm9ycyA9IFtdOwogICAgICBpZiAoIXRoaXMuJHYuZmluYW5jZW1lbnRUcmFuc2ZlcnRDcmVkaXRCYW5jYWlyZU1vZGVsLmZpbmFuY2VtZW50Q3JlZGl0SW1tb2JpbGllci5tb250YW50LiRkaXJ0eSkgcmV0dXJuIGVycm9yczsKICAgICAgIXRoaXMuJHYuZmluYW5jZW1lbnRUcmFuc2ZlcnRDcmVkaXRCYW5jYWlyZU1vZGVsLmZpbmFuY2VtZW50Q3JlZGl0SW1tb2JpbGllci5tb250YW50LnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCdMZSBtb250YW50IGVzdCBvYmxpZ2F0b2lyZS4nKTsKICAgICAgIXRoaXMuJHYuZmluYW5jZW1lbnRUcmFuc2ZlcnRDcmVkaXRCYW5jYWlyZU1vZGVsLmZpbmFuY2VtZW50Q3JlZGl0SW1tb2JpbGllci5tb250YW50Lm51bWVyaWMgJiYgZXJyb3JzLnB1c2goJ0VudHJleiB1biBtb250YW50IGV4YWN0LicpOwogICAgICByZXR1cm4gZXJyb3JzOwogICAgfSwKCiAgICBtZW5zdWFsaXRlUHJvcG9zZUNyZWRpdEJhbmNhaXJlRXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LmZpbmFuY2VtZW50VHJhbnNmZXJ0Q3JlZGl0QmFuY2FpcmVNb2RlbC5maW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXIubWVuc3VhbGl0ZVByb3Bvc2UuJGRpcnR5KSByZXR1cm4gZXJyb3JzOwogICAgICAhdGhpcy4kdi5maW5hbmNlbWVudFRyYW5zZmVydENyZWRpdEJhbmNhaXJlTW9kZWwuZmluYW5jZW1lbnRDcmVkaXRJbW1vYmlsaWVyLm1lbnN1YWxpdGVQcm9wb3NlLnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCdFbnRyZXIgdW5lIG1lbnN1YWxpdMOpIGEgcHJvcG9zw6kuJyk7CiAgICAgICF0aGlzLiR2LmZpbmFuY2VtZW50VHJhbnNmZXJ0Q3JlZGl0QmFuY2FpcmVNb2RlbC5maW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXIubWVuc3VhbGl0ZVByb3Bvc2UubnVtZXJpYyAmJiBlcnJvcnMucHVzaCgnTGEgbWVuc3VhbGl0w6kgcHJvcG9zw6kgZG9pdCDDqnRyZSB1biBub21icmUuJyk7CiAgICAgIHJldHVybiBlcnJvcnM7CiAgICB9LAoKICAgIHJldmVudU5ldENyZWRpdEJhbmNhaXJlRXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LmZpbmFuY2VtZW50VHJhbnNmZXJ0Q3JlZGl0QmFuY2FpcmVNb2RlbC5maW5hbmNlbWVudENyZWRpdEltbW9iaWxpZXIucmV2ZW51TmV0LiRkaXJ0eSkgcmV0dXJuIGVycm9yczsKICAgICAgIXRoaXMuJHYuZmluYW5jZW1lbnRUcmFuc2ZlcnRDcmVkaXRCYW5jYWlyZU1vZGVsLmZpbmFuY2VtZW50Q3JlZGl0SW1tb2JpbGllci5yZXZlbnVOZXQucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goJ0xlIHJldmVudSBORVQgZXN0IG9ibGlnYXRvaXJlLicpOwogICAgICAhdGhpcy4kdi5maW5hbmNlbWVudFRyYW5zZmVydENyZWRpdEJhbmNhaXJlTW9kZWwuZmluYW5jZW1lbnRDcmVkaXRJbW1vYmlsaWVyLnJldmVudU5ldC5udW1lcmljICYmIGVycm9ycy5wdXNoKCdSZXZlbnUgTmV0IG5vbiBleGFjdC4nKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0KCiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZWRpdGluZ1NpbXVsYXRpb25Gb3JUcmFuc2Zvcm1hdGlvbigpOwogIH0KCn07"},{"version":3,"mappings":";AAqXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;EACAA,wCADA;EAEAC;IACAC,aADA;IAEAC;EAFA,CAFA;;EAMAC;IACA;MACAC,gBADA;MAEAC,cAFA;MAGAC,gBAHA;MAIAC,cAJA;MAKAC,wBALA;MAMAC,mCANA;MAOAC,KAPA;MAUAC,cAVA;MAWAC,iDAXA;MAYAC,yBAZA;MAaAC,cAbA;MAcAC,uBAdA;MAeAC,cAfA;MAgBAC,uBAhBA;MAiBAC,+CAjBA;MAkBAC,4CAlBA;MAmBAC,wCAnBA;MAoBAC,mBApBA;MAqBAC,WArBA;MAsBAC,uBAtBA;MAuBAC,sCAvBA;MAwBAC,sCAxBA;MA4BAC;QACAC;UACAC,QADA;UAEAC,iBAFA;UAGAC,iBAHA;UAIAC,2BAJA;UAKAC,qBALA;UAMAC,4BANA;UAOAC,sBAPA;UAQA;UACAC;YACAP;UADA,CATA;UAYAQ,YAZA;UAaAC,aAbA;UAcAC;QAdA,CADA;QAiBAC,mBAjBA;QAkBAC,6BAlBA;QAmBAC;MAnBA,CA5BA;MAmDAC;QACAC,2BADA;QAEAC;UACAhB,QADA;UAEAC,iBAFA;UAGAC,iBAHA;UAIAe,iBAJA;UAKAC,aALA;UAMAC;YACAnB,QADA;YAEAoB;cACApB;YADA;UAFA;QANA;MAFA,CAnDA;MAuEAqB;QACAN,2BADA;QAEAO;UACAtB,QADA;UAEAC,iBAFA;UAGAC,iBAHA;UAIAgB,aAJA;UAKAK,uBALA;UAMAC,wBANA;UAOAC,mBAPA;UAQAC,eARA;UASAP;YACAnB,QADA;YAEAoB;cACApB;YADA;UAFA;QATA;MAFA,CAvEA;MA8FA2B;QACAZ,2BADA;QAEAa;UACA5B,QADA;UAEAE,iBAFA;UAGAD,iBAHA;UAIAiB,aAJA;UAKAD,iBALA;UAMAY;QANA;MAFA,CA9FA;MA4GAC;QACAf,2BADA;QAEAgB;UACA/B,QADA;UAEAC,iBAFA;UAGAC,iBAHA;UAIAgB,aAJA;UAKAD,iBALA;UAMAe,0BANA;UAOAC,2BAPA;UAQAC;YACAlC,QADA;YAEAmC,qBAFA;YAGAC,iBAHA;YAIAC,uBAJA;YAKAC,eALA;YAMAC,kBANA;YAOAC;UAPA,CARA;UAiBAC;QAjBA;MAFA,CA5GA;MAqIAC;QACA1C,QADA;QAEA2C,mBAFA;QAGAzB;MAHA,CArIA;MA2IA0B,mCA3IA;MA6IAC,eA7IA;MA+IAC;QACA9C,QADA;QAEAC;MAFA,CA/IA;MAoJA8C;IApJA;EAsJA,CA7JA;;EA8JAC;IACAlD;MACAC;QACAE;UACAgD,QADA;UAEAC,uBAFA;UAGAC;QAHA,CADA;QAOAjD;UACA+C,QADA;UAEAC,uBAFA;UAGAC;QAHA;MAPA;IADA,CADA;IAkBArC;MACAE;QACAf;UACAgD,QADA;UAEAC,uBAFA;UAGAC;QAHA,CADA;QAMAjD;UACA+C,QADA;UAEAC,uBAFA;UAGAC;QAHA,CANA;QAWAjC;UACA+B,QADA;UAEAG;QAFA;MAXA;IADA,CAlBA;IAsCA/B;MACAC;QACArB;UACAgD,QADA;UAEAC,uBAFA;UAGAC;QAHA,CADA;QAMAjD;UACA+C,QADA;UAEAC,uBAFA;UAGAC;QAHA,CANA;QAWAjC;UACA+B,QADA;UAEAG;QAFA,CAXA;QAeA7B;UACA0B,QADA;UAEAG;QAFA,CAfA;QAoBA1B;UACAuB,QADA;UAEAG;QAFA;MApBA;IADA,CAtCA;IAmEAzB;MACAC;QACA3B;UACAgD,QADA;UAEAC,uBAFA;UAGAC;QAHA,CADA;QAMAjD;UACA+C,QADA;UAEAC,uBAFA;UAGAC;QAHA,CANA;QAWAjC;UACA+B;QADA;MAXA;IADA,CAnEA;IAsFAnB;MACAC;QACA9B;UACAgD,QADA;UAEAC,uBAFA;UAGAC;QAHA,CADA;QAMAjD;UACA+C,QADA;UAEAC,uBAFA;UAGAC;QAHA,CANA;QAWAjC;UACA+B;QADA,CAXA;QAcAjB;UACAiB;QADA,CAdA;QAiBAhB;UACAgB;QADA,CAjBA;QAqBAf;UACAC;YACAc;UADA,CADA;UAIAZ;YACAY;UADA,CAJA;UAOAX;YACAW;UADA,CAPA;UAUAV;YACAU;UADA,CAVA;UAaAT;YACAS;UADA;QAbA;MArBA;IADA,CAtFA;IAoIAP;MACAC;QACAM;MADA,CADA;MAIA/B;QACA+B;MADA;IAJA;EApIA,CA9JA;EA4SAI;IAEA;IAEA,mDAEA,CANA;;IAQA;IAEAC;MACA;QACA;UACA;UACA;UACAC;;UACAA;YACA;YACA;cACA;gBACA;cACA;YACA,CAJA;UAKA,CAPA;QAQA;MACA;IACA,CA1BA;;IA6BA;IACA;MACA;QACA;QACA;QACA;QACA;MACA;IACA,CArCA;;IAwCA;IAEA;MACA;QACA;UACA;UACA;QACA,CAHA,EAGAC,KAHA,CAGAC;UACAC;QACA,CALA;MAMA;;MACA;MACA;MACA;MACA;IACA,CAvDA;;IA0DA;IAEA;MACAC;QACA;QACA;UACA;YACA3D,QADA;YAEA4D;cACA5D,QADA;cAEAC,iBAFA;cAGAC,iBAHA;cAIA2D,aAJA;cAKAC,UALA;cAMAC;gBACA/D,QADA;gBAEAgE;cAFA,CANA;cAUAC;gBACAjE;cADA;YAVA;YAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;UAvBA;UAyBAkE,kFA1BA,CA2BA;UACA;;UACA;QACA,CA9BA;MA+BA,CAjCA,EAiCAV,KAjCA,CAiCAW;QACAT;MACA,CAnCA;IAoCA,CAjGA;;IAmGA;IACAU;MACAC;IACA,CAtGA;;IA0GA;IAEA;MACA;QACA;MACA,CAFA,EAEAb,KAFA,CAEAW;QACAT;MACA,CAJA;IAMA,CAnHA;;IAqHA;IAEA;MAEA,+FACAY,IADA,CACAC;QACA;MACA,CAHA,EAGAf,KAHA,CAGAW;QACA;QACAK;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAIA,CAVA;IAWA,CApIA;;IAsIA;IAEA;MAEA,+FACAF,IADA,CACAC;QACA;MACA,CAHA,EAGAf,KAHA,CAGAW;QACA;QACAK;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAIA,CAVA;IAWA,CArJA;;IAuJA;IAEAE;MAEA;QACA;UACA;UACAF;UACAC;YACAD;UACA,CAFA,EAEA,IAFA;QAGA,CANA,MAMA;UACA;QACA;MACA;;MAEA;QACA;UACA;UACAA;UACAC;YACAD;UACA,CAFA,EAEA,IAFA;QAGA,CANA,MAMA;UACA;QACA;MACA;;MAEA;QACA;QACAA;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA;IACA,CA1LA;;IA6LA;IAEAG;MAEA;QACAC,gBADA;QAEA5D;UACAhB,QADA;UAEAC,iBAFA;UAGAC,iBAHA;UAIAe,iBAJA;UAKAC,aALA;UAMAC;YACAnB,QADA;YAEAoB;cACApB;YADA;UAFA;QANA;MAFA;MAkBA;QACA4E,gBADA;QAEAC;UACA7E,QADA;UAEAC,iBAFA;UAGAC,iBAHA;UAIAe,iBAJA;UAKAC,aALA;UAMAK,uBANA;UAOAuD,wBAPA;UAQArD,mBARA;UASAC,eATA;UAUAP;YACAnB,QADA;YAEAoB;cACApB;YADA;UAFA;QAVA;MAFA;MAqBA;;MAEA;QAEA+E;QACAA;QACAA;QACAA;QACAA;QACAA;;QAEA;UACA;YACAA;YACAA;UACA;QACA;;QAEA;QACA;QACA;QACAC;QACAA;QACAA;QACAA;QACA;MAEA;;MAGA;QAEAC;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;QACAA;;QAEA;UACA;YACAA;YACAA;UACA;QACA;;QAEA;QACA;QACA;QACAC;QACAA;QACAA;QACAA;QACAA;QACA;MACA;;MAEA;IAEA,CAvSA;;IAySA;IAEA;MAEA;QACA;MACA,CAFA,EAEA1B,KAFA,CAEAW;QACA;QACAK;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAIA,CATA;IAWA,CAxTA;;IA0TAW;MACA,gBADA,CAEA;;MACA;QACA;UACA;YACA;cACAlF;YACA;UACA;QACA;MACA;;MACA;IACA,CAvUA;;IA0UA;;IAEA;AACA;AACA;AACA;IAEA;MACA;QACAsE;UACA;YACAvE,QADA;YAEAC,iBAFA;YAGAmF,iBAHA;YAIAC;UAJA;UAMAC;UACA;QACA,CATA;MAUA,CAXA,EAWA9B,KAXA,CAWAW;QACA;QACAK;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAIA,CAlBA;IAoBA,CAtWA;;IAwWA;IACA;MACA;QACA;MACA,CAFA,EAEAhB,KAFA,CAEAW;QACAT;MACA,CAJA;IAMA,CAhXA;;IAmXA;IACA;MACA;QACA;MACA,CAFA,EAEAF,KAFA,CAEAW;QACAT;MACA,CAJA;IAMA,CA3XA;;IA6XA;IACA;MACA;QACA;MACA,CAFA,EAEAF,KAFA,CAEAW;QACAT;MACA,CAJA;IAMA,CArYA;;IAuYA;IAEA;MACA;QACA;UACA;UACA;UACA;YACA;YACA;YACA;YACA;YACA;UACA,CANA,EAMAF,KANA,CAMAW;YACAT;UACA,CARA;UASA6B;QACA,CAbA,CAaA;UACAA;QACA;MACA,CAjBA,MAiBA;QACA;UAAAzB;QAAA;MACA;IACA;;EA9ZA,CA5SA;EA6sBA0B;IACA;IAEAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CAVA;;IAYAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CAnBA;;IAqBA;IAEAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CA9BA;;IAgCAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CAvCA;;IAyCAC;MACA;MACA;MACA;MACA;MAEA;IACA,CAhDA;;IAkDA;IAEAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CA3DA;;IA6DAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CApEA;;IAsEAC;MACA;MACA;MACA;MACA;MACA;IACA,CA5EA;;IA8EAC;MACA;MACA;MACA;MACA;MACA;IACA,CApFA;;IAsFAC;MACA;MACA;MACA;MACA;MACA;IACA;;EA5FA,CA7sBA;;EA6yBAC;IACA;EACA;;AA/yBA","names":["name","components","NavigationBar","FooterBar","data","successMsg","errorMsg","warningMsg","overlay","dialogFinancement","dialogPlanFinancementChoosed","e6","myLogement","caracteristiqueDemandeReservationLogementList","referenceActiviteList","villesList","typeFinancementList","formatList","modeFinancementList","valeurCaracteristiqueDemandeReservationList","valeurTypeDocumentDemandeReservationList","isShowDialogAddingFinancementPlan","periodiciteList","efiList","typeFinancementId","familleTypeDocumentReservationList","typeDocumentDemandeReservationList","demandeReservationLogementTransfertModel","demandeReservationLogement","id","designation","description","estValideParPromoteur","estValideParEfi","motifRefusParPromoteur","motifRefusParEfi","user","logement","etapeList","etapeEnCours","financementList","valeurCaracteristiqueList","documentDemandeReservationList","financementTransfertComptantModel","typePlanFinancementId","financementComptant","dateEtHeure","montant","modeFinancement","typeFinancement","financementTransfertCreditBancaireModel","financementCreditImmobilier","mensualitePropose","mensualitEffectif","dureeEffectif","revenuNet","financementTransfertComptantPallierModel","financementComptantPallierSurSituation","pallierComptantSurSituationList","financementTransfertTemperamentModel","financementTemperament","nombrePeriodePropose","nombrePeriodeEffectif","modeTemperament","apportPersonnel","periodicite","nombrePeriodeMaxi","dateDebut","delaiRelance","tauxAcompteMini","echeanceFinancementTemperamentList","echeanceFinancementTemperament","numeroPeriode","comptantSurSituationPallierList","messageList","pallierComptantSurSituationModel","financementListToShowing","validations","required","minLength","maxLength","numeric","methods","pickDocumentForReservation","reader","catch","error","console","axios","document","contenu","path","format","version","typeDocument","documentDemandeDeReservationLogement","e","openImageOrDocumentPdf","window","then","response","$","setTimeout","checkModeFinancement","validerPlanFinancement","typePlanId","financementCredit","mensualiteEffectif","financementComptantTransfert","planFinancementComptantTransfert","financementCreditTransfert","planFinancementCreditImmobilierTransfert","returnTrueLabelForTypeDocumentDemandeReservation","valeurTexte","caracteristiqueDemandeReservationLogement","valeurCaracteristiqueDemandeReservationLogement","localStorage","computed","designationErrors","descriptionErrors","designationComptantErrors","descriptionComptantErrors","montantComptantErrors","designationCreditBancaireErrors","descriptionCreditBancaireErrors","montantCreditBancaireErrors","mensualiteProposeCreditBancaireErrors","revenuNetCreditBancaireErrors","mounted"],"sourceRoot":"src/components/espace_client/simulationLogementFinancementImmobilier","sources":["TransformerSimulationFinancement.vue"],"sourcesContent":["<template>\n    <v-app>\n        <NavigationBar/>\n        <v-main>\n\n            <v-container fluid>\n\n                <v-card elevation=\"1\">\n\n                    <v-card-title class=\"card_title\">TRANSFORMER LA SIMULATION\n                        <v-spacer></v-spacer>\n                        <v-dialog v-model=\"dialogPlanFinancementChoosed\" fullscreen hide-overlay transition=\"dialog-bottom-transition\">\n                            <template v-slot:activator=\"{ on, attrs }\">\n                                <v-btn icon color=\"primary\" dark v-bind=\"attrs\" v-on=\"on\"><v-badge :content=\"demandeReservationLogementTransfertModel.financementList.length\" :value=\"demandeReservationLogementTransfertModel.financementList.length\" color=\"green\" overlap><v-icon>mdi-finance</v-icon></v-badge></v-btn>\n                            </template>\n\n                            <v-card>\n                                <v-toolbar dark color=\"white\">\n                                    <v-btn icon @click=\"dialogPlanFinancementChoosed=false\">\n                                        <v-icon color=\"black\">mdi-close</v-icon>\n                                    </v-btn>\n                                    <v-toolbar-title class=\"title_color\">MES PLANS DE FINANCEMENTS</v-toolbar-title>\n\n                                    <v-spacer></v-spacer>\n\n                                </v-toolbar>\n\n                                <v-container>\n                                    <v-row>\n                                        <v-col cols=\"6\" v-for=\"(financement , f) in demandeReservationLogementTransfertModel.financementList\" :key=\"f\">\n                                            <v-card>\n                                                <v-card-title>PLAN DE FINANCEMENT N {{ f+1 }}\n                                                    <v-spacer></v-spacer>\n                                                    <v-btn icon color=\"info\" @click=\"deleteFinancement(f)\"><v-icon>mdi-delete</v-icon></v-btn>\n                                                </v-card-title>\n\n                                                <v-list-item>\n                                                    <v-list-item-content>\n                                                        <v-list-item-subtitle>type de financement :</v-list-item-subtitle>\n                                                    </v-list-item-content>\n                    \n                                                    <v-list-item-content>\n                                                        <v-list-item-subtitle>{{ financement.modeFinancement.typeFinancement.designation }}</v-list-item-subtitle>\n                                                    </v-list-item-content>\n                                                </v-list-item>\n\n                                                <v-list-item>\n                                                    <v-list-item-content>\n                                                        <v-list-item-subtitle>Dsignation :</v-list-item-subtitle>\n                                                    </v-list-item-content>\n                    \n                                                    <v-list-item-content>\n                                                        <v-list-item-subtitle>{{ financement.designation }}</v-list-item-subtitle>\n                                                    </v-list-item-content>\n                                                </v-list-item>\n\n                                                <div v-if=\"financement.modeFinancement.typeFinancement.designation == 'Comptant'\">\n                                                    <v-list-item>\n                                                        <v-list-item-content>\n                                                            <v-list-item-subtitle>Montant :</v-list-item-subtitle>\n                                                        </v-list-item-content>\n                    \n                                                        <v-list-item-content>\n                                                            <v-list-item-subtitle>{{ financement.montant }} FCFA</v-list-item-subtitle>\n                                                        </v-list-item-content>\n                                                    </v-list-item>\n                                                </div>\n\n                                                <div v-if=\"financement.modeFinancement.typeFinancement.designation == 'Credit bancaire'\">\n                                                    <v-list-item>\n                                                        <v-list-item-content>\n                                                            <v-list-item-subtitle>Montant :</v-list-item-subtitle>\n                                                        </v-list-item-content>\n                    \n                                                        <v-list-item-content>\n                                                            <v-list-item-subtitle>{{ financement.montant }} FCFA</v-list-item-subtitle>\n                                                        </v-list-item-content>\n                                                    </v-list-item>\n\n                                                    <v-list-item>\n                                                        <v-list-item-content>\n                                                            <v-list-item-subtitle>Mensualit Propos :</v-list-item-subtitle>\n                                                        </v-list-item-content>\n                    \n                                                        <v-list-item-content>\n                                                            <v-list-item-subtitle>{{ financement.mensualitePropose }}</v-list-item-subtitle>\n                                                        </v-list-item-content>\n                                                    </v-list-item>\n\n                                                    <v-list-item>\n                                                        <v-list-item-content>\n                                                            <v-list-item-subtitle>Revenu Net :</v-list-item-subtitle>\n                                                        </v-list-item-content>\n                    \n                                                        <v-list-item-content>\n                                                            <v-list-item-subtitle>{{ financement.revenuNet }} FCFA</v-list-item-subtitle>\n                                                        </v-list-item-content>\n                                                    </v-list-item>\n                                                </div>\n\n                                            </v-card>\n                                        </v-col>\n                                    </v-row>\n                                </v-container>\n                            </v-card>\n                        </v-dialog>\n                    </v-card-title>\n\n                    <v-spacer></v-spacer>\n                    <v-stepper v-model=\"e6\" vertical>\n    \n                        <v-stepper-step :complete=\"e6 > 1\" step=\"1\">INFORMATIONS GNERALE(S)\n                            <small>Informations portant sur votre reservation</small>\n                        </v-stepper-step>\n  \n                        <v-stepper-content step=\"1\">\n                            <v-card class=\"mb-12\">\n                                <v-container>\n                                    <v-row>\n                                        <v-col>\n                                            <v-text-field color=\"teal\" :error-messages=\"designationErrors\" label=\"Designation de la simulation\"\n                                                v-model.trim=\"$v.demandeReservationLogementTransfertModel.demandeReservationLogement.designation.$model\"\n                                                @input=\"$v.demandeReservationLogementTransfertModel.demandeReservationLogement.designation.$touch()\"\n                                                @blur=\"$v.demandeReservationLogementTransfertModel.demandeReservationLogement.designation.$touch()\">\n                                            </v-text-field>\n                                        </v-col>\n                                        <v-col>\n                                            <v-textarea color=\"teal\" :error-messages=\"descriptionErrors\" label=\"Description\"\n                                                v-model.trim=\"$v.demandeReservationLogementTransfertModel.demandeReservationLogement.description.$model\"\n                                                @input=\"$v.demandeReservationLogementTransfertModel.demandeReservationLogement.description.$touch()\"\n                                                @blur=\"$v.demandeReservationLogementTransfertModel.demandeReservationLogement.description.$touch()\">\n                                            </v-textarea>\n                                        </v-col>\n                                    </v-row>\n                                </v-container>\n                            </v-card>\n                                <v-btn color=\"primary\" @click=\"e6 = 2\">Continue</v-btn>\n                                <v-btn text>Cancel</v-btn>\n                        </v-stepper-content>\n  \n                        <v-stepper-step :complete=\"e6 > 2\" step=\"2\">PLAN DE FINANCEMENTS</v-stepper-step>\n  \n                        <v-stepper-content step=\"2\">\n                            <v-card height=\"50px\" class=\"mb-12\">\n                                <v-container>\n                                    <v-row justify=\"center\">\n                                        <v-dialog v-model=\"dialogFinancement\" persistent max-width=\"600px\">\n                                            <template v-slot:activator=\"{ on, attrs }\">\n                                                <v-btn color=\"primary\" dark v-bind=\"attrs\" v-on=\"on\">CREER UN PLAN</v-btn>\n                                            </template>\n\n                                            <v-card>\n                                                <v-card-title>\n                                                    <span class=\"text-h5\">PLAN DE FINANCEMENTS</span>\n                                                </v-card-title>\n\n                                                <v-card-text>\n\n                                                    <v-container>\n\n                                                        <v-row>\n\n                                                            <v-col cols=\"6\">\n                                                                <v-select data-cy=\"caracteristiqueDemandeReservationLogement\" v-model=\"typeFinancementId\" \n                                                                    label=\"Financements disponibles\" :items=\"typeFinancementList\"\n                                                                    item-text=\"typeFinancement.designation\" item-value=\"typeFinancement.id\" >\n                                                                </v-select>\n                                                            </v-col>\n\n                                                        </v-row>\n\n                                                        <v-row v-if=\"typeFinancementId == 'ref.element.valeur.comptant'\">\n\n                                                            <v-col cols=\"6\">\n                                                                <v-text-field label=\"Designation du plan\"\n                                                                    :error-messages=\"designationComptantErrors\"\n                                                                    v-model.trim=\"$v.financementTransfertComptantModel.financementComptant.designation.$model\"\n                                                                    @input=\"$v.financementTransfertComptantModel.financementComptant.designation.$touch()\"\n                                                                    @blur=\"$v.financementTransfertComptantModel.financementComptant.designation.$touch()\">\n                                                                </v-text-field>\n                                                            </v-col>\n\n                                                            <v-col cols=\"6\">\n                                                               <v-textarea :error-messages=\"descriptionComptantErrors\" label=\"Description\"\n                                                                    v-model.trim=\"$v.financementTransfertComptantModel.financementComptant.description.$model\"\n                                                                    @input=\"$v.financementTransfertComptantModel.financementComptant.description.$touch()\"\n                                                                    @blur=\"$v.financementTransfertComptantModel.financementComptant.description.$touch()\">\n                                                                </v-textarea>\n                                                            </v-col>\n\n                                                            <v-col cols=\"6\">\n                                                                <v-text-field label=\"Montant\"\n                                                                    :error-messages=\"montantComptantErrors\" \n                                                                    @input=\"$v.financementTransfertComptantModel.financementComptant.montant.$touch()\"\n                                                                    @blur=\"$v.financementTransfertComptantModel.financementComptant.montant.$touch()\"\n                                                                    v-model.trim=\"$v.financementTransfertComptantModel.financementComptant.montant.$model\"\n                                                                    suffix=\"FCFA\">\n                                                                </v-text-field>\n                                                            </v-col>\n\n                                                        </v-row>\n\n\n                                                        <v-row v-if=\"typeFinancementId == 'ref.element.valeur.creditbancaire'\">\n\n                                                            <v-col cols=\"6\">\n                                                                <v-text-field label=\"Designation du plan\"\n                                                                    :error-messages=\"designationCreditBancaireErrors\"\n                                                                    v-model.trim=\"$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.designation.$model\"\n                                                                    @input=\"$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.designation.$touch()\"\n                                                                    @blur=\"$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.designation.$touch()\">\n                                                                </v-text-field>\n                                                            </v-col>\n\n                                                            <v-col cols=\"6\">\n                                                               <v-textarea :error-messages=\"descriptionCreditBancaireErrors\" label=\"Description\"\n                                                                    v-model.trim=\"$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.description.$model\"\n                                                                    @input=\"$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.description.$touch()\"\n                                                                    @blur=\"$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.description.$touch()\">\n                                                                </v-textarea>\n                                                            </v-col>\n\n                                                            <v-col cols=\"6\">\n                                                                <v-text-field label=\"Montant\"\n                                                                    suffix=\"FCFA\"\n                                                                    :error-messages=\"montantCreditBancaireErrors\" \n                                                                    @input=\"$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.montant.$touch()\"\n                                                                    @blur=\"$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.montant.$touch()\"\n                                                                    v-model.trim=\"$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.montant.$model\">\n                                                                </v-text-field>\n                                                            </v-col>\n\n                                                            <v-col cols=\"6\">\n                                                                <v-text-field label=\"Mensualit Propos\"\n                                                                    :error-messages=\"mensualiteProposeCreditBancaireErrors\" \n                                                                    @input=\"$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.mensualitePropose.$touch()\"\n                                                                    @blur=\"$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.mensualitePropose.$touch()\"\n                                                                    v-model.trim=\"$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.mensualitePropose.$model\">\n                                                                </v-text-field>\n                                                            </v-col>\n\n\n                                                            <v-col cols=\"6\">\n                                                                <v-text-field label=\"Revenu NET\"\n                                                                    suffix=\"FCFA\"\n                                                                    :error-messages=\"revenuNetCreditBancaireErrors\" \n                                                                    @input=\"$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.revenuNet.$touch()\"\n                                                                    @blur=\"$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.revenuNet.$touch()\"\n                                                                    v-model.trim=\"$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.revenuNet.$model\">\n                                                                </v-text-field>\n                                                            </v-col>\n\n                                                        </v-row>\n\n                                                    </v-container>\n                                                        \n                                                </v-card-text>\n\n                                                <v-card-actions>\n                                                    <v-spacer></v-spacer>\n                                                    <v-btn color=\"blue darken-1\" text @click=\"dialogFinancement = false\">FERMER</v-btn>\n                                                    <v-btn color=\"blue darken-1\" text @click=\"validerPlanFinancement(financementTransfertComptantModel,financementTransfertCreditBancaireModel)\"> ENREGISTRER</v-btn>\n                                                </v-card-actions>\n\n                                            </v-card>\n\n                                        </v-dialog>\n\n                                    </v-row>\n\n                                </v-container>\n\n                            </v-card>\n                            <v-btn color=\"primary\" @click=\"e6 = 3\">Continue</v-btn>\n                            <v-btn text>Cancel</v-btn>\n                        </v-stepper-content>\n  \n                        <v-stepper-step :complete=\"e6 > 3\" step=\"3\">PROFIL ACQUEREUR</v-stepper-step>\n  \n                        <v-stepper-content step=\"3\">\n                            <v-card class=\"mb-12\" height=\"300px\">\n                                <v-container>\n                                    <v-row>\n                                        <v-col v-for=\"valeurCaracteristiqueLogement in this.demandeReservationLogementTransfertModel.valeurCaracteristiqueList\"\n                                            :key=\"valeurCaracteristiqueLogement.caracteristiqueDemandeReservationLogement.proprieteDemandeReservation.id\">\n\n                                            <v-select v-if=\"valeurCaracteristiqueLogement.caracteristiqueDemandeReservationLogement.proprieteDemandeReservation.type.id === 'ref.element.typeValeur.ville'\" \n                                                :label=\"valeurCaracteristiqueLogement.caracteristiqueDemandeReservationLogement.proprieteDemandeReservation.designation\"\n                                                v-model=\"valeurCaracteristiqueLogement.valeurTexte\" \n                                                :items=\"villesList\"\n                                                item-text=\"designation\" item-value=\"id\" >\n                                            </v-select>\n\n                                            <v-select v-if=\"valeurCaracteristiqueLogement.caracteristiqueDemandeReservationLogement.proprieteDemandeReservation.type.id === 'ref.element.typeValeur.reference'\" \n                                                :label=\"valeurCaracteristiqueLogement.caracteristiqueDemandeReservationLogement.proprieteDemandeReservation.designation\"\n                                                v-model=\"valeurCaracteristiqueLogement.valeurTexte\" \n                                                :items=\"referenceActiviteList\"\n                                                item-text=\"designation\" item-value=\"id\" >\n                                            </v-select>\n\n                                        </v-col>\n    \n                                    </v-row>\n\n                                </v-container>\n                            </v-card>\n                                <v-btn color=\"primary\" @click=\"e6 = 4\">Continue</v-btn>\n                                <v-btn text>Cancel</v-btn>\n                        </v-stepper-content>\n\n                        <v-stepper-step :complete=\"e6 > 4\" step=\"4\">DOCUMENT(S)  JOINDRE</v-stepper-step>\n  \n                        <v-stepper-content step=\"4\">\n                            <v-card class=\"mb-12\" height=\"300px\">\n                                <template v-if=\"demandeReservationLogementTransfertModel.documentDemandeReservationList.length\">\n                                    <v-container>\n                                        <v-row>\n                                            <v-col v-for=\"(documentDemandeDeReservationLogement, item) in demandeReservationLogementTransfertModel.documentDemandeReservationList\" :key=\"item\">\n                                                <v-row>\n                                                    <v-col>\n                                                        <v-file-input accept=\".pdf , .jpeg , .jpg\" color=\"deep-purple accent-4\" counter\n                                                            placeholder=\"Select your files\" prepend-icon=\"mdi-paperclip\" outlined :show-size=\"1000\"\n                                                            :id=\"item.toString()\"\n                                                            :label=\"returnTrueLabelForTypeDocumentDemandeReservation(documentDemandeDeReservationLogement)\" @change=\"pickDocumentForReservation(item)\">\n                                                            <template v-slot:selection=\"{ index, text }\">\n                                                                <v-chip v-if=\"index < 2\" color=\"deep-purple accent-4\" dark label small>{{ text }}</v-chip>                               \n                                                                <span v-else-if=\"index === 2\" class=\"text-overline grey--text text--darken-3 mx-2\">+{{ files.length - 2 }} File(s)</span>\n                                                            </template>\n                                                        </v-file-input>\n                                                    </v-col>\n                                                    <v-col><v-btn icon @click=\"openImageOrDocumentPdf(documentDemandeDeReservationLogement.document.contenu)\"><v-icon color=\"primary\" title=\"ouvrir le fichier\">mdi-folder-open</v-icon></v-btn></v-col>\n                                                </v-row>\n                                                \n                                            </v-col>\n                                        </v-row>\n                                    </v-container>\n                                </template>\n                            </v-card>\n                                <v-btn color=\"primary\" @click=\"e6 = 1\">Continue</v-btn>\n                                <v-btn text>Cancel</v-btn>\n                        </v-stepper-content>\n\n                    </v-stepper>\n\n                </v-card>\n\n                <p></p>\n\n                <v-container>\n                    <v-row>\n                        <v-col>\n                            <v-row>\n                                <v-col cols=\"5\"><v-btn color=\"secondary\"><v-icon>mdi-sync</v-icon> RETOUR</v-btn></v-col>\n                                <v-col cols=\"5\"><v-btn color=\"info\" @click=\"submitDemandeReservationLogement()\"><v-icon>mdi-check</v-icon> TRANSFORMER</v-btn></v-col>\n                            </v-row>\n                        </v-col>\n                    </v-row>\n                </v-container>\n\n            </v-container>\n            \n            \n            <v-alert class=\"myalert alert-success\" type=\"success\" width=\"350px\" dismissible>{{ successMsg }}</v-alert>\n            <v-alert class=\"myalert alert-warning\" type=\"warning\" width=\"350px\" dismissible>{{ warningMsg }}</v-alert>\n            <v-alert class=\"myalert alert-error\" type=\"error\" width=\"350px\" dismissible>{{ errorMsg }}</v-alert>\n            <v-overlay :value=\"overlay\"><v-progress-circular indeterminate size=\"64\"></v-progress-circular></v-overlay>\n\n        </v-main>\n        <FooterBar/>\n    </v-app>\n</template>\n\n<script>\nimport NavigationBar from '../../layout/navigationBar.vue'\nimport FooterBar from '../../layout/footerBar.vue'\nimport { required, minLength, maxLength , numeric } from \"vuelidate/lib/validators\";\nimport axios from 'axios'\nimport $ from 'jquery'\nimport { API_RECHERCHER_LOGEMENT_PAR_ID , API_REFERENCES_PAR_FAMILLE , API_OBTENIR_MODE_FINANCEMENT_PAR_PROGRAMME_IMMOBILIER , API_OBTENIR_LISTE_TYPES_DOCUMENT_DEMANDE_RESERVATION_PAR_PROGRAMME_IMMOBILIER } from '../../globalConfig/globalConfig'\nimport { REF_ELEMENT_VALEUR_COMPTANT , REF_ELEMENT_VALEUR_CREDIT_BANCAIRE , } from '../../globalConfig/globalConfig'\nimport { API_RECHERCHER_SIMULATION_FINANCEMENT_PAR_ID , API_OBTENIR_LISTE_VILLES , API_OBTENIR_LISTE_EFIS , API_OBTENIR_FORMATS_DOCUMENTS , API_OBTENIR_LISTE_CARACTERISTIQUES_DEMANDE_RESERVATION_PAR_PROGRAMME_IMMOBILIER } from '../../globalConfig/globalConfig'\n\n\nexport default {\n    name:'TransformerSimulationFinancement',\n    components:{\n        NavigationBar,\n        FooterBar\n    },\n    data(){\n        return{\n            successMsg : null ,\n            errorMsg : null ,\n            warningMsg : null ,\n            overlay: false,\n            dialogFinancement : false ,\n            dialogPlanFinancementChoosed:false,\n            e6 : 1,\n            \n            \n            myLogement : {},\n            caracteristiqueDemandeReservationLogementList : [],\n            referenceActiviteList : [],\n            villesList : [],\n            typeFinancementList : [],\n            formatList : [],\n            modeFinancementList : [],\n            valeurCaracteristiqueDemandeReservationList : [],\n            valeurTypeDocumentDemandeReservationList : [],\n            isShowDialogAddingFinancementPlan : false ,\n            periodiciteList : [] , \n            efiList : [],\n            typeFinancementId : null ,\n            familleTypeDocumentReservationList : [],\n            typeDocumentDemandeReservationList : [],\n\n\n\n            demandeReservationLogementTransfertModel : {\n                demandeReservationLogement : {\n                    id : null , \n                    designation : null ,\n                    description : null ,\n                    estValideParPromoteur : null ,\n                    estValideParEfi : null ,\n                    motifRefusParPromoteur : null ,\n                    motifRefusParEfi : null ,\n                    //coutReservation : null ,\n                    user : {\n                        id : 'faadc15f-2808-44e0-94cc-d0bd841bcf59', \n                    },\n                    logement : {} , \n                    etapeList : [] , \n                    etapeEnCours : {}\n                },\n                financementList : [],\n                valeurCaracteristiqueList: [],\n                documentDemandeReservationList: [],\n            },\n\n\n            financementTransfertComptantModel : {\n                typePlanFinancementId : null ,\n                financementComptant : {\n                    id : null ,\n                    designation : null ,\n                    description : null ,\n                    dateEtHeure : null,\n                    montant : null ,\n                    modeFinancement : {\n                        id : null ,\n                        typeFinancement : {\n                            id : null \n                        }\n                    }\n\n                }\n            },\n\n\n\n            financementTransfertCreditBancaireModel:{\n                typePlanFinancementId : null,\n                financementCreditImmobilier : {\n                    id : null ,\n                    designation : null , \n                    description : null ,\n                    montant : null ,\n                    mensualitePropose : null ,\n                    mensualitEffectif : null ,\n                    dureeEffectif : null ,\n                    revenuNet : null,\n                    modeFinancement : {\n                        id : null ,\n                        typeFinancement : {\n                            id : null \n                        }\n                    }\n\n                },\n\n            },\n\n\n            financementTransfertComptantPallierModel : {\n                typePlanFinancementId : null ,\n                financementComptantPallierSurSituation : {\n                    id : null ,\n                    description : null ,\n                    designation: null ,\n                    montant : null ,\n                    dateEtHeure : null ,\n                    pallierComptantSurSituationList : [], \n                }\n\n            },\n\n\n            financementTransfertTemperamentModel: {\n                typePlanFinancementId : null ,\n                financementTemperament : {\n                    id : null ,\n                    designation : null ,\n                    description : null,\n                    montant : null ,\n                    dateEtHeure : null ,\n                    nombrePeriodePropose : null,\n                    nombrePeriodeEffectif : null ,\n                    modeTemperament : {\n                        id : null ,\n                        apportPersonnel : null ,\n                        periodicite : null , \n                        nombrePeriodeMaxi : null ,\n                        dateDebut : null ,\n                        delaiRelance : null ,\n                        tauxAcompteMini :  null\n                    },\n                    echeanceFinancementTemperamentList : []\n\n                },\n\n            },\n\n            echeanceFinancementTemperament : {\n                id : null ,\n                numeroPeriode : null,\n                montant : null ,\n            },\n\n            comptantSurSituationPallierList : [], \n\n            messageList : [],\n\n            pallierComptantSurSituationModel : {\n                id : null ,\n                designation : null\n            },\n\n            financementListToShowing: []\n        }\n    },\n    validations:{\n        demandeReservationLogementTransfertModel:{\n            demandeReservationLogement : {\n                designation : {\n                    required,\n                    minLength : minLength(6),\n                    maxLength : maxLength(300),\n                },\n\n                description : {\n                    required,\n                    minLength : minLength(6),\n                    maxLength : maxLength(600)\n                }   \n            },\n\n        },\n\n        financementTransfertComptantModel : {\n            financementComptant : {\n                designation :{\n                    required ,\n                    minLength : minLength(4),\n                    maxLength : maxLength(40)\n                },\n                description:{\n                    required ,\n                    minLength : minLength(4),\n                    maxLength : maxLength(40)\n                },\n                montant : {\n                    required,\n                    numeric\n                }\n            },\n        },\n\n\n        financementTransfertCreditBancaireModel: {\n            financementCreditImmobilier : {\n                designation : {\n                    required ,\n                    minLength : minLength(4),\n                    maxLength : maxLength (40)\n                },\n                description: {\n                    required ,\n                    minLength : minLength(4),\n                    maxLength : maxLength (40)\n                },\n                montant: {\n                    required ,\n                    numeric\n                },\n                mensualitePropose : {\n                    required,\n                    numeric, \n                },\n\n                revenuNet : {\n                    required,\n                    numeric,\n                },\n            },\n        },\n\n\n        financementTransfertComptantPallierModel : {\n            financementComptantPallierSurSituation : {\n                designation : {\n                    required,\n                    minLength : minLength(4),\n                    maxLength : maxLength(20),\n                },\n                description : {\n                    required,\n                    minLength : minLength(4),\n                    maxLength : maxLength(20),\n                },\n                montant : {\n                    required ,\n                }\n            },\n        },\n\n\n        financementTransfertTemperamentModel: {\n            financementTemperament : {\n                designation :{\n                    required ,\n                    minLength : minLength(4),\n                    maxLength : maxLength (20)\n                },\n                description :{\n                    required ,\n                    minLength : minLength(4),\n                    maxLength : maxLength (20)\n                }, \n                montant: {\n                    required ,\n                },\n                nombrePeriodePropose : {\n                    required\n                },\n                nombrePeriodeEffectif : {\n                    required\n                },\n\n                modeTemperament : {\n                    apportPersonnel : {\n                        required,\n                    },\n                    nombrePeriodeMaxi :{\n                        required\n                    },\n                    dateDebut : {\n                        required\n                    },\n                    delaiRelance : {\n                        required\n                    },\n                    tauxAcompteMini : {\n                        required\n                    }\n\n                }\n\n            },\n\n        },\n\n\n        echeanceFinancementTemperament : {\n            numeroPeriode:{\n                required\n            },\n            montant : {\n                required\n            }\n        },\n    },\n\n    methods:{\n\n        //TRANSFORMER UNE SIMULATION DE FINANCEMENT IMMOBILIER EN DEMANDE DE RESERVATION\n\n        async transformerSimulationEnDemendeReservation(){\n\n        },\n\n        // SELECTION DE DOCUMENTS INPUT\n    \n        pickDocumentForReservation(position){\n            for (let i = 0; i < this.demandeReservationLogementTransfertModel.documentDemandeReservationList.length; i++) {\n                if (i == position) {\n                    var reader = new FileReader()\n                    var extension = document.getElementById(position).files[0].name.split('.')[1]\n                    reader.readAsDataURL(document.getElementById(position).files[0])\n                    reader.onload = e => {\n                        this.demandeReservationLogementTransfertModel.documentDemandeReservationList[position].document.contenu = e.target.result;\n                        this.formatList.forEach(element => {\n                            if(element.extension.split('.')[1] == extension) {\n                                this.demandeReservationLogementTransfertModel.documentDemandeReservationList[position].document.format = element   \n                            }\n                        });\n                    } \n                }   \n            }\n        },\n\n\n        //OBTENIR LISTE DES CARACTERISTIQUES ET TYPES DOCUMENTS RESERVATION PAR LOGEMENT\n        async obtenirCaracteristiqEtTypeDocument(logement){\n            if (logement != null) {\n                this.getModeFinancementListParProgramme(logement.produitLogement.programmeImmobilier.id)\n                this.obtenirListtypeFinancement(logement.produitLogement.programmeImmobilier.id) ;\n                this.getCaracteristiqueReservationParProgrammeImmobilier(logement.produitLogement.programmeImmobilier.id);\n                this.getTypeDocumentDemandeReservationListByProgrammeImmobilier(logement.produitLogement.programmeImmobilier.id);\n            }\n        },\n\n\n        // OBTENIR INFOS LOGEMENT PAR SON ID\n\n        async getInfoLogementFromId(){\n            if (this.$route.params.id != undefined || this.$route.params.id != null) {\n                await axios.get(API_RECHERCHER_LOGEMENT_PAR_ID(this.$route.params.id)).then((response)  => {\n                    this.myLogement = response.data.data;\n                    this.demandeReservationLogementTransfertModel.demandeReservationLogement.logement.id = this.myLogement.id ; \n                }).catch((error)  => {\n                    console.log(error)\n                })\n            }\n            this.getModeFinancementListParProgramme(this.myLogement.produitLogement.programmeImmobilier.id)\n            this.obtenirListtypeFinancement(this.myLogement.produitLogement.programmeImmobilier.id) ;\n            this.getCaracteristiqueReservationParProgrammeImmobilier(this.myLogement.produitLogement.programmeImmobilier.id);\n            this.getTypeDocumentDemandeReservationListByProgrammeImmobilier(this.myLogement.produitLogement.programmeImmobilier.id);\n        },\n\n\n        // OBTENIR LA LISTE DES TYPES DE DOCUMENTS DE DEMANDE DE RESERVATION PAR PROGRAMME IMMOBILIER\n\n        async getTypeDocumentDemandeReservationListByProgrammeImmobilier(programmeImmobilier_id){\n            axios.get(API_OBTENIR_LISTE_TYPES_DOCUMENT_DEMANDE_RESERVATION_PAR_PROGRAMME_IMMOBILIER(programmeImmobilier_id)).then((response) => {\n                this.typeDocumentDemandeReservationList = response.data.data;\n                this.typeDocumentDemandeReservationList.forEach(element => {\n                    var documentDemandeDeReservationLogement = {\n                        id : null ,\n                        document : {\n                            id :null ,\n                            designation : null ,\n                            description : null ,\n                            contenu : null ,\n                            path : null ,\n                            format : {\n                                id: null,\n                                version: null,\n                            },\n                            typeDocument:{\n                                id: null\n                            },\n                        },\n                        /*typeDocumentDemandeReservationLogement : {\n                            id : null , \n                            typeDocument : {},\n                            programmeImmobilier : {\n                                id : null , \n                            },\n                            estOblogatoire : null,\n                        }*/\n                    };\n                    documentDemandeDeReservationLogement.document.typeDocument = element.typeDocument;\n                    //documentDemandeDeReservationLogement.typeDocumentDemandeReservationLogement.typeDocument = element.typeDocument;\n                    //documentDemandeDeReservationLogement.typeDocumentDemandeReservationLogement.programmeImmobilier.id = element.programmeImmobilier.id;\n                    this.demandeReservationLogementTransfertModel.documentDemandeReservationList.push(documentDemandeDeReservationLogement);\n                });\n            }).catch((e) => {\n                console.log(e)\n            });\n        },\n\n        // OUVERTURE D'UN DOCUMENT DANS UN AUTRE ONGLET\n        openImageOrDocumentPdf(source){\n            window.open(source); \n        },\n\n\n\n        // RECUPERER LA LISTE DES REFERENCE FAMILLES DE TYPE DOCUMENT\n\n        async getReferenceFamilleTypeDocument(){\n            await axios.get(API_REFERENCES_PAR_FAMILLE(\"ref.famille.demandeReservation.typeDocument\")).then((response) => {\n                this.familleTypeDocumentReservationList = response.data.data\n            }).catch((e) => {\n                console.log(e)\n            });\n\n        },\n\n        // RECUPRER LA LISTE DE TOUS LES TYPES DE FINANCEMENTS DISPONIBLES\n\n        async obtenirListtypeFinancement(programmeImmobilier_id) {\n\n            await axios.get(API_OBTENIR_MODE_FINANCEMENT_PAR_PROGRAMME_IMMOBILIER(programmeImmobilier_id))\n            .then((response) => {\n                this.typeFinancementList = response.data.data\n            }).catch((e) => {\n                this.errorMsg = e\n                $(\".alert-error\").fadeIn();\n                setTimeout(function(){\n                    $(\".alert-error\").fadeOut(); \n                }, 4000)\n\n            });\n        },\n\n        // RECUPERER LA LISTE DES MODES DE FINANCEMENT PAR PROGRAMME IMMOBILIER\n\n        async getModeFinancementListParProgramme(programmeImmobilier_id) {\n\n            await axios.get(API_OBTENIR_MODE_FINANCEMENT_PAR_PROGRAMME_IMMOBILIER(programmeImmobilier_id))\n            .then((response) => {\n                this.modeFinancementList = response.data.data\n            }).catch((e) => {\n                this.errorMsg = e\n                $(\".alert-error\").fadeIn();\n                setTimeout(function(){\n                    $(\".alert-error\").fadeOut(); \n                }, 4000)\n\n            });\n        },\n\n        // VERIFICATION DES FINANCEMENT\n\n        checkModeFinancement(){\n\n            if(this.typeFinancementId == REF_ELEMENT_VALEUR_COMPTANT){\n                if(this.$v.financementTransfertComptantModel.financementComptant.$invalid) {\n                    this.errorMsg = \"Erreur lors de la validation de votre plan de financement: COMPTANT\"\n                    $(\".myAlert-bottom\").fadeIn();\n                    setTimeout(function(){\n                        $(\".myAlert-bottom\").fadeOut(); \n                    }, 4000) \n                }else{\n                    return true\n                }   \n            }\n\n            if(this.typeFinancementId == REF_ELEMENT_VALEUR_CREDIT_BANCAIRE){\n                if(this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.$invalid){\n                    this.errorMsg = \"Erreur lors de la validation de votre plan de financement: CREDIT BANCAIRE\"\n                    $(\".myAlert-bottom\").fadeIn();\n                    setTimeout(function(){\n                        $(\".myAlert-bottom\").fadeOut(); \n                    }, 4000) \n                }else{\n                    return true\n                }        \n            }\n\n            if(this.typeFinancementId == null){\n                this.errorMsg = 'Erreur : Au moins un plan de financement doit etre choisi !!'\n                $(\".myAlert-bottom\").fadeIn();\n                setTimeout(function(){\n                    $(\".myAlert-bottom\").fadeOut(); \n                }, 4000)\n            }\n        },\n\n\n        //VALIDATION DES PLAN DE FINANCEMENTS DANS LA LISTE DES PLAN DE FINANCEMENTS\n\n        validerPlanFinancement(planFinancementComptantTransfert , planFinancementCreditImmobilierTransfert){\n\n            var financementComptantTransfert = {\n                typePlanId: null,\n                financementComptant : {\n                    id : null ,\n                    designation : null ,\n                    description : null ,\n                    dateEtHeure : null,\n                    montant : null ,\n                    modeFinancement :  {\n                        id : null ,\n                        typeFinancement : {\n                            id : null ,\n                        }\n                    }\n                }\n            };\n\n\n            var financementCreditTransfert = {\n                typePlanId : null ,\n                financementCredit : {\n                    id : null ,\n                    designation : null ,\n                    description : null ,\n                    dateEtHeure : null ,\n                    montant : null ,\n                    mensualitePropose : null ,\n                    mensualiteEffectif : null,\n                    dureeEffectif : null,\n                    revenuNet : null , \n                    modeFinancement : {\n                        id : null , \n                        typeFinancement : {\n                            id : null\n                        }\n                    }\n                }\n            };\n\n            var response = this.checkModeFinancement()\n\n            if(this.typeFinancementId == REF_ELEMENT_VALEUR_COMPTANT && response == true) {\n\n                financementComptantTransfert.typePlanId = REF_ELEMENT_VALEUR_COMPTANT\n                financementComptantTransfert.financementComptant.id = planFinancementComptantTransfert.financementComptant.id\n                financementComptantTransfert.financementComptant.designation = planFinancementComptantTransfert.financementComptant.designation\n                financementComptantTransfert.financementComptant.description = planFinancementComptantTransfert.financementComptant.description\n                financementComptantTransfert.financementComptant.dateEtHeure = planFinancementComptantTransfert.financementComptant.dateDebut\n                financementComptantTransfert.financementComptant.montant = planFinancementComptantTransfert.financementComptant.montant\n\n                for (let index = 0; index < this.modeFinancementList.length; index++) {\n                    if (this.modeFinancementList[index].typeFinancement.id == REF_ELEMENT_VALEUR_COMPTANT) {\n                        financementComptantTransfert.financementComptant.modeFinancement.id = this.modeFinancementList[index].id\n                        financementComptantTransfert.financementComptant.modeFinancement.typeFinancement.id = this.modeFinancementList[index].typeFinancement.id\n                    }\n                }\n\n                this.demandeReservationLogementTransfertModel.financementList.push(financementComptantTransfert.financementComptant)\n                this.financementListToShowing.push(financementComptantTransfert)\n                this.typeFinancementId = null\n                planFinancementComptantTransfert.financementComptant.designation = null ;\n                planFinancementComptantTransfert.financementComptant.description = null ;\n                planFinancementComptantTransfert.financementComptant.montant = null ;\n                planFinancementComptantTransfert.financementComptant.dateDebut = null ;\n                this.isShowDialogAddingFinancementPlan = false\n                     \n            }\n\n\n            if(this.typeFinancementId == REF_ELEMENT_VALEUR_CREDIT_BANCAIRE && response == true) {\n\n                financementCreditTransfert.typePlanId = REF_ELEMENT_VALEUR_CREDIT_BANCAIRE\n                financementCreditTransfert.financementCredit.id = planFinancementCreditImmobilierTransfert.financementCreditImmobilier.id\n                financementCreditTransfert.financementCredit.designation = planFinancementCreditImmobilierTransfert.financementCreditImmobilier.designation\n                financementCreditTransfert.financementCredit.description = planFinancementCreditImmobilierTransfert.financementCreditImmobilier.description\n                financementCreditTransfert.financementCredit.dateEtHeure = planFinancementCreditImmobilierTransfert.financementCreditImmobilier.dateEtHeure\n                financementCreditTransfert.financementCredit.montant = planFinancementCreditImmobilierTransfert.financementCreditImmobilier.montant.toString()\n                financementCreditTransfert.financementCredit.mensualitePropose= planFinancementCreditImmobilierTransfert.financementCreditImmobilier.mensualitePropose\n                financementCreditTransfert.financementCredit.mensualiteEffectif = planFinancementCreditImmobilierTransfert.financementCreditImmobilier.mensualiteEffectif\n                financementCreditTransfert.financementCredit.dureeEffectif = planFinancementCreditImmobilierTransfert.financementCreditImmobilier.dureeEffectif\n                financementCreditTransfert.financementCredit.revenuNet = planFinancementCreditImmobilierTransfert.financementCreditImmobilier.revenuNet\n\n                for (let index = 0; index < this.modeFinancementList.length; index++) {\n                    if (this.modeFinancementList[index].typeFinancement.id == REF_ELEMENT_VALEUR_CREDIT_BANCAIRE) {\n                        financementCreditTransfert.financementCredit.modeFinancement.id = this.modeFinancementList[index].id\n                        financementCreditTransfert.financementCredit.modeFinancement.typeFinancement.id = this.modeFinancementList[index].typeFinancement.id\n                    }              \n                }\n\n                this.demandeReservationLogementTransfertModel.financementList.push(financementCreditTransfert.financementCredit)\n                this.financementListToShowing.push(financementCreditTransfert)\n                this.typeFinancementId = null\n                planFinancementCreditImmobilierTransfert.financementCreditImmobilier.designation = null \n                planFinancementCreditImmobilierTransfert.financementCreditImmobilier.description = null \n                planFinancementCreditImmobilierTransfert.financementCreditImmobilier.montant = null \n                planFinancementCreditImmobilierTransfert.financementCreditImmobilier.mensualitePropose = null \n                planFinancementCreditImmobilierTransfert.financementCreditImmobilier.revenuNet = null \n                this.isShowDialogAddingFinancementPlan = false \n            }\n\n            this.dialogFinancement = false ; \n\n        },\n\n        // RECUPERER LA LISTE DES EFIS DEPUIS LE MIDDLEWARE\n\n        async obtenirEfiList() {\n\n            await axios.get(API_OBTENIR_LISTE_EFIS).then((response) => {\n                this.efiList = response.data.data;\n            }).catch((e) => {\n                this.errorMsg = e\n                $(\".myAlert-bottom\").fadeIn();\n                setTimeout(function(){\n                    $(\".myAlert-bottom\").fadeOut(); \n                }, 4000)\n\n            });  \n      \n        },\n\n        returnTrueLabelForTypeDocumentDemandeReservation(documentDemandeReservationLogement){\n            var designation ;\n            // On fait d'abord une recherche du document\n            for (let index = 0; index < this.typeDocumentDemandeReservationList.length; index++) {\n                if (this.typeDocumentDemandeReservationList[index].typeDocument.id == documentDemandeReservationLogement.document.typeDocument.id) {\n                    for (let count = 0; count < this.familleTypeDocumentReservationList.length; count++) {\n                        if(this.typeDocumentDemandeReservationList[index].typeDocument.id == this.familleTypeDocumentReservationList[count].id){\n                            designation = this.familleTypeDocumentReservationList[count].designation\n                        }         \n                    }\n                }          \n            }\n            return designation ; \n        },\n\n\n        // RECUPERER LA LISTE DES CARACTERISTIQUES DE DEMANDE DE RESERVATIONS PAR PROGRAMME IMMOBILIER\n\n            /**\n             * On cree  partir des caractristiques de demandes reservations provenant du middleware \n             * des valeur caracteristique de demande de reservations\n            */\n\n        async getCaracteristiqueReservationParProgrammeImmobilier(programmeImmobilier_id) {\n            await axios.get(API_OBTENIR_LISTE_CARACTERISTIQUES_DEMANDE_RESERVATION_PAR_PROGRAMME_IMMOBILIER(programmeImmobilier_id)).then((response) => {\n                response.data.data.forEach(element => {\n                    var valeurCaracteristiqueDemandeReservationLogement = {\n                        id : null ,\n                        designation : null ,\n                        valeurTexte : null ,\n                        caracteristiqueDemandeReservationLogement: {}\n                    };\n                    valeurCaracteristiqueDemandeReservationLogement.caracteristiqueDemandeReservationLogement = element; \n                    this.demandeReservationLogementTransfertModel.valeurCaracteristiqueList.push(valeurCaracteristiqueDemandeReservationLogement)\n                });\n            }).catch((e) => {\n                this.errorMsg = e\n                $(\".myAlert-bottom\").fadeIn();\n                setTimeout(function(){\n                    $(\".myAlert-bottom\").fadeOut(); \n                }, 4000)\n\n            });\n\n        },\n\n        // RECUPERER LA LISTE DES REFERENCES (ACTIVITE DE L'ACQUEREUR)\n        async getReferenceListActivite() {\n            await axios.get(API_REFERENCES_PAR_FAMILLE(\"ref.famille.activiteAcquereur\")).then((response) => { \t\n                this.referenceActiviteList = response.data.data\n            }).catch((e) => {\n                console.log(e)\n            });\n\n        },\n        \n\n        // RECUPERER LA LISTE DES VILLES DEPUIS LE MIDDLEWARE\n        async obtenirListeVilles() {\n            await axios.get(API_OBTENIR_LISTE_VILLES).then((response) => {\n                this.villesList = response.data.data\n            }).catch((e) => {\n                console.log(e)\n            });\n\n        },\n\n        // RECUPERER DEPUIS LE MIDDLEWARE LA LISTE DES FORMATS DISPONIBLES\n        async getFormatListAvailable() {\n            await axios.get(API_OBTENIR_FORMATS_DOCUMENTS).then((response) => {\n                this.formatList = response.data.data; \n            }).catch((e) => {\n                console.log(e)\n            });\n\n        },\n\n        //RECUPERER LES INFORMATIONS DE LA SIMULATION DE FINANCEMENT SELECTIONNE\n\n        async editingSimulationForTransformation(){\n            if (localStorage.getItem(\"simulation\")) {\n                try {\n                    const simulationEditing = JSON.parse(localStorage.getItem(\"simulation\"));\n                    const simulationFinancementId = simulationEditing.id\n                    await axios.get(API_RECHERCHER_SIMULATION_FINANCEMENT_PAR_ID(simulationFinancementId)).then((response) => {\n                        this.demandeReservationLogementTransfertModel.demandeReservationLogement.designation = response.data.data.designation;\n                        this.demandeReservationLogementTransfertModel.demandeReservationLogement.description = response.data.data.description;\n                        this.demandeReservationLogementTransfertModel.demandeReservationLogement.logement = response.data.data.logement;\n                        this.demandeReservationLogementTransfertModel.financementList = response.data.data.financementList;\n                        this.obtenirCaracteristiqEtTypeDocument(this.demandeReservationLogementTransfertModel.demandeReservationLogement.logement)\n                    }).catch((e) => {\n                        console.log(e)\n                    });\n                    localStorage.removeItem(\"simulation\");\n                } catch (error) {\n                    localStorage.removeItem(\"simulation\");\n                }\n            }else{\n                this.$router.replace({path:'/SelectionnerSimulationFinancementImmobilier'})\n            }\n        },\n    },\n\n    computed:{\n        // GESTIONS DES CONTRAINTES DES CHAMPS D'ENTREES (DESIGNATION , DESCRIPTION ) DE LA DEMANDE DE RESERVATION\n\n        designationErrors(){\n            const errors = [];\n            if (!this.$v.demandeReservationLogementTransfertModel.demandeReservationLogement.designation.$dirty) return errors\n            !this.$v.demandeReservationLogementTransfertModel.demandeReservationLogement.designation.maxLength && errors.push('La designation ne doit pas dpasser 600 caractres')\n            !this.$v.demandeReservationLogementTransfertModel.demandeReservationLogement.designation.required && errors.push('La dsignation est obligatoire.')\n            !this.$v.demandeReservationLogementTransfertModel.demandeReservationLogement.designation.required && errors.push('La dsignation doit avoir au minimum 8 caractres.')\n            return errors\n        },\n\n        descriptionErrors(){\n            const errors = [];\n            if (!this.$v.demandeReservationLogementTransfertModel.demandeReservationLogement.description.$dirty) return errors\n            !this.$v.demandeReservationLogementTransfertModel.demandeReservationLogement.description.maxLength && errors.push('La description ne doit pas dpasser 600 caractres')\n            !this.$v.demandeReservationLogementTransfertModel.demandeReservationLogement.description.required && errors.push('La description est obligatoire.')\n            !this.$v.demandeReservationLogementTransfertModel.demandeReservationLogement.description.minLength && errors.push('La description doit avoir plus de 20 caractres.')\n            return errors \n        },\n\n        // CONTRAINTES FINANCEMENT COMPTANT\n\n        designationComptantErrors(){\n            const errors = [];\n            if (!this.$v.financementTransfertComptantModel.financementComptant.designation.$dirty) return errors\n            !this.$v.financementTransfertComptantModel.financementComptant.designation.maxLength && errors.push('La description ne doit pas dpasser 600 caractres')\n            !this.$v.financementTransfertComptantModel.financementComptant.designation.required && errors.push('La description est obligatoire.')\n            !this.$v.financementTransfertComptantModel.financementComptant.designation.minLength && errors.push('La description doit avoir plus de 20 caractres.')\n            return errors \n        },\n\n        descriptionComptantErrors(){\n            const errors = [];\n            if (!this.$v.financementTransfertComptantModel.financementComptant.description.$dirty) return errors\n            !this.$v.financementTransfertComptantModel.financementComptant.description.maxLength && errors.push('La description ne doit pas dpasser 600 caractres')\n            !this.$v.financementTransfertComptantModel.financementComptant.description.required && errors.push('La description est obligatoire.')\n            !this.$v.financementTransfertComptantModel.financementComptant.description.minLength && errors.push('La description doit avoir plus de 20 caractres.')\n            return errors \n        },\n\n        montantComptantErrors(){\n            const errors = [];\n            if (!this.$v.financementTransfertComptantModel.financementComptant.montant.$dirty) return errors\n            !this.$v.financementTransfertComptantModel.financementComptant.montant.required && errors.push('Le montant est obligatoire.')\n            !this.$v.financementTransfertComptantModel.financementComptant.montant.numeric && errors.push('Entrer un montant correct')\n            \n            return errors \n        },\n\n        //CONTRAINTES CREDIT BANCAIRES\n\n        designationCreditBancaireErrors(){\n            const errors = [];\n            if (!this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.designation.$dirty) return errors\n            !this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.designation.maxLength && errors.push('La description ne doit pas dpasser 600 caractres')\n            !this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.designation.required && errors.push('La description est obligatoire.')\n            !this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.designation.minLength && errors.push('La description doit avoir plus de 20 caractres.')\n            return errors \n        },\n\n        descriptionCreditBancaireErrors(){\n            const errors = [];\n            if (!this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.description.$dirty) return errors\n            !this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.description.maxLength && errors.push('La description ne doit pas dpasser 600 caractres')\n            !this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.description.required && errors.push('La description est obligatoire.')\n            !this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.description.minLength && errors.push('La description doit avoir plus de 20 caractres.')\n            return errors \n        },\n\n        montantCreditBancaireErrors(){\n            const errors = [];\n            if (!this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.montant.$dirty) return errors\n            !this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.montant.required && errors.push('Le montant est obligatoire.')\n            !this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.montant.numeric && errors.push('Entrez un montant exact.')\n            return errors \n        },\n\n        mensualiteProposeCreditBancaireErrors(){\n            const errors = [];\n            if (!this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.mensualitePropose.$dirty) return errors\n            !this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.mensualitePropose.required && errors.push('Entrer une mensualit a propos.')\n            !this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.mensualitePropose.numeric  && errors.push('La mensualit propos doit tre un nombre.')\n            return errors \n        },\n\n        revenuNetCreditBancaireErrors(){\n            const errors = [];\n            if (!this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.revenuNet.$dirty) return errors\n            !this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.revenuNet.required && errors.push('Le revenu NET est obligatoire.')\n            !this.$v.financementTransfertCreditBancaireModel.financementCreditImmobilier.revenuNet.numeric && errors.push('Revenu Net non exact.')\n            return errors \n        },\n    },\n\n\n    mounted(){\n        this.editingSimulationForTransformation()\n    }\n\n}\n</script>\n\n\n<style scoped>\n    .myalert{\n        display: none;\n        z-index: 1900;\n    }\n\n    .alert-success{\n        position: fixed;\n        top: 25px;\n        right:2%;\n        width: 25%;\n    }\n\n    .alert-error{\n        position: fixed;\n        top: 25px;\n        right:2%;\n        width: 25%;\n    }\n\n    .alert-warning{\n        position: fixed;\n        top: 25px;\n        right:2%;\n        width: 25%;\n    }\n</style>"]}]}