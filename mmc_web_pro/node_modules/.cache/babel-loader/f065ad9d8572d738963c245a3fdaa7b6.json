{"remainingRequest":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/babel-loader/lib/index.js!/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/kouevi/mmcwebpro/mmc_web_pro/src/components/espace_promoteur/SelectionnerProgrammeImmobilier.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/src/components/espace_promoteur/SelectionnerProgrammeImmobilier.vue","mtime":1666784043273},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/babel.config.js","mtime":1663945696927},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/babel-loader/lib/index.js","mtime":1663945505798},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/cache-loader/dist/cjs.js","mtime":1663945505146},{"path":"/home/kouevi/mmcwebpro/mmc_web_pro/node_modules/vue-loader/lib/index.js","mtime":1663945506422}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7CmltcG9ydCB7IEFQSV9PQlRFTklSX0xJU1RFX1BST0dSQU1NRV9JTU1PQklMSUVSX1BBUl9QUk9NT1RFVVIsIEFQSV9TVVBQUklNRVJfUFJPR1JBTU1FX0lNTU9CSUxJRVIgfSBmcm9tICcuLi9nbG9iYWxDb25maWcvZ2xvYmFsQ29uZmlnJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTZWxlY3Rpb25uZXJQcm9ncmFtbWVJbW1vYmlsaWVyIiwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaDogJycsCiAgICAgIGRpYWxvZ0RlbGV0ZTogZmFsc2UsCiAgICAgIGhlYWRlcnM6IFt7CiAgICAgICAgdGV4dDogJ0NvZGUnLAogICAgICAgIHZhbHVlOiAnY29kZScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdEZXNpZ25hdGlvbicsCiAgICAgICAgdmFsdWU6ICdkZXNpZ25hdGlvbicKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdWaWxsZScsCiAgICAgICAgdmFsdWU6ICd2aWxsZS5kZXNpZ25hdGlvbicKICAgICAgfSwgewogICAgICAgIHRleHQ6ICdWYWxpZGUnLAogICAgICAgIHZhbHVlOiAnZXN0VmFsaWRlJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ0FjdGlvbnMnLAogICAgICAgIHZhbHVlOiAnYWN0aW9ucycsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH1dLAogICAgICB2YWxpZGF0ZVByb2dyYW1tZUltbW9iaWxpZXI6IHRydWUsCiAgICAgIHByb2dyYW1tZUltbW9iaWxpZXJMaXN0OiBbXQogICAgfTsKICB9LAoKICBtZXRob2RzOiB7CiAgICAvLyBWQUxJREVSIFVOIFBST0dSQU1NRSBJTU1PQklMSUVSCiAgICB2YWxpZGVyUHJvZ3JhbW1lSW1tb2JpbGllcihwcm9ncmFtbWVJbW1vYmlsaWVyKSB7CiAgICAgIHZhciBwYXJzZWRQcm9ncmFtbWUgPSBKU09OLnN0cmluZ2lmeShwcm9ncmFtbWVJbW1vYmlsaWVyKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Byb2dyYW1tZUltbW9iaWxpZXInLCBwYXJzZWRQcm9ncmFtbWUpOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbW9kZVZhbGlkYXRlJywgdGhpcy52YWxpZGF0ZVByb2dyYW1tZUltbW9iaWxpZXIpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9DcmVlck1vZGlmaWVyUHJvZ3JhbW1lSW1tb2JpbGllcicKICAgICAgfSk7CiAgICB9LAoKICAgIC8vTU9ESUZJQ0FUSU9OIEQnVU4gUFJPR1JBTU1FIElNTU9CSUxJRVIKICAgIG1vZGlmaWVyUHJvZ3JhbW1lSW1tb2JpbGllcihwcm9ncmFtbWVJbW1vYmlsaWVyKSB7CiAgICAgIGNvbnN0IHBhcnNlZFByb2dyYW1tZSA9IEpTT04uc3RyaW5naWZ5KHByb2dyYW1tZUltbW9iaWxpZXIpOwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgicHJvZ3JhbW1lSW1tb2JpbGllciIsIHBhcnNlZFByb2dyYW1tZSk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL0NyZWVyTW9kaWZpZXJQcm9ncmFtbWVJbW1vYmlsaWVyIgogICAgICB9KTsKICAgIH0sCgogICAgLy8gU1VQUFJJTUVSIFVOIFBST0dSQU1NRSBJTU1PQklMSUVSCiAgICBzdXBwcmltZXJQcm9ncmFtbWVJbW1vYmlsaWVyKHByb2dyYW1tZUltbW9iaWxpZXIpIHsKICAgICAgdGhpcy4kc3dhbC5maXJlKHsKICAgICAgICB0aXRsZTogJ0NvbmZpcm1lciA/JywKICAgICAgICB0ZXh0OiAiQ2V0dGUgYWN0aW9uIGVzdCBpcnLDqXZlcnNpYmxlIiwKICAgICAgICBpY29uOiAnd2FybmluZycsCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMzA4NWQ2JywKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNkMzMnLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICdBbm51bGVyJywKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ091aSAsc3VwcHJpbWVyIScKICAgICAgfSkudGhlbihyZXN1bHQgPT4gewogICAgICAgIGlmIChyZXN1bHQuaXNDb25maXJtZWQpIHsKICAgICAgICAgIGF4aW9zLmRlbGV0ZShBUElfU1VQUFJJTUVSX1BST0dSQU1NRV9JTU1PQklMSUVSKHByb2dyYW1tZUltbW9iaWxpZXIuaWQpKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZGF0YSA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgdGhpcy4kc3dhbC5maXJlKCdTdXBwcmltw6khJywgJ0xlIHByb2dyYW1tZSBpbW1vYmlsaWVyLCBhIGJpZW4gZXRlIHN1cHByaW3DqS4nLCAnc3VjY2VzcycpOwogICAgICAgICAgICAgIHRoaXMuT2J0ZW5pckxpc3RlUHJvZ3JhbW1lSW1tb2JpbGllcigpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSgnRXJyZXVyIScsICdFY2hlYyBkZSBsYSBzdXBwcmVzc2lvbiBkdSBwcm9ncmFtbWUgaW1tb2JpbGllci4nLCAnZXJyb3InKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZSA9PiB7CiAgICAgICAgICAgIHRoaXMuJHN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgaWNvbjogJ2Vycm9yJywKICAgICAgICAgICAgICB0aXRsZTogJ0VycmV1ci4uLicsCiAgICAgICAgICAgICAgdGV4dDogZQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8vIE5BVklHQVRJT04gVkVSUyBMQSBQQUdFIERFIENSRUFUSU9OIEQnVU4gTk9VVkVMIFBST0dSQU1NRSBJTU1PQklMSUVSCiAgICBjcmVlck5vdXZlYXVQcm9ncmFtbWVJbW1vYmlsaWVyKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogIi9DcmVlck1vZGlmaWVyUHJvZ3JhbW1lSW1tb2JpbGllciIKICAgICAgfSk7CiAgICB9LAoKICAgIC8vIE9CVEVOSVIgTEEgTElTVEUgREVTIFBST0dSQU1NRVMgSU1NT0JJTElFUlMgUEFSIFBST01PVEVVUgogICAgYXN5bmMgT2J0ZW5pckxpc3RlUHJvZ3JhbW1lSW1tb2JpbGllcigpIHsKICAgICAgYXdhaXQgYXhpb3MuZ2V0KEFQSV9PQlRFTklSX0xJU1RFX1BST0dSQU1NRV9JTU1PQklMSUVSX1BBUl9QUk9NT1RFVVIoInByb21vdGV1cjAxIikpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMucHJvZ3JhbW1lSW1tb2JpbGllckxpc3QgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIH0pLmNhdGNoKGUgPT4gewogICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlOwogICAgICAgICQoIi5teUFsZXJ0LWJvdHRvbSIpLmZhZGVJbigpOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgJCgiLm15QWxlcnQtYm90dG9tIikuZmFkZU91dCgpOwogICAgICAgIH0sIDQwMDApOwogICAgICB9KTsKICAgIH0KCiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuT2J0ZW5pckxpc3RlUHJvZ3JhbW1lSW1tb2JpbGllcigpOwogIH0KCn07"},{"version":3,"mappings":";AAuCA;AACA;AACA;AAEA;EACAA,uCADA;;EAEAC;IAEA;MACAC,UADA;MAEAC,mBAFA;MAGAC,UACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,EAGA;QAAAD;QAAAC;MAAA,CAHA,EAIA;QAAAD;QAAAC;MAAA,CAJA,EAKA;QAAAD;QAAAC;QAAAC;MAAA,CALA,CAHA;MAUAC,iCAVA;MAWAC;IAXA;EAeA,CAnBA;;EAsBAC;IAEA;IAEAC;MACA;MACAC;MACAA;MACA;QAAAC;MAAA;IACA,CATA;;IAYA;IAEAC;MACA;MACAF;MACA;QAAAC;MAAA;IACA,CAlBA;;IAsBA;IAEAE;MACA;QAAAC;QAAAX;QAAAY;QAAAC;QACAC,6BADA;QACAC,yBADA;QACAC,2BADA;QACAC;MADA,GAEAC,IAFA,CAEAC;QACA;UACAC,yEACAF,IADA,CACAG;YACA;cACA;cACA;YACA,CAHA,MAGA;cACA;YACA;UAEA,CATA,EASAC,KATA,CASAC;YACA;cAAAX;cAAAD;cAAAX;YAAA;UACA,CAXA;QAYA;MACA,CAjBA;IAkBA,CA3CA;;IAiDA;IAEAwB;MACA;QAAAhB;MAAA;IACA,CArDA;;IAyDA;IAEA;MACA,qFACAU,IADA,CACAG;QACA;MACA,CAHA,EAGAC,KAHA,CAGAC;QACA;QACAE;QACAC;UACAD;QACA,CAFA,EAEA,IAFA;MAGA,CATA;IAUA;;EAtEA,CAtBA;;EAkGAE;IACA;EACA;;AApGA","names":["name","data","search","dialogDelete","headers","text","value","sortable","validateProgrammeImmobilier","programmeImmobilierList","methods","validerProgrammeImmobilier","localStorage","path","modifierProgrammeImmobilier","supprimerProgrammeImmobilier","title","icon","showCancelButton","confirmButtonColor","cancelButtonColor","cancelButtonText","confirmButtonText","then","result","axios","response","catch","e","creerNouveauProgrammeImmobilier","$","setTimeout","mounted"],"sourceRoot":"src/components/espace_promoteur","sources":["SelectionnerProgrammeImmobilier.vue"],"sourcesContent":["<template>\n\n    <v-app>\n\n        <v-container> \n          \n            <v-btn text color=\"blue\" @click=\"creerNouveauProgrammeImmobilier\"><v-icon>mdi-plus</v-icon>NOUVEAU PROGRAMME</v-btn>\n\n            <v-spacer></v-spacer>\n\n            <v-card>\n\n                <v-card-title>PROGRAMMES IMMOBILIERS   \n                <v-spacer></v-spacer>\n\n                <v-text-field v-model=\"search\" append-icon=\"mdi-magnify\" label=\"Search\" single-line hide-details></v-text-field></v-card-title>\n\n                <v-data-table :headers=\"headers\" :loading=\"programmeImmobilierList.length < 0\" :items=\"programmeImmobilierList\" :search=\"search\">\n                    <template v-slot:[`item.estValide`]=\"{ item }\">\n                        <v-chip v-if=\"item.estValide == true\" color=\"green\" text-color=\"white\" class=\"mr-2\">valide</v-chip>\n                        <v-chip v-else-if=\"item.estValide == false\" color=\"red\" text-color=\"white\" class=\"mr-2\">Non valide</v-chip>\n                        <v-chip v-else color=\"blue\" text-color=\"white\" class=\"mr-2\">Aucune décision</v-chip>\n                    </template>\n\n                    <template v-slot:[`item.actions`]=\"{ item }\">\n                        <v-icon title=\"editer\" color=\"blue\" small class=\"mr-2\" @click=\"modifierProgrammeImmobilier(item)\">mdi-pencil</v-icon>\n                        <v-icon title=\"valider\" color=\"green\" small class=\"mr-2\" @click=\"validateProgrammeImmobilier(item)\">mdi-sync</v-icon>\n                        <v-icon title=\"supprimer\" color=\"red\" small class=\"mr-2\" @click=\"supprimerProgrammeImmobilier(item)\">mdi-delete</v-icon>\n                    </template>\n                </v-data-table>\n            </v-card>\n        </v-container>\n    </v-app>\n\n</template>\n\n\n<script>\n\n    import axios from \"axios\";\n    import $ from 'jquery'\n    import { API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER_PAR_PROMOTEUR, API_SUPPRIMER_PROGRAMME_IMMOBILIER } from '../globalConfig/globalConfig';\n\n    export default {\n        name : \"SelectionnerProgrammeImmobilier\",\n        data(){\n\n            return{\n                search:'',\n                dialogDelete: false,\n                headers:[\n                    { text : 'Code' , value: 'code' },\n                    { text : 'Designation' , value : 'designation' },\n                    { text : 'Ville'  , value : 'ville.designation'},\n                    { text : 'Valide' , value : 'estValide' },\n                    { text : 'Actions' , value : 'actions' , sortable : false }\n                ],\n                validateProgrammeImmobilier : true,\n                programmeImmobilierList: [],\n\n            }\n\n        },\n\n        \n        methods: {\n\n            // VALIDER UN PROGRAMME IMMOBILIER\n\n            validerProgrammeImmobilier(programmeImmobilier){\n                var parsedProgramme = JSON.stringify(programmeImmobilier);\n                localStorage.setItem('programmeImmobilier', parsedProgramme);\n                localStorage.setItem('modeValidate' , this.validateProgrammeImmobilier)\n                this.$router.push({ path: '/CreerModifierProgrammeImmobilier'});\n            },\n\n\n            //MODIFICATION D'UN PROGRAMME IMMOBILIER\n\n            modifierProgrammeImmobilier(programmeImmobilier) {\n                const parsedProgramme = JSON.stringify(programmeImmobilier);\n                localStorage.setItem(\"programmeImmobilier\", parsedProgramme);\n                this.$router.push({ path: \"/CreerModifierProgrammeImmobilier\" });\n            },\n\n\n\n            // SUPPRIMER UN PROGRAMME IMMOBILIER\n\n            supprimerProgrammeImmobilier(programmeImmobilier){\n                this.$swal.fire({title: 'Confirmer ?',text: \"Cette action est irréversible\",icon: 'warning',showCancelButton: true,\n                    confirmButtonColor: '#3085d6',cancelButtonColor: '#d33',cancelButtonText: 'Annuler',confirmButtonText: 'Oui ,supprimer!'\n                }).then((result) =>{\n                    if(result.isConfirmed){\n                        axios.delete(API_SUPPRIMER_PROGRAMME_IMMOBILIER(programmeImmobilier.id))\n                        .then(response => {\n                            if (response.data.data == true) {\n                                this.$swal.fire('Supprimé!','Le programme immobilier, a bien ete supprimé.','success')\n                                this.ObtenirListeProgrammeImmobilier();\n                            } else {\n                                this.$swal.fire('Erreur!' , 'Echec de la suppression du programme immobilier.' , 'error')  \n                            }\n                    \n                        }).catch(e => {\n                            this.$swal.fire({ icon: 'error', title: 'Erreur...', text: e})\n                        })\n                    }\n                })\n            },\n\n            \n            \n\n\n            // NAVIGATION VERS LA PAGE DE CREATION D'UN NOUVEL PROGRAMME IMMOBILIER\n            \n            creerNouveauProgrammeImmobilier() {\n                this.$router.push({ path: \"/CreerModifierProgrammeImmobilier\" });\n            },\n\n            \n            \n            // OBTENIR LA LISTE DES PROGRAMMES IMMOBILIERS PAR PROMOTEUR\n\n            async ObtenirListeProgrammeImmobilier(){\n                await axios.get(API_OBTENIR_LISTE_PROGRAMME_IMMOBILIER_PAR_PROMOTEUR(\"promoteur01\"))\n                .then((response) => {\n                    this.programmeImmobilierList = response.data.data;\n                }).catch((e) => {\n                    this.errorMsg = e\n                    $(\".myAlert-bottom\").fadeIn();\n                    setTimeout(function(){\n                        $(\".myAlert-bottom\").fadeOut(); \n                    }, 4000)\n                });\n            }\n\n        },\n\n\n\n        mounted() {\n            this.ObtenirListeProgrammeImmobilier()\n        },\n\n    }\n</script>\n\n\n<style scoped>\n\n\n</style>"]}]}